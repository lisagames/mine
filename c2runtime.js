// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var ba,ca,da,ea,fa,ia,ja,ka,la,ma,na,oa,pa,qa,z,ta,ua,T,va,wa,ya,Aa,U,Ba,Ca,Da,Ea,Fa,X,Ga,Ha,Ia,Ja,Ka,La,Na,Oa,Pa,Qa,Ra,Ta,Va,Wa,Xa,Ya,Za,$a,ab,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec,fc={},gc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(f){return f.__proto__}:function(f){return f.constructor.prototype});
(function(){function f(a,c,b,h){this.set(a,c,b,h)}function t(){this.Hb=this.Gb=this.Jb=this.Ib=this.Tb=this.Sb=this.nb=this.mb=0}function m(a,c,b,h){a<c?b<h?(v=a<b?a:b,I=c>h?c:h):(v=a<h?a:h,I=c>b?c:b):b<h?(v=c<b?c:b,I=a>h?a:h):(v=c<h?c:h,I=a>b?a:b)}function p(){this.items=this.Td=null;this.ci=0;J&&(this.Td=new Set);this.mh=[];this.Oe=!0}function q(a){ga[ha++]=a}function u(){this.da=this.ml=this.y=this.Ol=0}function d(a){this.ua=[];this.pj=this.rj=this.sj=this.qj=0;this.Mi(a)}function a(a,c){this.$a=
a;this.ob=c;this.cells={}}function g(a,c){this.$a=a;this.ob=c;this.cells={}}function e(a,c,b){var h;return N.length?(h=N.pop(),h.Em=a,h.x=c,h.y=b,h):new ba(a,c,b)}function c(a,c,b){this.Em=a;this.x=c;this.y=b;this.rb=new ca}function b(a,c,b){var h;return M.length?(h=M.pop(),h.Em=a,h.x=c,h.y=b,h):new da(a,c,b)}function l(a,c,b){this.Em=a;this.x=c;this.y=b;this.rb=[];this.Lg=!0;this.Rd=new ca;this.sh=!1}function k(a,c){return a.Ed-c.Ed}ea=function(a){window.console&&window.console.log&&window.console.log(a)};
fa=function(a){window.console&&window.console.error&&window.console.error(a)};ia=function(a){return"undefined"===typeof a};ja=function(a){return"number"===typeof a};ka=function(a){return"string"===typeof a};la=function(a){return 0<a&&0===(a-1&a)};ma=function(a){--a;for(var c=1;32>c;c<<=1)a=a|a>>c;return a+1};na=function(a){return 0>a?-a:a};oa=function(a,c){return a>c?a:c};pa=function(a,c){return a<c?a:c};qa=Math.PI;z=function(a){return 0<=a?a|0:(a|0)-1};ta=function(a){var c=a|0;return c===a?c:c+1};
ua=function(a,c,b,h,k,e,l,g){var x,B,n,d;a<b?(B=a,x=b):(B=b,x=a);k<l?(d=k,n=l):(d=l,n=k);if(x<d||B>n)return!1;c<h?(B=c,x=h):(B=h,x=c);e<g?(d=e,n=g):(d=g,n=e);if(x<d||B>n)return!1;x=k-a+l-b;B=e-c+g-h;a=b-a;c=h-c;k=l-k;e=g-e;g=na(c*k-e*a);return na(k*B-e*x)>g?!1:na(a*B-c*x)<=g};f.prototype.set=function(a,c,b,h){this.left=a;this.top=c;this.right=b;this.bottom=h};f.prototype.zh=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};f.prototype.width=function(){return this.right-
this.left};f.prototype.height=function(){return this.bottom-this.top};f.prototype.offset=function(a,c){this.left+=a;this.top+=c;this.right+=a;this.bottom+=c;return this};f.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};f.prototype.Iw=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};f.prototype.Jw=function(a,c,b){return!(a.right+
c<this.left||a.bottom+b<this.top||a.left+c>this.right||a.top+b>this.bottom)};f.prototype.Lb=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};f.prototype.Eh=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};T=f;t.prototype.jg=function(a){this.mb=a.left;this.nb=a.top;this.Sb=a.right;this.Tb=a.top;this.Ib=a.right;this.Jb=a.bottom;this.Gb=a.left;this.Hb=a.bottom};t.prototype.bs=function(a,c){if(0===c)this.jg(a);else{var b=
Math.sin(c),h=Math.cos(c),k=a.left*b,e=a.top*b,l=a.right*b,b=a.bottom*b,g=a.left*h,x=a.top*h,B=a.right*h,h=a.bottom*h;this.mb=g-e;this.nb=x+k;this.Sb=B-e;this.Tb=x+l;this.Ib=B-b;this.Jb=h+l;this.Gb=g-b;this.Hb=h+k}};t.prototype.offset=function(a,c){this.mb+=a;this.nb+=c;this.Sb+=a;this.Tb+=c;this.Ib+=a;this.Jb+=c;this.Gb+=a;this.Hb+=c;return this};var v=0,I=0;t.prototype.wp=function(a){m(this.mb,this.Sb,this.Ib,this.Gb);a.left=v;a.right=I;m(this.nb,this.Tb,this.Jb,this.Hb);a.top=v;a.bottom=I};t.prototype.Lb=
function(a,c){var b=this.mb,h=this.nb,k=this.Sb-b,e=this.Tb-h,l=this.Ib-b,g=this.Jb-h,x=a-b,B=c-h,n=k*k+e*e,d=k*l+e*g,e=k*x+e*B,r=l*l+g*g,f=l*x+g*B,w=1/(n*r-d*d),k=(r*e-d*f)*w,n=(n*f-d*e)*w;if(0<=k&&0<n&&1>k+n)return!0;k=this.Gb-b;e=this.Hb-h;n=k*k+e*e;d=k*l+e*g;e=k*x+e*B;w=1/(n*r-d*d);k=(r*e-d*f)*w;n=(n*f-d*e)*w;return 0<=k&&0<n&&1>k+n};t.prototype.Me=function(a,c){if(c)switch(a){case 0:return this.mb;case 1:return this.Sb;case 2:return this.Ib;case 3:return this.Gb;case 4:return this.mb;default:return this.mb}else switch(a){case 0:return this.nb;
case 1:return this.Tb;case 2:return this.Jb;case 3:return this.Hb;case 4:return this.nb;default:return this.nb}};t.prototype.$q=function(){return(this.mb+this.Sb+this.Ib+this.Gb)/4};t.prototype.br=function(){return(this.nb+this.Tb+this.Jb+this.Hb)/4};t.prototype.nq=function(a){var c=a.$q(),b=a.br();if(this.Lb(c,b))return!0;c=this.$q();b=this.br();if(a.Lb(c,b))return!0;var h,k,e,l,g,x,B,n;for(B=0;4>B;B++)for(n=0;4>n;n++)if(c=this.Me(B,!0),b=this.Me(B,!1),h=this.Me(B+1,!0),k=this.Me(B+1,!1),e=a.Me(n,
!0),l=a.Me(n,!1),g=a.Me(n+1,!0),x=a.Me(n+1,!1),ua(c,b,h,k,e,l,g,x))return!0;return!1};va=t;wa=function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a};ya=function(a,c){var b,h;c=z(c);if(!(0>c||c>=a.length)){b=c;for(h=a.length-1;b<h;b++)a[b]=a[b+1];Aa(a,h)}};Aa=function(a,c){a.length=c};U=function(a){Aa(a,0)};Ba=function(a,c){U(a);var b,h;b=0;for(h=c.length;b<h;++b)a[b]=c[b]};Ca=function(a,c){a.push.apply(a,c)};Da=function(a,c){var b,h;b=0;for(h=a.length;b<h;++b)if(a[b]===c)return b;
return-1};Ea=function(a,c){var b=Da(a,c);-1!==b&&ya(a,b)};Fa=function(a,c,b){return a<c?c:a>b?b:a};X=function(a){return a/(180/qa)};Ga=function(a){return 180/qa*a};Ha=function(a){a%=360;0>a&&(a+=360);return a};Ia=function(a){a%=2*qa;0>a&&(a+=2*qa);return a};Ja=function(a){return Ha(Ga(a))};Ka=function(a){return Ia(X(a))};La=function(a,c,b,h){return Math.atan2(h-c,b-a)};Na=function(a,c){if(a===c)return 0;var b=Math.sin(a),h=Math.cos(a),k=Math.sin(c),e=Math.cos(c),b=b*k+h*e;return 1<=b?0:-1>=b?qa:Math.acos(b)};
Oa=function(a,c,b){var h=Math.sin(a),k=Math.cos(a),e=Math.sin(c),l=Math.cos(c);return Math.acos(h*e+k*l)>b?0<k*e-h*l?Ia(a+b):Ia(a-b):Ia(c)};Pa=function(a,c){var b=Math.sin(a),h=Math.cos(a),k=Math.sin(c),e=Math.cos(c);return 0>=h*k-b*e};Qa=function(a,c,b,h,k,e){if(0===b)return e?a:c;var l=Math.sin(b);b=Math.cos(b);a-=h;c-=k;var n=a*l;a=a*b-c*l;c=c*b+n;return e?a+h:c+k};Ra=function(a,c,b,h){a=b-a;c=h-c;return Math.sqrt(a*a+c*c)};Ta=function(a,c){return!a!==!c};Va=function(a){for(var c in a)if(a.hasOwnProperty(c))return!0;
return!1};Wa=function(a){for(var c in a)a.hasOwnProperty(c)&&delete a[c]};var r=+new Date;Xa=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-r};var n=!1,h=n=!1,w=!1;"undefined"!==typeof window&&(n=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),
n=!n&&/safari/i.test(navigator.userAgent),h=/(iphone|ipod|ipad)/i.test(navigator.userAgent),w=window.c2ejecta);var J=!n&&!w&&!h&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;p.prototype.contains=function(a){return this.me()?!1:J?this.Td.has(a):this.items&&this.items.hasOwnProperty(a)};p.prototype.add=function(a){if(J)this.Td.has(a)||(this.Td.add(a),this.Oe=!1);else{var c=a.toString(),b=this.items;b?b.hasOwnProperty(c)||(b[c]=a,this.ci++,this.Oe=!1):(this.items={},this.items[c]=
a,this.ci=1,this.Oe=!1)}};p.prototype.remove=function(a){if(!this.me())if(J)this.Td.has(a)&&(this.Td["delete"](a),this.Oe=!1);else if(this.items){a=a.toString();var c=this.items;c.hasOwnProperty(a)&&(delete c[a],this.ci--,this.Oe=!1)}};p.prototype.clear=function(){this.me()||(J?this.Td.clear():(this.items=null,this.ci=0),U(this.mh),this.Oe=!0)};p.prototype.me=function(){return 0===this.count()};p.prototype.count=function(){return J?this.Td.size:this.ci};var ga=null,ha=0;p.prototype.iy=function(){if(!this.Oe){if(J)U(this.mh),
ga=this.mh,ha=0,this.Td.forEach(q),ga=null,ha=0;else{var a=this.mh;U(a);var c,b=0,h=this.items;if(h)for(c in h)h.hasOwnProperty(c)&&(a[b++]=h[c])}this.Oe=!0}};p.prototype.Xd=function(){this.iy();return this.mh};ca=p;var D=new ca;Ya=function(a){var c,b;c=0;for(b=a.length;c<b;++c)D.add(a[c]);Ba(a,D.Xd());D.clear()};Za=function(a,c){J?$a(a,c.Td):ab(a,c.Xd())};$a=function(a,c){var b,h,k,e;h=b=0;for(k=a.length;b<k;++b)e=a[b],c.has(e)||(a[h++]=e);Aa(a,h)};ab=function(a,c){var b,h,k,e;h=b=0;for(k=a.length;b<
k;++b)e=a[b],-1===Da(c,e)&&(a[h++]=e);Aa(a,h)};u.prototype.add=function(a){this.y=a-this.Ol;this.ml=this.da+this.y;this.Ol=this.ml-this.da-this.y;this.da=this.ml};u.prototype.reset=function(){this.da=this.ml=this.y=this.Ol=0};db=u;eb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};d.prototype.Mi=function(a){this.Lr=a;this.jc=a.length/2;this.ua.length=a.length;this.uj=this.vj=-1;this.zp=0};d.prototype.Ye=function(){return!this.Lr.length};d.prototype.W=function(){for(var a=this.ua,
c=a[0],b=c,h=a[1],k=h,e,l,n=1,x=this.jc;n<x;++n)l=2*n,e=a[l],l=a[l+1],e<c&&(c=e),e>b&&(b=e),l<h&&(h=l),l>k&&(k=l);this.qj=c;this.rj=b;this.sj=h;this.pj=k};d.prototype.jg=function(a,c,b){this.ua.length=8;this.jc=4;var h=this.ua;h[0]=a.left-c;h[1]=a.top-b;h[2]=a.right-c;h[3]=a.top-b;h[4]=a.right-c;h[5]=a.bottom-b;h[6]=a.left-c;h[7]=a.bottom-b;this.vj=a.right-a.left;this.uj=a.bottom-a.top;this.W()};d.prototype.sf=function(a,c,b,h,k){this.ua.length=8;this.jc=4;var e=this.ua;e[0]=a.mb-c;e[1]=a.nb-b;e[2]=
a.Sb-c;e[3]=a.Tb-b;e[4]=a.Ib-c;e[5]=a.Jb-b;e[6]=a.Gb-c;e[7]=a.Hb-b;this.vj=h;this.uj=k;this.W()};d.prototype.as=function(a){this.jc=a.jc;Ba(this.ua,a.ua);this.qj=a.qj;this.sj-a.sj;this.rj=a.rj;this.pj=a.pj};d.prototype.$d=function(a,c,b){if(this.vj!==a||this.uj!==c||this.zp!==b){this.vj=a;this.uj=c;this.zp=b;var h,k,e,l,n,x=0,B=1,g=this.Lr,d=this.ua;0!==b&&(x=Math.sin(b),B=Math.cos(b));b=0;for(e=this.jc;b<e;b++)h=2*b,k=h+1,l=g[h]*a,n=g[k]*c,d[h]=l*B-n*x,d[k]=n*B+l*x;this.W()}};d.prototype.Lb=function(a,
c){var b=this.ua;if(a===b[0]&&c===b[1])return!0;var h,k,e,l=this.jc,n=this.qj-110,x=this.sj-101,B=this.rj+131,g=this.pj+120,d,r,f=0,w=0;for(h=0;h<l;h++)k=2*h,e=(h+1)%l*2,d=b[k],k=b[k+1],r=b[e],e=b[e+1],ua(n,x,a,c,d,k,r,e)&&f++,ua(B,g,a,c,d,k,r,e)&&w++;return 1===f%2||1===w%2};d.prototype.Sh=function(a,c,b){var h=a.ua,k=this.ua;if(this.Lb(h[0]+c,h[1]+b)||a.Lb(k[0]-c,k[1]-b))return!0;var e,l,n,x,B,g,d,r,f,w,v,J;e=0;for(x=this.jc;e<x;e++)for(l=2*e,n=(e+1)%x*2,r=k[l],l=k[l+1],f=k[n],w=k[n+1],n=0,d=a.jc;n<
d;n++)if(B=2*n,g=(n+1)%d*2,v=h[B]+c,B=h[B+1]+b,J=h[g]+c,g=h[g+1]+b,ua(r,l,f,w,v,B,J,g))return!0;return!1};d.prototype.bx=function(a){var c,b,h;c=0;for(b=this.jc;c<b;++c)h=2*c,this.ua[h]=2*a-this.ua[h]};d.prototype.Ov=function(a){var c,b,h;c=0;for(b=this.jc;c<b;++c)h=2*c+1,this.ua[h]=2*a-this.ua[h]};d.prototype.Eu=function(){var a,c,b,h,k;a=0;for(c=this.jc;a<c;++a)b=2*a,h=b+1,k=this.ua[b],this.ua[b]=this.ua[h],this.ua[h]=k};fb=d;a.prototype.Ve=function(a,c,b){var h;h=this.cells[a];return h?(h=h[c])?
h:b?(h=e(this,a,c),this.cells[a][c]=h):null:b?(h=e(this,a,c),this.cells[a]={},this.cells[a][c]=h):null};a.prototype.$b=function(a){return z(a/this.$a)};a.prototype.ac=function(a){return z(a/this.ob)};a.prototype.update=function(a,c,b){var h,k,e,l,n;if(c)for(h=c.left,k=c.right;h<=k;++h)for(e=c.top,l=c.bottom;e<=l;++e)if(!b||!b.Lb(h,e))if(n=this.Ve(h,e,!1))n.remove(a),n.me()&&(n.rb.clear(),1E3>N.length&&N.push(n),this.cells[h][e]=null);if(b)for(h=b.left,k=b.right;h<=k;++h)for(e=b.top,l=b.bottom;e<=
l;++e)c&&c.Lb(h,e)||this.Ve(h,e,!0).Om(a)};a.prototype.Wk=function(a,c){var b,h,k,e,l,n;b=this.$b(a.left);k=this.ac(a.top);h=this.$b(a.right);for(l=this.ac(a.bottom);b<=h;++b)for(e=k;e<=l;++e)(n=this.Ve(b,e,!1))&&n.dump(c)};gb=a;g.prototype.Ve=function(a,c,h){var k;k=this.cells[a];return k?(k=k[c])?k:h?(k=b(this,a,c),this.cells[a][c]=k):null:h?(k=b(this,a,c),this.cells[a]={},this.cells[a][c]=k):null};g.prototype.$b=function(a){return z(a/this.$a)};g.prototype.ac=function(a){return z(a/this.ob)};g.prototype.update=
function(a,c,b){var h,k,e,l,n;if(c)for(h=c.left,k=c.right;h<=k;++h)for(e=c.top,l=c.bottom;e<=l;++e)if(!b||!b.Lb(h,e))if(n=this.Ve(h,e,!1))n.remove(a),n.me()&&(n.reset(),1E3>M.length&&M.push(n),this.cells[h][e]=null);if(b)for(h=b.left,k=b.right;h<=k;++h)for(e=b.top,l=b.bottom;e<=l;++e)c&&c.Lb(h,e)||this.Ve(h,e,!0).Om(a)};g.prototype.Wk=function(a,c,b,h,k){var e,l;a=this.$b(a);c=this.ac(c);b=this.$b(b);for(e=this.ac(h);a<=b;++a)for(h=c;h<=e;++h)(l=this.Ve(a,h,!1))&&l.dump(k)};g.prototype.Zw=function(a){var c,
b,h,k,e;c=a.left;h=a.top;b=a.right;for(k=a.bottom;c<=b;++c)for(a=h;a<=k;++a)if(e=this.Ve(c,a,!1))e.Lg=!1};hb=g;var N=[];c.prototype.me=function(){return this.rb.me()};c.prototype.Om=function(a){this.rb.add(a)};c.prototype.remove=function(a){this.rb.remove(a)};c.prototype.dump=function(a){Ca(a,this.rb.Xd())};ba=c;var M=[];l.prototype.me=function(){if(!this.rb.length)return!0;if(this.rb.length>this.Rd.count())return!1;this.lm();return!0};l.prototype.Om=function(a){this.Rd.contains(a)?(this.Rd.remove(a),
this.Rd.me()&&(this.sh=!1)):this.rb.length?(this.rb[this.rb.length-1].Md()>a.Md()&&(this.Lg=!1),this.rb.push(a)):(this.rb.push(a),this.Lg=!0)};l.prototype.remove=function(a){this.Rd.add(a);this.sh=!0;30<=this.Rd.count()&&this.lm()};l.prototype.lm=function(){this.sh&&(this.Rd.count()===this.rb.length?this.reset():(Za(this.rb,this.Rd),this.Rd.clear(),this.sh=!1))};l.prototype.gv=function(){this.Lg||(this.rb.sort(k),this.Lg=!0)};l.prototype.reset=function(){U(this.rb);this.Lg=!0;this.Rd.clear();this.sh=
!1};l.prototype.dump=function(a){this.lm();this.gv();this.rb.length&&a.push(this.rb)};da=l;var K="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");ib=function(a){return 0>=a||11<=a?"source-over":K[a-1]};jb=function(a,c,b){if(b)switch(a.Qb=b.ONE,a.Mb=b.ONE_MINUS_SRC_ALPHA,c){case 1:a.Qb=b.ONE;a.Mb=b.ONE;break;case 3:a.Qb=b.ONE;a.Mb=b.ZERO;break;case 4:a.Qb=b.ONE_MINUS_DST_ALPHA;a.Mb=b.ONE;break;case 5:a.Qb=b.DST_ALPHA;a.Mb=
b.ZERO;break;case 6:a.Qb=b.ZERO;a.Mb=b.SRC_ALPHA;break;case 7:a.Qb=b.ONE_MINUS_DST_ALPHA;a.Mb=b.ZERO;break;case 8:a.Qb=b.ZERO;a.Mb=b.ONE_MINUS_SRC_ALPHA;break;case 9:a.Qb=b.DST_ALPHA;a.Mb=b.ONE_MINUS_SRC_ALPHA;break;case 10:a.Qb=b.ONE_MINUS_DST_ALPHA,a.Mb=b.SRC_ALPHA}};kb=function(a){return Math.round(1E6*a)/1E6};lb=function(a,c){return"string"!==typeof a||"string"!==typeof c||a.length!==c.length?!1:a===c?!0:a.toLowerCase()===c.toLowerCase()};mb=function(a){a=a.target;return!a||a===document||a===
window||document&&document.body&&a===document.body||lb(a.tagName,"canvas")?!0:!1}})();var hc="undefined"!==typeof Float32Array?Float32Array:Array;function ic(f){var t=new hc(3);f&&(t[0]=f[0],t[1]=f[1],t[2]=f[2]);return t}function jc(f){var t=new hc(16);f&&(t[0]=f[0],t[1]=f[1],t[2]=f[2],t[3]=f[3],t[4]=f[4],t[5]=f[5],t[6]=f[6],t[7]=f[7],t[8]=f[8],t[9]=f[9],t[10]=f[10],t[11]=f[11],t[12]=f[12],t[13]=f[13],t[14]=f[14],t[15]=f[15]);return t}
function kc(f,t){t[0]=f[0];t[1]=f[1];t[2]=f[2];t[3]=f[3];t[4]=f[4];t[5]=f[5];t[6]=f[6];t[7]=f[7];t[8]=f[8];t[9]=f[9];t[10]=f[10];t[11]=f[11];t[12]=f[12];t[13]=f[13];t[14]=f[14];t[15]=f[15]}function lc(f,t){var m=t[0],p=t[1];t=t[2];f[0]*=m;f[1]*=m;f[2]*=m;f[3]*=m;f[4]*=p;f[5]*=p;f[6]*=p;f[7]*=p;f[8]*=t;f[9]*=t;f[10]*=t;f[11]*=t}
function mc(f,t,m,p){p||(p=jc());var q,u,d,a,g,e,c,b,l=f[0],k=f[1];f=f[2];u=m[0];d=m[1];q=m[2];m=t[1];e=t[2];l===t[0]&&k===m&&f===e?(f=p,f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1):(m=l-t[0],e=k-t[1],c=f-t[2],b=1/Math.sqrt(m*m+e*e+c*c),m*=b,e*=b,c*=b,t=d*c-q*e,q=q*m-u*c,u=u*e-d*m,(b=Math.sqrt(t*t+q*q+u*u))?(b=1/b,t*=b,q*=b,u*=b):u=q=t=0,d=e*u-c*q,a=c*t-m*u,g=m*q-e*t,(b=Math.sqrt(d*d+a*a+g*g))?(b=1/b,d*=b,a*=b,g*=b):g=a=d=0,
p[0]=t,p[1]=d,p[2]=m,p[3]=0,p[4]=q,p[5]=a,p[6]=e,p[7]=0,p[8]=u,p[9]=g,p[10]=c,p[11]=0,p[12]=-(t*l+q*k+u*f),p[13]=-(d*l+a*k+g*f),p[14]=-(m*l+e*k+c*f),p[15]=1)}
(function(){function f(a,g,e){this.ne=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.wa=!!e;this.ik=this.Uh=!1;this.Fj=0;this.Gl=1;this.Po=1E3;this.ty=(this.Po-this.Gl)/32768;this.Ql=ic([0,0,100]);this.Iq=ic([0,0,0]);this.Js=ic([0,1,0]);this.fj=ic([1,1,1]);this.Op=!0;this.Ck=jc();this.Mc=jc();this.bn=jc();this.Zl=jc();this.u=a;this.version=0===this.u.getParameter(this.u.VERSION).indexOf("WebGL 2")?2:1;this.jq()}function t(a,g,e){this.u=a;this.Ni=
g;this.name=e;this.Yc=a.getAttribLocation(g,"aPos");this.gf=a.getAttribLocation(g,"aTex");this.Gq=a.getUniformLocation(g,"matP");this.yk=a.getUniformLocation(g,"matMV");this.Tg=a.getUniformLocation(g,"opacity");this.pn=a.getUniformLocation(g,"colorFill");this.Hq=a.getUniformLocation(g,"samplerFront");this.mi=a.getUniformLocation(g,"samplerBack");this.bg=a.getUniformLocation(g,"destStart");this.ag=a.getUniformLocation(g,"destEnd");this.oi=a.getUniformLocation(g,"seconds");this.rn=a.getUniformLocation(g,
"pixelWidth");this.qn=a.getUniformLocation(g,"pixelHeight");this.li=a.getUniformLocation(g,"layerScale");this.ki=a.getUniformLocation(g,"layerAngle");this.pi=a.getUniformLocation(g,"viewOrigin");this.ni=a.getUniformLocation(g,"scrollPos");this.Dw=!!(this.rn||this.qn||this.oi||this.mi||this.bg||this.ag||this.li||this.ki||this.pi||this.ni);this.Qq=this.Rq=-999;this.Bk=1;this.Mq=this.Lq=0;this.Oq=this.Kq=this.Jq=1;this.Uq=this.Tq=this.Sq=this.Wq=this.Vq=this.Nq=0;this.an=[];this.Pq=jc();this.Tg&&a.uniform1f(this.Tg,
1);this.pn&&a.uniform4f(this.pn,1,1,1,1);this.Hq&&a.uniform1i(this.Hq,0);this.mi&&a.uniform1i(this.mi,1);this.bg&&a.uniform2f(this.bg,0,0);this.ag&&a.uniform2f(this.ag,1,1);this.li&&a.uniform1f(this.li,1);this.ki&&a.uniform1f(this.ki,0);this.pi&&a.uniform2f(this.pi,0,0);this.ni&&a.uniform2f(this.ni,0,0);this.oi&&a.uniform1f(this.oi,0);this.Pf=!1}function m(a,g){return a[0]===g[0]&&a[1]===g[1]&&a[2]===g[2]&&a[3]===g[3]&&a[4]===g[4]&&a[5]===g[5]&&a[6]===g[6]&&a[7]===g[7]&&a[8]===g[8]&&a[9]===g[9]&&
a[10]===g[10]&&a[11]===g[11]&&a[12]===g[12]&&a[13]===g[13]&&a[14]===g[14]&&a[15]===g[15]}function p(a,g){this.type=a;this.p=g;this.u=g.u;this.Hc=this.Rb=this.sr=0;this.T=this.ed=null;this.cs=[]}var q=jc();f.prototype.jq=function(){var a=this.u,g;this.Aq=1;this.Wf=this.$e=null;this.Ej=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.wa?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):
a.disable(a.DEPTH_TEST);this.Bq=a.ONE;this.xq=a.ONE_MINUS_SRC_ALPHA;this.ej=new Float32Array(8E3*(this.wa?3:2));this.Wi=new Float32Array(16E3);this.Gr=new Float32Array(32E3);this.Nn=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Nn);a.bufferData(a.ARRAY_BUFFER,this.Gr.byteLength,a.DYNAMIC_DRAW);this.cj=Array(4);this.Vi=Array(4);for(g=0;4>g;g++)this.cj[g]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.cj[g]),a.bufferData(a.ARRAY_BUFFER,this.ej.byteLength,a.DYNAMIC_DRAW),this.Vi[g]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.Vi[g]),a.bufferData(a.ARRAY_BUFFER,this.Wi.byteLength,a.DYNAMIC_DRAW);this.be=0;this.Gw=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Gw);for(var e=new Uint16Array(12E3),c=g=0;12E3>g;)e[g++]=c,e[g++]=c+1,e[g++]=c+2,e[g++]=c,e[g++]=c+2,e[g++]=c+3,c+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,e,a.STATIC_DRAW);this.On=this.vf=this.gd=0;this.Pa=[];g=this.wa?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";e=this.Ah({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},g,"<default>");this.Pa.push(e);e=this.Ah({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Pa.push(e);e=this.Ah({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},g,"<earlyz>");this.Pa.push(e);e=this.Ah({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
g,"<fill>");this.Pa.push(e);for(var b in nc)nc.hasOwnProperty(b)&&this.Pa.push(this.Ah(nc[b],g,b));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Hd=[];this.md=0;this.pb=!1;this.Jp=this.ei=-1;this.xg=null;this.km=a.createFramebuffer();this.Jj=this.Xk=null;this.up=!1;this.wa&&(this.Jj=a.createRenderbuffer());this.xf=ic([0,0,0]);this.Xq=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Xq&&(this.Xq=2048);this.oc(0)};t.prototype.Fo=function(a){m(this.Pq,a)||(kc(a,this.Pq),this.u.uniformMatrix4fv(this.yk,
!1,a))};f.prototype.Ah=function(a,g,e){var c=this.u,b=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(b,a.src);c.compileShader(b);if(!c.getShaderParameter(b,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(b),c.deleteShader(b),Error("error compiling fragment shader: "+a);var l=c.createShader(c.VERTEX_SHADER);c.shaderSource(l,g);c.compileShader(l);if(!c.getShaderParameter(l,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(l),c.deleteShader(b),c.deleteShader(l),Error("error compiling vertex shader: "+a);g=
c.createProgram();c.attachShader(g,b);c.attachShader(g,l);c.linkProgram(g);if(!c.getProgramParameter(g,c.LINK_STATUS))throw a=c.getProgramInfoLog(g),c.deleteShader(b),c.deleteShader(l),c.deleteProgram(g),Error("error linking shader program: "+a);c.useProgram(g);c.deleteShader(b);c.deleteShader(l);b=new t(c,g,e);b.im=a.im||0;b.jm=a.jm||0;b.Ip=!!a.Ip;b.vd=!!a.vd;b.rp=!!a.rp;b.U=a.U||[];a=0;for(l=b.U.length;a<l;a++)b.U[a][1]=c.getUniformLocation(g,b.U[a][0]),b.an.push(0),c.uniform1f(b.U[a][1],0);return b};
f.prototype.Am=function(a){var g,e;g=0;for(e=this.Pa.length;g<e;g++)if(this.Pa[g].name===a)return g;return-1};f.prototype.Kr=function(a,g,e){var c=this.Mc,b=this.Ck,l=[0,0,0,0,0,0,0,0];l[0]=c[0]*a+c[4]*g+c[12];l[1]=c[1]*a+c[5]*g+c[13];l[2]=c[2]*a+c[6]*g+c[14];l[3]=c[3]*a+c[7]*g+c[15];l[4]=b[0]*l[0]+b[4]*l[1]+b[8]*l[2]+b[12]*l[3];l[5]=b[1]*l[0]+b[5]*l[1]+b[9]*l[2]+b[13]*l[3];l[6]=b[2]*l[0]+b[6]*l[1]+b[10]*l[2]+b[14]*l[3];l[7]=-l[2];0!==l[7]&&(l[7]=1/l[7],l[4]*=l[7],l[5]*=l[7],l[6]*=l[7],e[0]=(.5*l[4]+
.5)*this.width,e[1]=(.5*l[5]+.5)*this.height)};f.prototype.ig=function(a,g,e){if(this.width!==a||this.height!==g||e){this.ge();e=this.u;this.width=a;this.height=g;e.viewport(0,0,a,g);mc(this.Ql,this.Iq,this.Js,this.Mc);if(this.wa){var c=-a/2;a=a/2;var b=g/2;g=-g/2;var l=this.Gl,k=this.Po,d=this.Ck;d||(d=jc());var f=a-c,r=g-b,n=k-l;d[0]=2/f;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/r;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=-2/n;d[11]=0;d[12]=-(c+a)/f;d[13]=-(g+b)/r;d[14]=-(k+l)/n;d[15]=1;this.fj[0]=1;this.fj[1]=
1}else g=a/g,c=this.Gl,a=this.Po,d=this.Ck,k=c*Math.tan(45*Math.PI/360),g*=k,b=-g,l=-k,d||(d=jc()),f=g-b,r=k-l,n=a-c,d[0]=2*c/f,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=2*c/r,d[6]=0,d[7]=0,d[8]=(g+b)/f,d[9]=(k+l)/r,d[10]=-(a+c)/n,d[11]=-1,d[12]=0,d[13]=0,d[14]=-(a*c*2)/n,d[15]=0,c=[0,0],a=[0,0],this.Kr(0,0,c),this.Kr(1,1,a),this.fj[0]=1/(a[0]-c[0]),this.fj[1]=-1/(a[1]-c[1]);c=0;for(a=this.Pa.length;c<a;c++)b=this.Pa[c],b.Pf=!1,b.Gq&&(e.useProgram(b.Ni),e.uniformMatrix4fv(b.Gq,!1,this.Ck));e.useProgram(this.Pa[this.ei].Ni);
e.bindTexture(e.TEXTURE_2D,null);e.activeTexture(e.TEXTURE1);e.bindTexture(e.TEXTURE_2D,null);e.activeTexture(e.TEXTURE0);this.Wf=this.$e=null;this.Jj&&(e.bindFramebuffer(e.FRAMEBUFFER,this.km),e.bindRenderbuffer(e.RENDERBUFFER,this.Jj),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,this.width,this.height),this.up||(e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this.Jj),this.up=!0),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),
this.Xk=null)}};f.prototype.ad=function(){mc(this.Ql,this.Iq,this.Js,this.Mc);lc(this.Mc,this.fj)};f.prototype.translate=function(a,g){if(0!==a||0!==g){this.xf[0]=a;this.xf[1]=g;this.xf[2]=0;var e=this.Mc,c=this.xf,b=c[0],l=c[1],c=c[2];e[12]=e[0]*b+e[4]*l+e[8]*c+e[12];e[13]=e[1]*b+e[5]*l+e[9]*c+e[13];e[14]=e[2]*b+e[6]*l+e[10]*c+e[14];e[15]=e[3]*b+e[7]*l+e[11]*c+e[15]}};f.prototype.scale=function(a,g){if(1!==a||1!==g)this.xf[0]=a,this.xf[1]=g,this.xf[2]=1,lc(this.Mc,this.xf)};f.prototype.Zk=function(a){if(0!==
a){var g=this.Mc,e,c=Math.sin(a);a=Math.cos(a);var b=g[0],l=g[1],k=g[2],d=g[3],f=g[4],r=g[5],n=g[6],h=g[7];e?g!==e&&(e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]):e=g;e[0]=b*a+f*c;e[1]=l*a+r*c;e[2]=k*a+n*c;e[3]=d*a+h*c;e[4]=b*-c+f*a;e[5]=l*-c+r*a;e[6]=k*-c+n*a;e[7]=d*-c+h*a}};f.prototype.Qc=function(){if(!m(this.bn,this.Mc)){var a=this.kc();a.type=5;a.T?kc(this.Mc,a.T):a.T=jc(this.Mc);kc(this.Mc,this.bn);this.pb=!1}};f.prototype.cl=function(a){this.wa&&
(32760<a&&(a=32760),this.Fj=this.Ql[2]-this.Gl-a*this.ty)};p.prototype.Pu=function(){var a=this.u,g=this.p;0!==this.Rb?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,g.km),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),g.ik=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),g.ik=!1)};p.prototype.Tu=function(){this.u.bindTexture(this.u.TEXTURE_2D,
this.ed)};p.prototype.Uu=function(){var a=this.u;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.ed);a.activeTexture(a.TEXTURE0)};p.prototype.Qu=function(){var a=this.sr,g=this.p;g.Ej=a;g=g.xg;g.Tg&&g.Bk!==a&&(g.Bk=a,this.u.uniform1f(g.Tg,a))};p.prototype.Ku=function(){this.u.drawElements(this.u.TRIANGLES,this.Hc,this.u.UNSIGNED_SHORT,this.Rb)};p.prototype.Mu=function(){this.u.blendFunc(this.Rb,this.Hc)};p.prototype.Vu=function(){var a,g,e,c=this.p.Pa,b=this.p.Jp;a=0;for(g=c.length;a<
g;a++)e=c[a],a===b&&e.yk?(e.Fo(this.T),e.Pf=!0):e.Pf=!1;kc(this.T,this.p.Zl)};p.prototype.Lu=function(){var a=this.u,g=this.p;this.ed?(g.Wf===this.ed&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),g.Wf=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,g.km),g.ik||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.ed,0)):(g.wa||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};
p.prototype.Hu=function(){var a=this.u,g=this.Rb;0===g?(a.clearColor(this.T[0],this.T[1],this.T[2],this.T[3]),a.clear(a.COLOR_BUFFER_BIT)):1===g?(a.enable(a.SCISSOR_TEST),a.scissor(this.T[0],this.T[1],this.T[2],this.T[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};p.prototype.Ou=function(){var a=this.u;0!==this.Rb?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};p.prototype.Ju=function(){var a=this.u,g=this.p;g.wa&&a.disable(a.DEPTH_TEST);
var e=g.Pa[1];a.useProgram(e.Ni);!e.Pf&&e.yk&&(e.Fo(g.Zl),e.Pf=!0);a.enableVertexAttribArray(e.Yc);a.bindBuffer(a.ARRAY_BUFFER,g.Nn);a.vertexAttribPointer(e.Yc,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Rb/4,this.Hc);e=g.xg;a.useProgram(e.Ni);0<=e.Yc&&(a.enableVertexAttribArray(e.Yc),a.bindBuffer(a.ARRAY_BUFFER,g.cj[g.be]),a.vertexAttribPointer(e.Yc,g.wa?3:2,a.FLOAT,!1,0,0));0<=e.gf&&(a.enableVertexAttribArray(e.gf),a.bindBuffer(a.ARRAY_BUFFER,g.Vi[g.be]),a.vertexAttribPointer(e.gf,2,a.FLOAT,!1,
0,0));g.wa&&a.enable(a.DEPTH_TEST)};p.prototype.Ru=function(){var a=this.u,g=this.p,e=g.Pa[this.Rb];g.Jp=this.Rb;g.xg=e;a.useProgram(e.Ni);!e.Pf&&e.yk&&(e.Fo(g.Zl),e.Pf=!0);e.Tg&&e.Bk!==g.Ej&&(e.Bk=g.Ej,a.uniform1f(e.Tg,g.Ej));0<=e.Yc&&(a.enableVertexAttribArray(e.Yc),a.bindBuffer(a.ARRAY_BUFFER,g.cj[g.be]),a.vertexAttribPointer(e.Yc,g.wa?3:2,a.FLOAT,!1,0,0));0<=e.gf&&(a.enableVertexAttribArray(e.gf),a.bindBuffer(a.ARRAY_BUFFER,g.Vi[g.be]),a.vertexAttribPointer(e.gf,2,a.FLOAT,!1,0,0))};p.prototype.Nu=
function(){var a=this.T;this.u.uniform4f(this.p.xg.pn,a[0],a[1],a[2],a[3])};p.prototype.Su=function(){var a,g,e=this.p.xg,c=this.u;a=this.T;e.mi&&this.p.Wf!==this.ed&&(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,this.ed),this.p.Wf=this.ed,c.activeTexture(c.TEXTURE0));var b=a[0];e.rn&&b!==e.Rq&&(e.Rq=b,c.uniform1f(e.rn,b));b=a[1];e.qn&&b!==e.Qq&&(e.Qq=b,c.uniform1f(e.qn,b));b=a[2];g=a[3];!e.bg||b===e.Lq&&g===e.Mq||(e.Lq=b,e.Mq=g,c.uniform2f(e.bg,b,g));b=a[4];g=a[5];!e.ag||b===e.Jq&&g===
e.Kq||(e.Jq=b,e.Kq=g,c.uniform2f(e.ag,b,g));b=a[6];e.li&&b!==e.Oq&&(e.Oq=b,c.uniform1f(e.li,b));b=a[7];e.ki&&b!==e.Nq&&(e.Nq=b,c.uniform1f(e.ki,b));b=a[8];g=a[9];!e.pi||b===e.Vq&&g===e.Wq||(e.Vq=b,e.Wq=g,c.uniform2f(e.pi,b,g));b=a[10];g=a[11];!e.ni||b===e.Sq&&g===e.Tq||(e.Sq=b,e.Tq=g,c.uniform2f(e.ni,b,g));b=a[12];e.oi&&b!==e.Uq&&(e.Uq=b,c.uniform1f(e.oi,b));if(e.U.length)for(a=0,g=e.U.length;a<g;a++)b=this.cs[a],b!==e.an[a]&&(e.an[a]=b,c.uniform1f(e.U[a][1],b))};f.prototype.kc=function(){this.md===
this.Hd.length&&this.Hd.push(new p(0,this));return this.Hd[this.md++]};f.prototype.ge=function(){if(0!==this.md&&!this.u.isContextLost()){var a=this.u;0<this.On&&(a.bindBuffer(a.ARRAY_BUFFER,this.Nn),a.bufferSubData(a.ARRAY_BUFFER,0,this.Gr.subarray(0,this.On)),g&&0<=g.Yc&&"<point>"===g.name&&a.vertexAttribPointer(g.Yc,4,a.FLOAT,!1,0,0));if(0<this.gd){var g=this.xg;a.bindBuffer(a.ARRAY_BUFFER,this.cj[this.be]);a.bufferSubData(a.ARRAY_BUFFER,0,this.ej.subarray(0,this.gd));g&&0<=g.Yc&&"<point>"!==g.name&&
a.vertexAttribPointer(g.Yc,this.wa?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Vi[this.be]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Wi.subarray(0,this.vf));g&&0<=g.gf&&"<point>"!==g.name&&a.vertexAttribPointer(g.gf,2,a.FLOAT,!1,0,0)}for(var e,a=0,g=this.md;a<g;a++)switch(e=this.Hd[a],e.type){case 1:e.Ku();break;case 2:e.Tu();break;case 3:e.Qu();break;case 4:e.Mu();break;case 5:e.Vu();break;case 6:e.Lu();break;case 7:e.Hu();break;case 8:e.Ju();break;case 9:e.Ru();break;case 10:e.Su();break;
case 11:e.Uu();break;case 12:e.Nu();break;case 13:e.Ou();break;case 14:e.Pu()}this.On=this.vf=this.gd=this.md=0;this.ik=this.pb=!1;this.be++;4<=this.be&&(this.be=0)}};f.prototype.ze=function(a){if(a!==this.Aq&&!this.Uh){var g=this.kc();g.type=3;this.Aq=g.sr=a;this.pb=!1}};f.prototype.Wa=function(a){if(a!==this.$e){var g=this.kc();g.type=2;this.$e=g.ed=a;this.pb=!1}};f.prototype.rf=function(a,g){if((a!==this.Bq||g!==this.xq)&&!this.Uh){var e=this.kc();e.type=4;e.Rb=a;e.Hc=g;this.Bq=a;this.xq=g;this.pb=
!1}};f.prototype.Sr=function(){this.rf(this.u.ONE,this.u.ONE_MINUS_SRC_ALPHA)};f.prototype.gg=function(a,g,e,c,b,l,k,d){15992<=this.gd&&this.ge();var f=this.gd,r=this.vf,n=this.ej,h=this.Wi,w=this.Fj;if(this.pb)this.Hd[this.md-1].Hc+=6;else{var J=this.kc();J.type=1;J.Rb=this.wa?f:f/2*3;J.Hc=6;this.pb=!0}this.wa?(n[f++]=a,n[f++]=g,n[f++]=w,n[f++]=e,n[f++]=c,n[f++]=w,n[f++]=b,n[f++]=l,n[f++]=w,n[f++]=k,n[f++]=d,n[f++]=w):(n[f++]=a,n[f++]=g,n[f++]=e,n[f++]=c,n[f++]=b,n[f++]=l,n[f++]=k,n[f++]=d);h[r++]=
0;h[r++]=0;h[r++]=1;h[r++]=0;h[r++]=1;h[r++]=1;h[r++]=0;h[r++]=1;this.gd=f;this.vf=r};f.prototype.yd=function(a,g,e,c,b,l,k,d,f){15992<=this.gd&&this.ge();var r=this.gd,n=this.vf,h=this.ej,w=this.Wi,J=this.Fj;if(this.pb)this.Hd[this.md-1].Hc+=6;else{var m=this.kc();m.type=1;m.Rb=this.wa?r:r/2*3;m.Hc=6;this.pb=!0}var m=f.left,t=f.top,q=f.right;f=f.bottom;this.wa?(h[r++]=a,h[r++]=g,h[r++]=J,h[r++]=e,h[r++]=c,h[r++]=J,h[r++]=b,h[r++]=l,h[r++]=J,h[r++]=k,h[r++]=d,h[r++]=J):(h[r++]=a,h[r++]=g,h[r++]=e,
h[r++]=c,h[r++]=b,h[r++]=l,h[r++]=k,h[r++]=d);w[n++]=m;w[n++]=t;w[n++]=q;w[n++]=t;w[n++]=q;w[n++]=f;w[n++]=m;w[n++]=f;this.gd=r;this.vf=n};f.prototype.Un=function(a,g,e,c,b,l,k,d,f,r,n,h,w,J,m,t){15992<=this.gd&&this.ge();var q=this.gd,u=this.vf,p=this.ej,K=this.Wi,O=this.Fj;if(this.pb)this.Hd[this.md-1].Hc+=6;else{var C=this.kc();C.type=1;C.Rb=this.wa?q:q/2*3;C.Hc=6;this.pb=!0}this.wa?(p[q++]=a,p[q++]=g,p[q++]=O,p[q++]=e,p[q++]=c,p[q++]=O,p[q++]=b,p[q++]=l,p[q++]=O,p[q++]=k,p[q++]=d,p[q++]=O):(p[q++]=
a,p[q++]=g,p[q++]=e,p[q++]=c,p[q++]=b,p[q++]=l,p[q++]=k,p[q++]=d);K[u++]=f;K[u++]=r;K[u++]=n;K[u++]=h;K[u++]=w;K[u++]=J;K[u++]=m;K[u++]=t;this.gd=q;this.vf=u};f.prototype.Gp=function(a){var d=a.length/2-2,e=d-1,c=a[0],b=a[1],l,k,f,m,r,n,h;for(l=0;l<d;l+=2)k=2*l,f=a[k+2],m=a[k+3],r=a[k+4],n=a[k+5],l===e?this.gg(c,b,f,m,r,n,r,n):(h=a[k+6],k=a[k+7],this.gg(c,b,f,m,r,n,h,k))};f.prototype.oc=function(a){if(this.ei!==a){if(!this.Pa[a]){if(0===this.ei)return;a=0}var d=this.kc();d.type=9;this.ei=d.Rb=a;this.pb=
!1}};f.prototype.Di=function(a){a=this.Pa[a];return!(!a.bg&&!a.ag)};f.prototype.Qn=function(a){a=this.Pa[a];return!!(a.bg||a.ag||a.Ip)};f.prototype.Pn=function(a){return this.Pa[a].vd};f.prototype.Ax=function(a){a=this.Pa[a];return 0!==a.im||0!==a.jm};f.prototype.fw=function(a){return this.Pa[a].im};f.prototype.gw=function(a){return this.Pa[a].jm};f.prototype.hw=function(a,d){return this.Pa[a].U[d][2]};f.prototype.Uk=function(a){return this.Pa[a].rp};f.prototype.gh=function(a,d,e,c,b,l,k,f,m,r,n,
h,w,J,q){var t=this.Pa[this.ei],u,p;if(t.Dw||q.length){u=this.kc();u.type=10;u.T?kc(this.Mc,u.T):u.T=jc();p=u.T;p[0]=d;p[1]=e;p[2]=c;p[3]=b;p[4]=l;p[5]=k;p[6]=f;p[7]=m;p[8]=r;p[9]=n;p[10]=h;p[11]=w;p[12]=J;t.mi?u.ed=a:u.ed=null;if(q.length)for(e=u.cs,e.length=q.length,a=0,d=q.length;a<d;a++)e[a]=q[a];this.pb=!1}};f.prototype.clear=function(a,d,e,c){var b=this.kc();b.type=7;b.Rb=0;b.T||(b.T=jc());b.T[0]=a;b.T[1]=d;b.T[2]=e;b.T[3]=c;this.pb=!1};f.prototype.clearRect=function(a,d,e,c){if(!(0>e||0>c)){var b=
this.kc();b.type=7;b.Rb=1;b.T||(b.T=jc());b.T[0]=a;b.T[1]=d;b.T[2]=e;b.T[3]=c;this.pb=!1}};f.prototype.Vr=function(a){if(this.wa&&(a=!!a,this.Uh!==a)){var d=this.kc();d.type=14;d.Rb=a?1:0;this.pb=!1;this.Uh=a;this.Xk=null;this.Uh?this.oc(2):this.oc(0)}};f.prototype.Ur=function(a){if(this.wa){var d=this.kc();d.type=13;d.Rb=a?1:0;this.pb=!1}};f.prototype.Xp=function(){kc(this.bn,q);this.ad();this.Qc();var a=this.width/2,d=this.height/2;this.gg(-a,d,a,d,a,-d,-a,-d);kc(q,this.Mc);this.Qc()};f.prototype.Tr=
function(a,d,e){this.oc(3);var c=this.kc();c.type=12;c.T||(c.T=jc());c.T[0]=a;c.T[1]=d;c.T[2]=e;c.T[3]=1;this.pb=!1};f.prototype.Yx=function(){this.oc(0)};f.prototype.Jx=function(){this.oc(2)};f.prototype.zx=function(){this.ge();this.u.flush()};var u=[],d={};f.prototype.wu=function(){U(u);d={}};f.prototype.uk=function(a,g,e,c){g=!!g;e=!!e;var b=a.src+","+g+","+e+(g?",undefined":""),l=null;if("undefined"!==typeof a.src&&d.hasOwnProperty(b))return l=d[b],l.tj++,l;this.ge();var k=this.u,f=la(a.width)&&
la(a.height),l=k.createTexture();k.bindTexture(k.TEXTURE_2D,l);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var m=k.RGBA,r=k.RGBA,n=k.UNSIGNED_BYTE;if(c&&!this.ne)switch(c){case 1:r=m=k.RGB;break;case 2:n=k.UNSIGNED_SHORT_4_4_4_4;break;case 3:n=k.UNSIGNED_SHORT_5_5_5_1;break;case 4:r=m=k.RGB,n=k.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!f&&g){c=document.createElement("canvas");c.width=ma(a.width);c.height=ma(a.height);var h=c.getContext("2d");"undefined"!==typeof h.imageSmoothingEnabled?h.imageSmoothingEnabled=
e:(h.webkitImageSmoothingEnabled=e,h.mozImageSmoothingEnabled=e,h.msImageSmoothingEnabled=e);h.drawImage(a,0,0,a.width,a.height,0,0,c.width,c.height);k.texImage2D(k.TEXTURE_2D,0,m,r,n,c)}else k.texImage2D(k.TEXTURE_2D,0,m,r,n,a);g?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));e?(k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_MAG_FILTER,k.LINEAR),(f||2<=this.version)&&this.Op?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR_MIPMAP_LINEAR),k.generateMipmap(k.TEXTURE_2D)):k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST));k.bindTexture(k.TEXTURE_2D,null);this.$e=null;l.Ef=a.width;l.Df=a.height;l.tj=1;l.yp=b;u.push(l);return d[b]=l};f.prototype.Wb=function(a,d,e,c,b){this.ge();
var l=this.u;this.ne&&(c=!1);var k=l.createTexture();l.bindTexture(l.TEXTURE_2D,k);l.texImage2D(l.TEXTURE_2D,0,l.RGBA,a,d,0,l.RGBA,c?l.UNSIGNED_SHORT_4_4_4_4:l.UNSIGNED_BYTE,null);b?(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.REPEAT)):(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE));l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,e?l.LINEAR:l.NEAREST);l.texParameteri(l.TEXTURE_2D,
l.TEXTURE_MIN_FILTER,e?l.LINEAR:l.NEAREST);l.bindTexture(l.TEXTURE_2D,null);this.$e=null;k.Ef=a;k.Df=d;u.push(k);return k};f.prototype.Dl=function(a,d,e){this.ge();var c=this.u;this.ne&&(e=!1);c.bindTexture(c.TEXTURE_2D,d);c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,e?c.UNSIGNED_SHORT_4_4_4_4:c.UNSIGNED_BYTE,a)}catch(b){console&&console.error&&console.error("Error updating WebGL texture: ",b)}c.bindTexture(c.TEXTURE_2D,null);this.$e=null};f.prototype.deleteTexture=
function(a){a&&("undefined"!==typeof a.tj&&1<a.tj?a.tj--:(this.ge(),a===this.$e&&(this.u.bindTexture(this.u.TEXTURE_2D,null),this.$e=null),a===this.Wf&&(this.u.activeTexture(this.u.TEXTURE1),this.u.bindTexture(this.u.TEXTURE_2D,null),this.u.activeTexture(this.u.TEXTURE0),this.Wf=null),Ea(u,a),"undefined"!==typeof a.yp&&delete d[a.yp],this.u.deleteTexture(a)))};f.prototype.bd=function(a){if(a!==this.Xk){var d=this.kc();d.type=6;this.Xk=d.ed=a;this.pb=!1}};nb=f})();
(function(){function f(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var c=this;this.Jc=(this.jk=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Xb=!!a.dc;this.pq="undefined"!==typeof window.AppMobi||
this.Xb;this.Xc=!!window.c2cocoonjs;this.rd=!!window.c2ejecta;this.Xc&&(CocoonJS.App.onSuspended.addEventListener(function(){c.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){c.setSuspended(!1)}));this.rd&&(document.addEventListener("pagehide",function(){c.setSuspended(!0)}),document.addEventListener("pageshow",function(){c.setSuspended(!1)}),document.addEventListener("resize",function(){c.setSize(window.innerWidth,window.innerHeight)}));this.Ha=this.Xb||this.Xc||this.rd;this.Wh=
/edge\//i.test(navigator.userAgent);this.ne=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Wh;this.sq=/tizen/i.test(navigator.userAgent);this.Th=/android/i.test(navigator.userAgent)&&!this.sq&&!this.ne&&!this.Wh;this.vq=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.ne&&!this.Wh;this.Uw=/ipad/i.test(navigator.userAgent);this.Ng=this.vq||this.Uw||this.rd;this.Rm=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.ne&&!this.Wh;this.oq=/amazonwebappplatform/i.test(navigator.userAgent);this.Mw=/firefox/i.test(navigator.userAgent);this.Pw=/safari/i.test(navigator.userAgent)&&!this.Rm&&!this.ne&&!this.Wh;this.Rw=/windows/i.test(navigator.userAgent);this.kk="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.tq=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.Tw=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.$h=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Ym=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Xm=!!window.cr_windows10;this.Qw=this.tq||this.Tw||this.Ym||this.Xm;this.Lw=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.hk=this.Th&&!this.Rm&&!this.jk&&!this.Mw&&!this.oq&&!this.Ha;this.devicePixelRatio=
1;this.pe=this.Jc||this.jk||this.pq||this.Xc||this.Th||this.Ng||this.$h||this.Ym||this.Lw||this.sq||this.rd;this.pe||(this.pe=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.lk=!!(this.Ng&&this.Jc&&window.webkit);"undefined"===typeof cr_is_preview||this.kk||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.kk=!0);this.canvas=a;this.Ap=document.getElementById("c2canvasdiv");
this.p=this.u=null;this.Dm="(unavailable)";this.wa=!1;this.Lf=0;this.Aa=null;this.Tj=!1;this.mr=this.nr=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Xb&&(window.c2runtime=this);this.kk&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();
return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.hk&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.G=this.width;this.F=this.height;this.Cj=this.width;this.Ch=this.height;this.Yf=window.innerWidth;this.Xf=window.innerHeight;this.ra=!0;this.Zh=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.r=[];this.La=[];this.gn={};this.sd=[];this.hm={};
this.he=[];this.oh=[];this.xl=[];this.iu=[];this.ju=[];this.lo=this.wq=this.ns=null;this.If={};this.Tm=this.We=!1;this.oe=0;this.Sm=this.Vm=!1;this.od=[];this.Vh=!1;this.sk=this.ho="";this.ib=null;this.qe="";this.Si=this.hs=!1;this.Sj=[];this.Kf=this.Jf=0;this.cr=30;this.Yl=this.qi=0;this.mg=1;this.zb=new db;this.Ge=new db;this.Jk=this.Zj=this.Oj=this.De=this.$f=this.mm=this.pk=0;this.Vl=null;this.Kj=[];this.gm=[];this.Nj=-1;this.sn=[[]];this.Ao=this.zk=0;this.Sn(null);this.Hh=this.hr=this.vi=0;this.Ti=
[];this.xo=this.Vn=-1;this.ok=!0;this.xk=0;this.Xh=!1;this.by=0;this.vg=null;this.Ta=this.ek=!1;this.lr=new ca;this.An=new ca;this.Bn=new ca;this.Yn=[];this.Ad=new fb([]);this.ro=new fb([]);this.ug=[];this.dk={};this.Pe={};this.Ke={};this.nh={};this.vp={};this.Eq=this.rk=this.Ua=this.gb=this.Dq=this.qk=this.xa=null;this.lh=this.Zm=!1;this.om=[null,null];this.Ue=0;this.Vp="";this.we={};this.Qi=this.ef=null;this.ks="";this.Ik=[];this.Ix()}}function t(a,c){return 128>=c?a[3]:256>=c?a[2]:512>=c?a[1]:
a[0]}function m(){try{return!!window.indexedDB}catch(a){return!1}}function p(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function q(a,c,b,h){try{var k=indexedDB.open("_C2SaveStates");k.onupgradeneeded=p;k.onerror=h;k.onsuccess=function(k){k=k.target.result;k.onerror=h;k.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=b}}catch(e){h(e)}}function u(a,c,b){try{var h=indexedDB.open("_C2SaveStates");h.onupgradeneeded=p;h.onerror=b;h.onsuccess=function(h){h=
h.target.result;h.onerror=b;var k=h.transaction(["saves"]).objectStore("saves").get(a);k.onsuccess=function(){k.result?c(k.result.data):c(null)}}}catch(k){b(k)}}function d(){ea("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var c,b={};for(c in a)!a.hasOwnProperty(c)||a[c]instanceof ca||a[c]&&"undefined"!==typeof a[c].yz||"spriteCreatedDestroyCallback"!==
c&&(b[c]=a[c]);return b}var g=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;f.prototype.Ix=function(){var a=this;if(this.lk)this.Lv(function(c){a.ji(JSON.parse(c))},function(){alert("Error fetching data.js")});else{var c;this.$h?c=new ActiveXObject("Microsoft.XMLHTTP"):c=new XMLHttpRequest;var b="data.js";if(this.tq||this.$h||this.Ym||this.Xm)b="data.json";c.open("GET",b,!0);var h=!1;
if(!this.Ha&&"response"in c&&"responseType"in c)try{c.responseType="json",h="json"===c.responseType}catch(k){h=!1}if(!h&&"responseType"in c)try{c.responseType="text"}catch(e){}if("overrideMimeType"in c)try{c.overrideMimeType("application/json; charset=utf-8")}catch(l){}this.$h?c.onreadystatechange=function(){4===c.readyState&&a.ji(JSON.parse(c.responseText))}:(c.onload=function(){if(h)a.ji(c.response);else if(a.rd){var b=c.responseText,b=b.substr(b.indexOf("{"));a.ji(JSON.parse(b))}else a.ji(JSON.parse(c.responseText))},
c.onerror=function(a){fa("Error requesting "+b+":");fa(a)});c.send()}};f.prototype.Hw=function(){var a=this,c,b,h,k,e,l,d,n,g;this.Tf=(!this.Ha||this.rd||this.Jc)&&this.ky&&!this.hk;0===this.Ob&&this.Ng&&(this.Tf=!1);this.devicePixelRatio=this.Tf?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Eb();0<this.Ob&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(c){c.preventDefault();
a.hx();ea("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.p.jq();a.p.ig(a.p.width,a.p.height,!0);a.gb=null;a.Ua=null;a.om[0]=null;a.om[1]=null;a.ix();a.ra=!0;ea("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.cv&&(this.Xc||this.rd||!this.Ha)&&(c={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.Th||(this.u=this.canvas.getContext("webgl2",
c)),this.u||(this.u=this.canvas.getContext("webgl",c)||this.canvas.getContext("experimental-webgl",c)))}catch(f){}if(this.u){if(c=this.u.getExtension("WEBGL_debug_renderer_info"))this.Dm=this.u.getParameter(c.UNMASKED_RENDERER_WEBGL)+" ["+this.u.getParameter(c.UNMASKED_VENDOR_WEBGL)+"]";this.wa&&(this.Dm+=" [front-to-back enabled]");this.Ha||(this.Bb=document.createElement("canvas"),jQuery(this.Bb).appendTo(this.canvas.parentNode),this.Bb.oncontextmenu=function(){return!1},this.Bb.onselectstart=function(){return!1},
this.Bb.width=Math.round(this.Cj*this.devicePixelRatio),this.Bb.height=Math.round(this.Ch*this.devicePixelRatio),jQuery(this.Bb).css({width:this.Cj+"px",height:this.Ch+"px"}),this.Ir(),this.Mn=this.Bb.getContext("2d"));this.p=new nb(this.u,this.pe,this.wa);this.p.ig(this.canvas.width,this.canvas.height);this.p.Op=0!==this.Wu;this.Aa=null;c=0;for(b=this.r.length;c<b;c++)for(e=this.r[c],h=0,k=e.N.length;h<k;h++)d=e.N[h],d.Xa=this.p.Am(d.id),d.vd=this.p.Pn(d.Xa),this.lh=this.lh||this.p.Di(d.Xa);c=0;
for(b=this.sd.length;c<b;c++){n=this.sd[c];h=0;for(k=n.N.length;h<k;h++)d=n.N[h],d.Xa=this.p.Am(d.id),d.vd=this.p.Pn(d.Xa);n.Dd();h=0;for(k=n.R.length;h<k;h++){g=n.R[h];e=0;for(l=g.N.length;e<l;e++)d=g.N[e],d.Xa=this.p.Am(d.id),d.vd=this.p.Pn(d.Xa),this.lh=this.lh||this.p.Di(d.Xa);g.Dd()}}}else{if(0<this.Ob&&this.Xb){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Aa=AppMobi.canvas.getContext("2d");try{this.Aa.samplingMode=this.Ca?"smooth":
"sharp",this.Aa.globalScale=1,this.Aa.HTML5CompatibilityMode=!0,this.Aa.imageSmoothingEnabled=this.Ca}catch(r){}0!==this.width&&0!==this.height&&(this.Aa.width=this.width,this.Aa.height=this.height)}this.Aa||(this.Xc?(c={antialias:!!this.Ca,alpha:!0},this.Aa=this.canvas.getContext("2d",c)):(c={alpha:!0},this.Aa=this.canvas.getContext("2d",c)),this.bl(this.Aa,this.Ca));this.Mn=this.Bb=null}this.ys=function(c){a.Ya(!1,c)};window==window.top||this.Ha||this.Qw||this.$h||(document.addEventListener("mousedown",
function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Xc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(ea("Reloading for continuous preview"),this.sk="__c2_continuouspreview",this.Si=!0),this.rx&&!this.pe&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var c=window.parent;c&&c.document.hasFocus()||a.setSuspended(!0)})));
window.addEventListener("blur",function(){a.kf()});this.Ha||(c=function(a){if(mb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(c){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",c):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",c):document.addEventListener("touchstart",c),document.addEventListener("mousedown",c));0===this.Ob&&
this.Tf&&1<this.devicePixelRatio&&this.setSize(this.Ka,this.Ja,!0);this.Hs();this.zw();this.go();this.H={}};f.prototype.setSize=function(a,c,b){var h=0,k=0,e=0,l=0,l=0;if(this.Yf!==a||this.Xf!==c||b){this.Yf=a;this.Xf=c;var d=this.Ob;if((e=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Xh)&&!this.Jc)||0!==this.Ob||b)e&&(d=this.Ue),b=this.devicePixelRatio,4<=d?(e=this.Ka/this.Ja,a/c>e?(e*=c,5===d?(l=e*b/this.Ka,1<l?l=Math.floor(l):1>
l&&(l=1/Math.ceil(1/l)),e=this.Ka*l/b,l=this.Ja*l/b,h=(a-e)/2,k=(c-l)/2,a=e,c=l):(h=(a-e)/2,a=e)):(l=a/e,5===d?(l=l*b/this.Ja,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),e=this.Ka*l/b,l=this.Ja*l/b,h=(a-e)/2,k=(c-l)/2,a=e):k=(c-l)/2,c=l)):e&&0===d&&(h=Math.floor((a-this.Ka)/2),k=Math.floor((c-this.Ja)/2),a=this.Ka,c=this.Ja),2>d&&(this.vh=b),this.Cj=Math.round(a),this.Ch=Math.round(c),this.width=Math.round(a*b),this.height=Math.round(c*b),this.ra=!0,this.Ss?(this.G=this.width,this.F=this.height,
this.Fc=!0):this.width<this.Ka&&this.height<this.Ja||1===d?(this.G=this.width,this.F=this.height,this.Fc=!0):(this.G=this.Ka,this.F=this.Ja,this.Fc=!1,2===d?(e=this.Ka/this.Ja,d=this.Yf/this.Xf,d<e?this.G=this.F*d:d>e&&(this.F=this.G/d)):3===d&&(e=this.Ka/this.Ja,d=this.Yf/this.Xf,d>e?this.G=this.F*d:d<e&&(this.F=this.G/d))),this.Ap&&!this.Ha&&(jQuery(this.Ap).css({width:Math.round(a)+"px",height:Math.round(c)+"px","margin-left":Math.floor(h)+"px","margin-top":Math.floor(k)+"px"}),"undefined"!==typeof cr_is_preview&&
jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(c)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*b),this.canvas.height=Math.round(c*b),this.rd?(this.canvas.style.left=Math.floor(h)+"px",this.canvas.style.top=Math.floor(k)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px"):this.Tf&&!this.Ha&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px")),this.Bb&&(this.Bb.width=Math.round(a*b),this.Bb.height=
Math.round(c*b),this.Bb.style.width=this.Cj+"px",this.Bb.style.height=this.Ch+"px"),this.p&&this.p.ig(Math.round(a*b),Math.round(c*b)),this.Xb&&this.Aa&&(this.Aa.width=Math.round(a),this.Aa.height=Math.round(c)),this.Aa&&this.bl(this.Aa,this.Ca),this.Hs(),this.vq&&!this.Jc&&window.scrollTo(0,0)}};f.prototype.Hs=function(){if(this.nu&&0!==this.Ln){var a="portrait";2===this.Ln&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?
screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(c){console&&console.warn&&console.warn("Failed to lock orientation: ",c)}}};f.prototype.hx=function(){this.p.wu();this.Zm=!0;var a,c,b;a=0;for(c=this.r.length;a<c;a++)b=this.r[a],b.$g&&b.$g()};f.prototype.ix=function(){this.Zm=!1;var a,c,b;a=0;for(c=this.r.length;a<c;a++)b=this.r[a],b.yi&&b.yi()};f.prototype.Ir=
function(){if(!this.Ha){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Xh)&&!this.Jc?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Bb).css(a)}};var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;f.prototype.setSuspended=function(a){var c;if(a&&!this.Zh)for(ea("[Construct 2] Suspending"),
this.Zh=!0,-1!==this.Vn&&e&&e(this.Vn),-1!==this.xo&&clearTimeout(this.xo),a=0,c=this.Ti.length;a<c;a++)this.Ti[a](!0);else if(!a&&this.Zh){ea("[Construct 2] Resuming");this.Zh=!1;this.pk=Xa();this.$f=Xa();a=this.qi=this.Zj=0;for(c=this.Ti.length;a<c;a++)this.Ti[a](!1);this.Ya(!1)}};f.prototype.hu=function(a){this.Ti.push(a)};f.prototype.Ie=function(a){return this.Ik[a]};f.prototype.ji=function(a){a&&a.project||fa("Project model unavailable");a=a.project;this.name=a[0];this.Wp=a[1];this.Ob=a[12];
this.Ka=a[10];this.Ja=a[11];this.Cr=this.Ka/2;this.Dr=this.Ja/2;this.Ha&&!this.rd&&(4<=a[12]||0===a[12])&&(ea("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Ob=3);this.Ho=a[18];this.ff=a[19];if(0===this.ff){var c=new Image;c.crossOrigin="anonymous";this.Wr(c,"loading-logo.png");this.ef={Ak:c}}else if(4===this.ff){c=new Image;c.src="";var b=new Image;b.src="";var h=new Image;h.src="";var e=new Image;e.src="";var k=new Image;
k.src="";var l=new Image;l.src="";var d=new Image;d.src="";var n=new Image;n.src="";var g=new Image;g.src="";var f=new Image;f.src="";var r=new Image;r.src="";var w=new Image;w.src="";this.ef={Ak:[c,b,h,e],wx:[k,l,d,n],oy:[g,f,r,w]}}this.vi=a[21];this.Ik=oc();this.Ud=new Z(this);c=0;for(b=a[2].length;c<b;c++)d=a[2][c],h=this.Ie(d[0]),ob(d,h.prototype),n=new h(this),n.il=d[1],n.Ze=d[2],n.Ez=d[5],n.er=d[9],n.L&&n.L(),this.plugins.push(n);this.Ik=oc();c=0;for(b=a[3].length;c<b;c++){d=a[3][c];k=this.Ie(d[1]);
n=null;h=0;for(e=this.plugins.length;h<e;h++)if(this.plugins[h]instanceof k){n=this.plugins[h];break}g=new n.pa(n);g.name=d[0];g.D=d[2];g.Pm=d[3].slice(0);g.my=d[3].length;g.ou=d[4];g.Qv=d[5];g.X=d[11];g.D?(g.Fk=[],g.ie=this.Hh++,g.Ga=null):(g.Fk=null,g.ie=-1,g.Ga=[]);g.Qj=null;g.Cg=null;g.Pp=null;g.Kc=!1;g.sc=null;d[6]?(g.nl=d[6][0],g.ol=d[6][1],g.so=d[6][2]):(g.nl=null,g.ol=0,g.so=0);d[7]?g.qc=d[7]:g.qc=null;g.index=c;g.i=[];g.Hj=[];g.Ce=[new pb(g)];g.Id=0;g.Jd=null;g.Du=0;g.ih=!0;g.zl=qb;g.Xv=
tb;g.cw=ub;g.Ba=vb;g.Fi=wb;g.Rn=xb;g.dh=yb;g.ak=zb;g.qm=Ab;g.vm=Bb;g.Le=Cb;g.xm=Db;g.yj=new gb(this.Ka,this.Ja);g.mj=!0;g.nj=!1;g.H={};g.toString=Fb;g.La=[];h=0;for(e=d[8].length;h<e;h++){f=d[8][h];r=this.Ie(f[1]);w=null;k=0;for(l=this.La.length;k<l;k++)if(this.La[k]instanceof r){w=this.La[k];break}w||(w=new r(this),w.Hk=[],w.Gk=new ca,w.L&&w.L(),this.La.push(w),pc&&w instanceof pc&&(this.ns=w),gc.Ww&&w instanceof gc.Ww&&(this.wq=w),qc&&w instanceof qc&&(this.lo=w));-1===w.Hk.indexOf(g)&&w.Hk.push(g);
k=new w.pa(w,g);k.name=f[0];k.X=f[2];k.L();g.La.push(k)}g.global=d[9];g.Um=d[10];g.N=[];h=0;for(e=d[12].length;h<e;h++)g.N.push({id:d[12][h][0],name:d[12][h][1],Xa:-1,vd:!1,Dc:!0,index:h});g.rl=d[13];this.Ho&&!g.D&&!g.Um&&n.Ze||g.L();g.name&&(this.types[g.name]=g);this.r.push(g);n.il&&(h=new n.aa(g),h.uid=this.vi++,h.Mr=this.hr++,h.Rf=0,h.Lh=Gb,h.toString=Hb,h.q=d[14],h.L(),g.i.push(h),this.we[h.uid.toString()]=h)}c=0;for(b=a[4].length;c<b;c++)for(k=a[4][c],l=this.r[k[0]],h=1,e=k.length;h<e;h++)d=
this.r[k[h]],d.Ga.push(l),l.Fk.push(d);c=0;for(b=a[28].length;c<b;c++){k=a[28][c];l=[];h=0;for(e=k.length;h<e;h++)l.push(this.r[k[h]]);h=0;for(e=l.length;h<e;h++)l[h].Kc=!0,l[h].sc=l}if(0<this.Hh)for(c=0,b=this.r.length;c<b;c++)if(d=this.r[c],!d.D&&d.Ga.length){d.Qj=Array(this.Hh);d.Cg=Array(this.Hh);d.Pp=Array(this.Hh);g=[];h=w=r=f=0;for(e=d.Ga.length;h<e;h++)for(n=d.Ga[h],d.Qj[n.ie]=f,f+=n.my,d.Cg[n.ie]=r,r+=n.ou,d.Pp[n.ie]=w,w+=n.Qv,k=0,l=n.N.length;k<l;k++)g.push(wa({},n.N[k]));d.N=g.concat(d.N);
h=0;for(e=d.N.length;h<e;h++)d.N[h].index=h}c=0;for(b=a[5].length;c<b;c++)d=a[5][c],h=new Ib(this,d),this.gn[h.name]=h,this.sd.push(h);c=0;for(b=a[6].length;c<b;c++)d=a[6][c],h=new Jb(this,d),this.hm[h.name]=h,this.he.push(h);c=0;for(b=this.he.length;c<b;c++)this.he[c].Qa();c=0;for(b=this.he.length;c<b;c++)this.he[c].Eo();c=0;for(b=this.xl.length;c<b;c++)this.xl[c].Qa();U(this.xl);this.mu=a[7];this.Vp=a[8];this.Nc=a[9];this.vh=1;this.cv=a[13];this.Ca=a[14];this.Ep=a[15];this.ky=a[17];this.Ln=a[20];
this.nu=0<this.Ln;this.rx=a[22];this.Fc=this.Ss=a[23];this.Wu=a[24];this.xx=a[25];this.wa=a[27]&&!this.ne;this.jl=Date.now();U(this.Ik);this.Hw()};var c=!1,b=0,l=[];f.prototype.Dx=function(a,c){function h(){b--;k.Yq()}var k=this;a.addEventListener("load",h);a.addEventListener("error",h);l.push([a,c]);this.Yq()};f.prototype.Yq=function(){for(var a;l.length&&100>b;)b++,a=l.shift(),this.Wr(a[0],a[1])};f.prototype.El=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){c=a.xp=!0;console&&console.error&&
console.error("Error loading image '"+a.src+"': ",b)};this.rd?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(c){a.src=c},function(h){c=a.xp=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",h)}):(a.crossOrigin="anonymous",this.Dx(a,b)));this.oh.push(a)};f.prototype.Nv=function(a){var c,b;c=0;for(b=this.oh.length;c<b;c++)if(this.oh[c].xu===a)return this.oh[c];return null};var k=0,v=!1;f.prototype.zw=function(){this.vg&&(k=this.vg.Wx(this.mu))};
f.prototype.tp=function(){var a=k,c=0,b=0,h=!0,e,d,b=0;for(e=this.oh.length;b<e;b++){d=this.oh[b];var l=d.Bj;if(!l||0>=l)l=5E4;a+=l;d.src&&(d.complete||d.loaded)&&!d.xp?c+=l:h=!1}h&&this.xx&&this.vg&&(v||(this.vg.cy(),v=!0),b=this.vg.ew(),c+=b,b<k&&(h=!1));this.wd=0==a?1:c/a;return h};var I=!1;f.prototype.go=function(){if(this.Aa||this.p){var a=this.Aa||this.Mn;this.Bb&&this.Ir();var b=window.innerWidth,h=window.innerHeight;this.Yf===b&&this.Xf===h||this.setSize(b,h);this.wd=0;this.Cq=-1;var k=this;
if(this.tp()&&(4!==this.ff||I))this.Aw();else{h=Date.now()-this.jl;if(a){var e=this.width,d=this.height,b=this.devicePixelRatio;if(3>this.ff&&(this.Xc||500<=h&&this.Cq!=this.wd)){a.clearRect(0,0,e,d);var h=e/2,d=d/2,e=0===this.ff&&this.ef.Ak.complete,l=40*b,n=0,f=80*b,r;if(e){var w=this.ef.Ak,f=w.width*b;r=w.height*b;l=f/2;n=r/2;a.drawImage(w,z(h-l),z(d-n),f,r)}1>=this.ff?(h=z(h-l)+.5,d=z(d+(n+(e?12*b:0)))+.5,a.fillStyle=c?"red":"DodgerBlue",a.fillRect(h,d,Math.floor(f*this.wd),6*b),a.strokeStyle=
"black",a.strokeRect(h,d,f,6*b),a.strokeStyle="white",a.strokeRect(h-1*b,d-1*b,f+2*b,8*b)):2===this.ff&&(a.font=this.rd?"12pt ArialMT":"12pt Arial",a.fillStyle=c?"#f00":"#999",a.Qz="middle",b=Math.round(100*this.wd)+"%",e=a.measureText?a.measureText(b):null,a.fillText(b,h-(e?e.width:0)/2,d));this.Cq=this.wd}else if(4===this.ff){this.av(a);g?g(function(){k.go()}):setTimeout(function(){k.go()},16);return}}setTimeout(function(){k.go()},this.Xc?10:100)}}};var r=-1,n="undefined"===typeof cr_is_preview?
200:0,h=!0,w=!1,J=0,ga=0,ha="undefined"===typeof cr_is_preview?3E3:0,D=null,N=null,M=0;f.prototype.av=function(a){if(!I){for(var b=Math.ceil(this.width),e=Math.ceil(this.height),k=this.ef.Ak,d=this.ef.wx,l=this.ef.oy,g=0;4>g;++g)if(!k[g].complete||!d[g].complete||!l[g].complete)return;0===M&&(r=Date.now());var g=Date.now(),f=!1,v=a,m,q;h||w?(a.clearRect(0,0,b,e),D&&D.width===b&&D.height===e||(D=document.createElement("canvas"),D.width=b,D.height=e,N=D.getContext("2d")),v=N,f=!0,h&&1===M&&(r=Date.now())):
a.globalAlpha=1;v.fillStyle="#333333";v.fillRect(0,0,b,e);256<this.Ch?(m=Fa(.22*e,105,.6*b),q=.25*m,v.drawImage(t(d,m),.5*b-m/2,.2*e-q/2,m,q),q=m=Math.min(.395*e,.95*b),v.drawImage(t(k,m),.5*b-m/2,.485*e-q/2,m,q),m=Fa(.22*e,105,.6*b),q=.25*m,v.drawImage(t(l,m),.5*b-m/2,.868*e-q/2,m,q),v.fillStyle="#3C3C3C",m=b,q=Math.max(.005*e,2),v.fillRect(0,.8*e-q/2,m,q),v.fillStyle=c?"red":"#E0FF65",m=b*this.wd,v.fillRect(.5*b-m/2,.8*e-q/2,m,q)):(q=m=.55*e,v.drawImage(t(k,m),.5*b-m/2,.45*e-q/2,m,q),v.fillStyle=
"#3C3C3C",m=b,q=Math.max(.005*e,2),v.fillRect(0,.85*e-q/2,m,q),v.fillStyle=c?"red":"#E0FF65",m=b*this.wd,v.fillRect(.5*b-m/2,.85*e-q/2,m,q));f&&(h?a.globalAlpha=0===M?0:Math.min((g-r)/300,1):w&&(a.globalAlpha=Math.max(1-(g-ga)/300,0)),a.drawImage(D,0,0,b,e));h&&300<=g-r&&2<=M&&(h=!1,J=g);!h&&g-J>=ha&&!w&&1<=this.wd&&(w=!0,ga=g);if(w&&g-ga>=300+n||"undefined"!==typeof cr_is_preview&&1<=this.wd&&500>Date.now()-r)I=!0,w=h=!1,this.ef=N=D=null;++M}};f.prototype.Aw=function(){this.Bb&&(this.canvas.parentNode.removeChild(this.Bb),
this.Bb=this.Mn=null);this.jl=Date.now();this.$f=Xa();var a,c,b;if(this.Ho)for(a=0,c=this.r.length;a<c;a++)b=this.r[a],b.D||b.Um||!b.za.Ze||b.L();else this.ok=!1;a=0;for(c=this.sd.length;a<c;a++)this.sd[a].zu();2<=this.Ob&&(a=this.Ka/this.Ja,c=this.width/this.height,this.vh=2!==this.Ob&&c>a||2===this.Ob&&c<a?this.height/this.Ja:this.width/this.Ka);this.Wp?this.gn[this.Wp].po():this.sd[0].po();this.Ho||(this.xk=1,this.trigger(Z.prototype.j.Yo,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&
navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(c=this.r.length;a<c;a++)b=this.r[a],b.gx&&b.gx();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Ya(!1);this.Xb&&AppMobi.webview.execute("onGameReady();")};f.prototype.Ya=function(a,c,b){if(this.xa){var h=Xa();if(b||!this.Zh||a){a||(g?this.Vn=g(this.ys):this.xo=setTimeout(this.ys,this.pe?1:16));c=c||h;var e=this.Ob;((b=(document.mozFullScreen||document.webkitIsFullScreen||
document.fullScreen||!!document.msFullscreenElement)&&!this.Jc)||this.Xh)&&0<this.Ue&&(e=this.Ue);if(0<e){var e=window.innerWidth,k=window.innerHeight;this.Yf===e&&this.Xf===k||this.setSize(e,k)}this.Ha||(b?this.Tj||(this.Tj=!0):this.Tj?(this.Tj=!1,0===this.Ob&&this.setSize(Math.round(this.nr/this.devicePixelRatio),Math.round(this.mr/this.devicePixelRatio),!0)):(this.nr=this.width,this.mr=this.height));this.ok&&(b=this.tp(),this.xk=this.wd,b&&(this.ok=!1,this.wd=1,this.trigger(Z.prototype.j.Yo,null),
window.C2_RegisterSW&&window.C2_RegisterSW()));this.Yw(c);!this.ra&&!this.Xc||this.Zm||this.Si||a||(this.ra=!1,this.p?this.Nb():this.Wc(),this.Qi&&(this.canvas&&this.canvas.toDataURL&&(this.ks=this.canvas.toDataURL(this.Qi[0],this.Qi[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.ks),this.trigger(Z.prototype.j.qt,null)),this.Qi=null));this.Cz||(this.De++,this.Oj++,this.Zj++);this.qi+=Xa()-h}}};f.prototype.Yw=function(a){var c,b,h,e,k,d,l,n;1E3<=a-this.$f&&(this.$f+=1E3,1E3<=a-this.$f&&(this.$f=
a),this.mm=this.Zj,this.Zj=0,this.Yl=this.qi,this.qi=0);c=0;0!==this.pk&&(c=a-this.pk,0>c&&(c=0),this.Kf=c/=1E3,.5<this.Kf?this.Kf=0:this.Kf>1/this.cr&&(this.Kf=1/this.cr));this.pk=a;this.Jf=this.Kf*this.mg;this.zb.add(this.Jf);this.Ge.add(c);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Xh)&&!this.Jc;2<=this.Ob||a&&0<this.Ue?(c=this.Ka/this.Ja,b=this.width/this.height,h=this.Ob,a&&0<this.Ue&&(h=this.Ue),this.vh=2!==h&&b>c||2===h&&
b<c?this.height/this.Ja:this.width/this.Ka,this.xa&&(this.xa.io(this.xa.scrollX),this.xa.jo(this.xa.scrollY))):this.vh=this.Tf?this.devicePixelRatio:1;this.Eb();this.oe++;this.Ud.Mx();this.oe--;this.Eb();this.oe++;b=this.lr.Xd();a=0;for(c=b.length;a<c;a++)b[a].Mz();a=0;for(c=this.r.length;a<c;a++)if(d=this.r[a],!d.D&&(d.La.length||d.Ga.length))for(b=0,h=d.i.length;b<h;b++)for(l=d.i[b],e=0,k=l.J.length;e<k;e++)l.J[e].Ya();a=0;for(c=this.r.length;a<c;a++)if(d=this.r[a],!d.D&&(d.La.length||d.Ga.length))for(b=
0,h=d.i.length;b<h;b++)for(l=d.i[b],e=0,k=l.J.length;e<k;e++)n=l.J[e],n.Jr&&n.Jr();b=this.An.Xd();a=0;for(c=b.length;a<c;a++)b[a].Ya();this.oe--;this.Cw();for(a=0;this.Vl&&10>a++;)this.Np(this.Vl);a=0;for(c=this.he.length;a<c;a++)this.he[a].Hm=!1;this.xa.Mf&&this.xa.Mf.jb();U(this.Yn);this.oe++;a=0;for(c=this.r.length;a<c;a++)if(d=this.r[a],!d.D&&(d.La.length||d.Ga.length))for(b=0,h=d.i.length;b<h;b++)for(l=d.i[b],e=0,k=l.J.length;e<k;e++)n=l.J[e],n.Xi&&n.Xi();b=this.Bn.Xd();a=0;for(c=b.length;a<
c;a++)b[a].Xi();this.oe--};f.prototype.kf=function(){var a,c,b,h,e,k,d,l,n;a=0;for(c=this.r.length;a<c;a++)if(d=this.r[a],!d.D)for(b=0,h=d.i.length;b<h;b++)if(l=d.i[b],l.kf&&l.kf(),l.J)for(e=0,k=l.J.length;e<k;e++)n=l.J[e],n.kf&&n.kf()};f.prototype.Np=function(a){var c=this.xa;this.xa.ey();var b,h,e;if(this.p)for(b=0,h=this.r.length;b<h;b++)e=this.r[b],e.D||!e.yl||e.global&&0!==e.i.length||-1!==a.Rh.indexOf(e)||e.yl();c==a&&U(this.Ud.Cc);U(this.Yn);this.Pr(!0);a.po();this.Pr(!1);this.ra=!0;this.Eb()};
f.prototype.Pr=function(a){var c,b,h,e,k,d,l,n,g;c=0;for(b=this.La.length;c<b;c++)h=this.La[c],a?h.wi&&h.wi():h.xi&&h.xi();c=0;for(b=this.r.length;c<b;c++)if(h=this.r[c],h.global||h.za.il)for(e=0,k=h.i.length;e<k;e++)if(d=h.i[e],a?d.wi&&d.wi():d.xi&&d.xi(),d.J)for(l=0,n=d.J.length;l<n;l++)g=d.J[l],a?g.wi&&g.wi():g.xi&&g.xi()};f.prototype.ql=function(a){this.An.add(a)};f.prototype.xs=function(a){this.Bn.add(a)};f.prototype.tm=function(a){return a&&-1!==a.ti?this.Kf*a.ti:this.Jf};f.prototype.Wc=function(){this.xa.Wc(this.Aa);
this.Xb&&this.Aa.present()};f.prototype.Nb=function(){this.wa&&(this.Lf=1,this.xa.Se(this.p));this.xa.Nb(this.p);this.p.zx()};f.prototype.mp=function(a){a&&this.Kj.push(a)};f.prototype.Hx=function(a){Ea(this.Kj,a)};f.prototype.Fg=function(a){a=a.toString();return this.we.hasOwnProperty(a)?this.we[a]:null};var K=[];f.prototype.yf=function(a){var c,b;c=a.type.name;var h=null;if(this.If.hasOwnProperty(c)){if(h=this.If[c],h.contains(a))return}else h=K.length?K.pop():new ca,this.If[c]=h;h.add(a);this.We=
!0;if(a.Kc)for(c=0,b=a.siblings.length;c<b;c++)this.yf(a.siblings[c]);this.Tm&&h.mh.push(a);this.Sm||(this.oe++,this.trigger(Object.getPrototypeOf(a.type.za).j.tt,a),this.oe--)};f.prototype.Eb=function(){if(this.We){var a,c,b,h,e,k;this.Tm=!0;b=0;for(e=this.od.length;b<e;++b)for(a=this.od[b],c=a.type,c.i.push(a),h=0,k=c.Ga.length;h<k;++h)c.Ga[h].i.push(a),c.Ga[h].ih=!0;U(this.od);this.kt();Wa(this.If);this.We=this.Tm=!1}};f.prototype.kt=function(){for(var a in this.If)this.If.hasOwnProperty(a)&&this.Ys(this.If[a])};
f.prototype.Ys=function(a){var c=a.Xd(),b=c[0].type,h,e,k,d,l,n;Za(b.i,a);b.ih=!0;0===b.i.length&&(b.nj=!1);h=0;for(e=b.Ga.length;h<e;++h)n=b.Ga[h],Za(n.i,a),n.ih=!0;h=0;for(e=this.Ud.Cc.length;h<e;++h)if(l=this.Ud.Cc[h],l.Bc.hasOwnProperty(b.index)&&Za(l.Bc[b.index].Sf,a),!b.D)for(k=0,d=b.Ga.length;k<d;++k)n=b.Ga[k],l.Bc.hasOwnProperty(n.index)&&Za(l.Bc[n.index].Sf,a);if(l=c[0].k){if(l.Rc)for(k=l.i,h=0,e=k.length;h<e;++h)d=k[h],a.contains(d)&&(d.W(),l.Db.update(d,d.lc,null),d.lc.set(0,0,-1,-1));
Za(l.i,a);l.Li(0)}for(h=0;h<c.length;++h)this.Xs(c[h],b);a.clear();K.push(a);this.ra=!0};f.prototype.Xs=function(a,c){var b,h,e;b=0;for(h=this.Kj.length;b<h;++b)this.Kj[b](a);a.Qe&&c.yj.update(a,a.Qe,null);(b=a.k)&&b.eh(a,!0);if(a.J)for(b=0,h=a.J.length;b<h;++b)e=a.J[b],e.xe&&e.xe(),e.behavior.Gk.remove(a);this.lr.remove(a);this.An.remove(a);this.Bn.remove(a);a.xe&&a.xe();this.we.hasOwnProperty(a.uid.toString())&&delete this.we[a.uid.toString()];this.Jk--;100>c.Hj.length&&c.Hj.push(a)};var O=[];f.prototype.Gf=
function(a,c,b,h,e,k){var d,l,n,g;if(!a)return null;var f=this.r[a[1]],r=f.za.Ze;if(this.ok&&r&&!f.Um||r&&!this.p&&11===a[0][11])return null;var w=c;r||(c=null);var v;f.Hj.length?(v=f.Hj.pop(),v.zc=!0,f.za.aa.call(v,f)):(v=new f.za.aa(f),v.zc=!1);!b||k||this.we.hasOwnProperty(a[2].toString())?v.uid=this.vi++:v.uid=a[2];this.we[v.uid.toString()]=v;v.Mr=this.hr++;v.Rf=f.i.length;d=0;for(l=this.od.length;d<l;++d)this.od[d].type===f&&v.Rf++;v.Lh=Gb;v.toString=Hb;n=a[3];if(v.zc)Wa(v.H);else{v.H={};if("undefined"!==
typeof cr_is_preview)for(v.mq=[],v.mq.length=n.length,d=0,l=n.length;d<l;d++)v.mq[d]=n[d][1];v.fb=[];v.fb.length=n.length}d=0;for(l=n.length;d<l;d++)v.fb[d]=n[d][0];if(r){var m=a[0];v.x=ia(h)?m[0]:h;v.y=ia(e)?m[1]:e;v.z=m[2];v.width=m[3];v.height=m[4];v.depth=m[5];v.n=m[6];v.opacity=m[7];v.ec=m[8];v.fc=m[9];v.Fb=m[10];d=m[11];!this.p&&f.N.length&&(v.Fb=d);v.yh=ib(v.Fb);this.u&&jb(v,v.Fb,this.u);if(v.zc){d=0;for(l=m[12].length;d<l;d++)for(n=0,g=m[12][d].length;n<g;n++)v.Ma[d][n]=m[12][d][n];v.ja.set(0,
0,0,0);v.Qe.set(0,0,-1,-1);v.lc.set(0,0,-1,-1);v.ub.jg(v.ja);U(v.Ml)}else{v.Ma=m[12].slice(0);d=0;for(l=v.Ma.length;d<l;d++)v.Ma[d]=m[12][d].slice(0);v.na=[];v.Je=[];v.Je.length=f.N.length;v.ja=new T(0,0,0,0);v.Qe=new T(0,0,-1,-1);v.lc=new T(0,0,-1,-1);v.ub=new va;v.Ml=[];v.A=Kb;v.xz=Lb;v.Lb=Mb;v.W=Nb;v.jy=Ob;v.Os=Pb;v.Md=Qb}v.wf=!1;v.Cs=0;v.Bs=0;v.As=null;14===m.length&&(v.wf=!0,v.Cs=m[13][0],v.Bs=m[13][1],v.As=m[13][2]);d=0;for(l=f.N.length;d<l;d++)v.Je[d]=!0;v.Ae=!0;v.Dd=Rb;v.Dd();v.Ps=!!v.na.length;
v.Ll=!0;v.Tl=!0;f.mj=!0;v.visible=!0;v.ti=-1;v.k=c;v.Ed=c.i.length;v.Lf=0;"undefined"===typeof v.O&&(v.O=null);this.ra=v.ae=!0}var J;U(O);d=0;for(l=f.Ga.length;d<l;d++)O.push.apply(O,f.Ga[d].La);O.push.apply(O,f.La);if(v.zc)for(d=0,l=O.length;d<l;d++){var q=O[d];J=v.J[d];J.zc=!0;q.behavior.aa.call(J,q,v);m=a[4][d];n=0;for(g=m.length;n<g;n++)J.q[n]=m[n];J.L();q.behavior.Gk.add(v)}else for(v.J=[],d=0,l=O.length;d<l;d++)q=O[d],J=new q.behavior.aa(q,v),J.zc=!1,J.q=a[4][d].slice(0),J.L(),v.J.push(J),q.behavior.Gk.add(v);
m=a[5];if(v.zc)for(d=0,l=m.length;d<l;d++)v.q[d]=m[d];else v.q=m.slice(0);this.od.push(v);this.We=!0;c&&(c.uh(v,!0),1!==c.hc||1!==c.ic)&&(f.nj=!0);this.Jk++;if(f.Kc){if(v.Kc=!0,v.zc?U(v.siblings):v.siblings=[],!b&&!k){d=0;for(l=f.sc.length;d<l;d++)if(f.sc[d]!==f){if(!f.sc[d].Jd)return null;v.siblings.push(this.Gf(f.sc[d].Jd,w,!1,r?v.x:h,r?v.y:e,!0))}d=0;for(l=v.siblings.length;d<l;d++)for(v.siblings[d].siblings.push(v),n=0;n<l;n++)d!==n&&v.siblings[d].siblings.push(v.siblings[n])}}else v.Kc=!1,v.siblings=
null;v.L();d=0;for(l=v.J.length;d<l;d++)v.J[d].vx&&v.J[d].vx();return v};f.prototype.Jh=function(a){var c,b;c=0;for(b=this.xa.R.length;c<b;c++){var h=this.xa.R[c];if(lb(h.name,a))return h}return null};f.prototype.le=function(a){a=z(a);0>a&&(a=0);a>=this.xa.R.length&&(a=this.xa.R.length-1);return this.xa.R[a]};f.prototype.Wl=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].Ba().Oa=!0};f.prototype.Fi=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].Fi()};f.prototype.Rn=function(a){var c,b;c=0;
for(b=a.length;c<b;c++)a[c].Rn()};f.prototype.dh=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].dh()};f.prototype.Ls=function(a){if(a.mj){var c,b,h=a.i;c=0;for(b=h.length;c<b;++c)h[c].Os();h=this.od;c=0;for(b=h.length;c<b;++c)h[c].type===a&&h[c].Os();a.mj=!1}};f.prototype.Vv=function(a,c,b,h){var d,e,k=a?1!==a.hc||1!==a.ic:!1;if(c.D)for(a=0,d=c.Fk.length;a<d;++a)e=c.Fk[a],k||e.nj?Ca(h,e.i):(this.Ls(e),e.yj.Wk(b,h));else k||c.nj?Ca(h,c.i):(this.Ls(c),c.yj.Wk(b,h))};f.prototype.Cm=function(a,c,
b,h){var d,e;d=0;for(e=c.length;d<e;++d)this.Vv(a,c[d],b,h)};f.prototype.iw=function(a,c,b){var h=this.ns;h&&this.Cm(a,h.Hk,c,b)};f.prototype.aw=function(a,c,b){var h=this.wq;h&&this.Cm(a,h.Hk,c,b)};f.prototype.Ui=function(a,c,b){var h=a.Ba(),d,e,k,l,n=this.cc().Uc.td,g,f,v;if(h.Oa)for(h.Oa=!1,U(h.i),d=0,l=a.i.length;d<l;d++)k=a.i[d],k.W(),g=k.k.Za(c,b,!0),f=k.k.Za(c,b,!1),k.Lb(g,f)?h.i.push(k):n&&h.ba.push(k);else{e=0;v=n?h.ba:h.i;d=0;for(l=v.length;d<l;d++)k=v[d],k.W(),g=k.k.Za(c,b,!0),f=k.k.Za(c,
b,!1),k.Lb(g,f)&&(n?h.i.push(k):(h.i[e]=h.i[d],e++));v.length=e}a.Le();return h.Gm()};f.prototype.dd=function(a,c){if(!(a&&c&&a!==c&&a.ae&&c.ae))return!1;a.W();c.W();var b=a.k,h=c.k,d,e,k,l,n,g,f,v;if(b===h||b.hc===h.hc&&h.ic===h.ic&&b.scale===h.scale&&b.n===h.n&&b.Ub===h.Ub){if(!a.ja.Iw(c.ja)||!a.ub.nq(c.ub)||a.wf&&c.wf)return!1;if(a.wf)return this.ts(a,c);if(c.wf)return this.ts(c,a);f=a.O&&!a.O.Ye();d=c.O&&!c.O.Ye();if(!f&&!d)return!0;f?(a.O.$d(a.width,a.height,a.n),f=a.O):(this.Ad.sf(a.ub,a.x,
a.y,a.width,a.height),f=this.Ad);d?(c.O.$d(c.width,c.height,c.n),v=c.O):(this.Ad.sf(c.ub,c.x,c.y,c.width,c.height),v=this.Ad);return f.Sh(v,c.x-a.x,c.y-a.y)}f=a.O&&!a.O.Ye();d=c.O&&!c.O.Ye();f?(a.O.$d(a.width,a.height,a.n),this.Ad.as(a.O)):this.Ad.sf(a.ub,a.x,a.y,a.width,a.height);f=this.Ad;d?(c.O.$d(c.width,c.height,c.n),this.ro.as(c.O)):this.ro.sf(c.ub,c.x,c.y,c.width,c.height);v=this.ro;d=0;for(e=f.jc;d<e;d++)k=2*d,l=k+1,n=f.ua[k],g=f.ua[l],f.ua[k]=b.Ia(n+a.x,g+a.y,!0),f.ua[l]=b.Ia(n+a.x,g+a.y,
!1);f.W();d=0;for(e=v.jc;d<e;d++)k=2*d,l=k+1,n=v.ua[k],g=v.ua[l],v.ua[k]=h.Ia(n+c.x,g+c.y,!0),v.ua[l]=h.Ia(n+c.x,g+c.y,!1);v.W();return f.Sh(v,0,0)};var C=new va;new T(0,0,0,0);var A=[];f.prototype.ts=function(a,c){var b,h,d,e,k=c.ja,l=a.x,n=a.y;a.rm(k,A);var g=c.O&&!c.O.Ye();b=0;for(h=A.length;b<h;++b)if(d=A[b],e=d.ma,k.Jw(e,l,n)&&(C.jg(e),C.offset(l,n),C.nq(c.ub)))if(g)if(c.O.$d(c.width,c.height,c.n),d.Oc){if(d.Oc.Sh(c.O,c.x-(l+e.left),c.y-(n+e.top)))return U(A),!0}else{if(this.Ad.sf(C,0,0,e.right-
e.left,e.bottom-e.top),this.Ad.Sh(c.O,c.x,c.y))return U(A),!0}else if(d.Oc){if(this.Ad.sf(c.ub,0,0,c.width,c.height),d.Oc.Sh(this.Ad,-(l+e.left),-(n+e.top)))return U(A),!0}else return U(A),!0;U(A);return!1};f.prototype.Bo=function(a,c){if(!c)return!1;var b,h,d,e,k;b=0;for(h=a.La.length;b<h;b++)if(a.La[b].behavior instanceof c)return!0;if(!a.D)for(b=0,h=a.Ga.length;b<h;b++)for(k=a.Ga[b],d=0,e=k.La.length;d<e;d++)if(k.La[d].behavior instanceof c)return!0;return!1};f.prototype.Co=function(a){return this.Bo(a,
gc.Uy)};f.prototype.Do=function(a){return this.Bo(a,gc.Vy)};var L=[];f.prototype.pc=function(a){var c,b,h;a.W();this.iw(a.k,a.ja,L);c=0;for(b=L.length;c<b;++c)if(h=L[c],h.H.solidEnabled&&this.dd(a,h))return U(L),h;U(L);return null};var y=[];f.prototype.uf=function(a,c){var b=null;c&&(b=y,U(b));a.W();this.aw(a.k,a.ja,L);var h,d,e;h=0;for(d=L.length;h<d;++h)if(e=L[h],e.H.jumpthruEnabled&&this.dd(a,e))if(c)b.push(e);else return U(L),e;U(L);return b};f.prototype.xd=function(a,c,b,h,d,e){h=h||50;var k=
a.x,l=a.y,n,g=null,f=null;for(n=0;n<h;n++)if(a.x=k+c*n,a.y=l+b*n,a.A(),!this.dd(a,g)&&((g=this.pc(a))&&(f=g),!g&&(d&&(e?g=this.dd(a,e)?e:null:g=this.uf(a),g&&(f=g)),!g)))return f&&this.Vk(a,c,b,f),!0;a.x=k;a.y=l;a.A();return!1};f.prototype.Nr=function(a,c,b,h){h=h||50;var d=a.x,e=a.y,k=null,l=null,n,g,f;for(n=0;n<h;++n)for(g=0;2>g;++g)if(f=2*g-1,a.x=d+c*n*f,a.y=e+b*n*f,a.A(),!this.dd(a,k))if(k=this.pc(a))l=k;else return l&&this.Vk(a,c*f,b*f,l),!0;a.x=d;a.y=e;a.A();return!1};f.prototype.Vk=function(a,
c,b,h){var d=2,e,k=!1;e=!1;for(var l=a.x,n=a.y;16>=d;)e=1/d,d*=2,a.x+=c*e*(k?1:-1),a.y+=b*e*(k?1:-1),a.A(),this.dd(a,h)?e=k=!0:(e=k=!1,l=a.x,n=a.y);e&&(a.x=l,a.y=n,a.A())};f.prototype.Cx=function(a,c){var b=ia(c)?100:c,h=0,d=a.x,e=a.y,k=0,l=0,n=0,g=this.pc(a);if(!g)return!0;for(;h<=b;){switch(k){case 0:l=0;n=-1;h++;break;case 1:l=1;n=-1;break;case 2:l=1;n=0;break;case 3:n=l=1;break;case 4:l=0;n=1;break;case 5:l=-1;n=1;break;case 6:l=-1;n=0;break;case 7:n=l=-1}k=(k+1)%8;a.x=z(d+l*h);a.y=z(e+n*h);a.A();
if(!this.dd(a,g)&&(g=this.pc(a),!g))return!0}a.x=d;a.y=e;a.A();return!1};f.prototype.hg=function(a,c){a.ae&&c.ae&&this.Yn.push([a,c])};var V=-1;f.prototype.trigger=function(a,c,b){if(!this.xa)return!1;var h=this.xa.Mf;if(!h)return!1;var d=!1,e,k,l;V++;var n=h.dm;k=0;for(l=n.length;k<l;++k)e=this.Fs(a,c,n[k],b),d=d||e;e=this.Fs(a,c,h,b);V--;return d||e};f.prototype.Fs=function(a,c,b,h){var d=!1,e,k,l,n;if(c)for(l=this.zo(a,c,c.type.name,b,h),d=d||l,n=c.type.Ga,e=0,k=n.length;e<k;++e)l=this.zo(a,c,
n[e].name,b,h),d=d||l;else l=this.zo(a,c,"system",b,h),d=d||l;return d};f.prototype.zo=function(a,c,b,h,d){var e,k=!1,l=!1,l="undefined"!==typeof d,n=(l?h.Rp:h.Gs)[b];if(!n)return k;var g=null;h=0;for(e=n.length;h<e;++h)if(n[h].method==a){g=n[h].Gh;break}if(!g)return k;var f;l?f=g[d]:f=g;if(!f)return null;h=0;for(e=f.length;h<e;h++)a=f[h][0],d=f[h][1],l=this.Kv(c,b,a,d),k=k||l;return k};f.prototype.Kv=function(a,c,b,h){var d,e,k=!1;this.Ao++;var l=this.cc().Uc;l&&this.Fi(l.tf);var n=1<this.Ao;this.Fi(b.tf);
n&&this.Bx();var g=this.Sn(b);g.Uc=b;a&&(d=this.types[c].Ba(),d.Oa=!1,U(d.i),d.i[0]=a,this.types[c].Le());a=!0;if(b.parent){c=g.rs;for(d=b.parent;d;)c.push(d),d=d.parent;c.reverse();d=0;for(e=c.length;d<e;d++)if(!c[d].Ox()){a=!1;break}}a&&(this.Oj++,b.td?b.Nx(h):b.jb(),k=k||g.Zf);this.Hr();n&&this.ux();this.dh(b.tf);l&&this.dh(l.tf);this.We&&0===this.oe&&0===V&&!this.Vm&&this.Eb();this.Ao--;return k};f.prototype.Wv=function(){var a=this.cc();return a.Uc.Kb[a.rc]};f.prototype.Bx=function(){this.zk++;
this.zk>=this.sn.length&&this.sn.push([])};f.prototype.ux=function(){this.zk--};f.prototype.Zp=function(){return this.sn[this.zk]};f.prototype.Sn=function(a){this.Nj++;this.Nj>=this.gm.length&&this.gm.push(new Sb);var c=this.cc();c.reset(a);return c};f.prototype.Hr=function(){this.Nj--};f.prototype.cc=function(){return this.gm[this.Nj]};f.prototype.$p=function(a,c){for(var b,h,d,e,k,l;c;){b=0;for(h=c.cd.length;b<h;b++)if(l=c.cd[b],l instanceof Tb&&lb(a,l.name))return l;c=c.parent}b=0;for(h=this.he.length;b<
h;b++)for(k=this.he[b],d=0,e=k.Te.length;d<e;d++)if(l=k.Te[d],l instanceof Tb&&lb(a,l.name))return l;return null};f.prototype.aq=function(a){var c,b;c=0;for(b=this.sd.length;c<b;c++)if(this.sd[c].X===a)return this.sd[c];return null};f.prototype.ck=function(a){var c,b;c=0;for(b=this.r.length;c<b;c++)if(this.r[c].X===a)return this.r[c];return null};f.prototype.Yv=function(a){var c,b;c=0;for(b=this.ug.length;c<b;c++)if(this.ug[c].X===a)return this.ug[c];return null};f.prototype.Fu=function(a,c){this.Qi=
[a,c];this.ra=!0};f.prototype.Cw=function(){var a=this,c=this.ho,b=this.qe,h=this.sk,e=!1;this.hs&&(e=!0,c="__c2_continuouspreview",this.hs=!1);if(c.length){this.Eb();b=this.Sx();if(m()&&!this.Xc)q(c,b,function(){ea("Saved state to IndexedDB storage ("+b.length+" bytes)");a.qe=b;a.trigger(Z.prototype.j.Il,null);a.qe="";e&&d()},function(h){try{localStorage.setItem("__c2save_"+c,b),ea("Saved state to WebStorage ("+b.length+" bytes)"),a.qe=b,a.trigger(Z.prototype.j.Il,null),a.qe="",e&&d()}catch(k){ea("Failed to save game state: "+
h+"; "+k),a.trigger(Z.prototype.j.dp,null)}});else try{localStorage.setItem("__c2save_"+c,b),ea("Saved state to WebStorage ("+b.length+" bytes)"),a.qe=b,this.trigger(Z.prototype.j.Il,null),a.qe="",e&&d()}catch(k){ea("Error saving to WebStorage: "+k),a.trigger(Z.prototype.j.dp,null)}this.sk=this.ho="";this.ib=null}if(h.length){if(m()&&!this.Xc)u(h,function(c){c?(a.ib=c,ea("Loaded state from IndexedDB storage ("+a.ib.length+" bytes)")):(a.ib=localStorage.getItem("__c2save_"+h)||"",ea("Loaded state from WebStorage ("+
a.ib.length+" bytes)"));a.Si=!1;a.ib||(a.ib=null,a.trigger(Z.prototype.j.hj,null))},function(){a.ib=localStorage.getItem("__c2save_"+h)||"";ea("Loaded state from WebStorage ("+a.ib.length+" bytes)");a.Si=!1;a.ib||(a.ib=null,a.trigger(Z.prototype.j.hj,null))});else{try{this.ib=localStorage.getItem("__c2save_"+h)||"",ea("Loaded state from WebStorage ("+this.ib.length+" bytes)")}catch(l){this.ib=null}this.Si=!1;a.ib||(a.ib=null,a.trigger(Z.prototype.j.hj,null))}this.ho=this.sk=""}null!==this.ib&&(this.Eb(),
this.Xw(this.ib)?(this.qe=this.ib,this.trigger(Z.prototype.j.It,null),this.qe=""):a.trigger(Z.prototype.j.hj,null),this.ib=null)};f.prototype.Sx=function(){var c,b,h,d,e,k,l,n={c2save:!0,version:1,rt:{time:this.zb.da,walltime:this.Ge.da,timescale:this.mg,tickcount:this.De,execcount:this.Oj,next_uid:this.vi,running_layout:this.xa.X,start_time_offset:Date.now()-this.jl},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};c=0;for(b=this.r.length;c<b;c++)if(e=this.r[c],!e.D&&!this.Co(e)){k=
{instances:[]};Va(e.H)&&(k.ex=a(e.H));h=0;for(d=e.i.length;h<d;h++)k.instances.push(this.fo(e.i[h]));n.types[e.X.toString()]=k}c=0;for(b=this.sd.length;c<b;c++)h=this.sd[c],n.layouts[h.X.toString()]=h.tb();d=n.events.groups;c=0;for(b=this.ug.length;c<b;c++)h=this.ug[c],d[h.X.toString()]=this.dk[h.Nh].Mh;b=n.events.cnds;for(l in this.Pe)this.Pe.hasOwnProperty(l)&&(c=this.Pe[l],Va(c.H)&&(b[l]={ex:a(c.H)}));b=n.events.acts;for(l in this.Ke)this.Ke.hasOwnProperty(l)&&(c=this.Ke[l],Va(c.H)&&(b[l]={ex:a(c.H)}));
b=n.events.vars;for(l in this.nh)this.nh.hasOwnProperty(l)&&(c=this.nh[l],c.mk||c.parent&&!c.bi||(b[l]=c.data));n.system=this.Ud.tb();return JSON.stringify(n)};f.prototype.Or=function(){var a,c,b,h,d,e;this.we={};a=0;for(c=this.r.length;a<c;a++)if(b=this.r[a],!b.D)for(h=0,d=b.i.length;h<d;h++)e=b.i[h],this.we[e.uid.toString()]=e};f.prototype.Xw=function(a){var c;try{c=JSON.parse(a)}catch(b){return!1}if(!c.c2save||1<c.version)return!1;this.Vh=!0;a=c.rt;this.zb.reset();this.zb.da=a.time;this.Ge.reset();
this.Ge.da=a.walltime||0;this.mg=a.timescale;this.De=a.tickcount;this.Oj=a.execcount;this.jl=Date.now()-a.start_time_offset;var h=a.running_layout;if(h!==this.xa.X)if(h=this.aq(h))this.Np(h);else return;var d,e,k,l,n,g,f;g=c.types;for(e in g)if(g.hasOwnProperty(e)&&(l=this.ck(parseInt(e,10)))&&!l.D&&!this.Co(l)){g[e].ex?l.H=g[e].ex:Wa(l.H);n=l.i;k=g[e].instances;h=0;for(d=pa(n.length,k.length);h<d;h++)this.tk(n[h],k[h]);h=k.length;for(d=n.length;h<d;h++)this.yf(n[h]);h=n.length;for(d=k.length;h<d;h++){n=
null;if(l.za.Ze&&(n=this.xa.bk(k[h].w.l),!n))continue;n=this.Gf(l.Jd,n,!1,0,0,!0);this.tk(n,k[h])}l.ih=!0}this.Eb();this.Or();d=c.layouts;for(e in d)d.hasOwnProperty(e)&&(h=this.aq(parseInt(e,10)))&&h.Pb(d[e]);d=c.events.groups;for(e in d)d.hasOwnProperty(e)&&(h=this.Yv(parseInt(e,10)))&&this.dk[h.Nh]&&this.dk[h.Nh].Ux(d[e]);h=c.events.cnds;for(e in this.Pe)this.Pe.hasOwnProperty(e)&&(h.hasOwnProperty(e)?this.Pe[e].H=h[e].ex:this.Pe[e].H={});h=c.events.acts;for(e in this.Ke)this.Ke.hasOwnProperty(e)&&
(h.hasOwnProperty(e)?this.Ke[e].H=h[e].ex:this.Ke[e].H={});h=c.events.vars;for(e in h)h.hasOwnProperty(e)&&this.nh.hasOwnProperty(e)&&(this.nh[e].data=h[e]);this.vi=a.next_uid;this.Vh=!1;h=0;for(d=this.Sj.length;h<d;++h)n=this.Sj[h],this.trigger(Object.getPrototypeOf(n.type.za).j.Uo,n);U(this.Sj);this.Ud.Pb(c.system);h=0;for(d=this.r.length;h<d;h++)if(l=this.r[h],!l.D&&!this.Co(l))for(c=0,e=l.i.length;c<e;c++){n=l.i[c];if(l.Kc)for(g=n.Lh(),U(n.siblings),a=0,k=l.sc.length;a<k;a++)f=l.sc[a],l!==f&&
n.siblings.push(f.i[g]);n.Fd&&n.Fd();if(n.J)for(a=0,k=n.J.length;a<k;a++)g=n.J[a],g.Fd&&g.Fd()}return this.ra=!0};f.prototype.fo=function(c,b){var h,e,d,k,l;k=c.type;d=k.za;var n={};b?n.c2=!0:n.uid=c.uid;Va(c.H)&&(n.ex=a(c.H));if(c.fb&&c.fb.length)for(n.ivs={},h=0,e=c.fb.length;h<e;h++)n.ivs[c.type.Pm[h].toString()]=c.fb[h];if(d.Ze){d={x:c.x,y:c.y,w:c.width,h:c.height,l:c.k.X,zi:c.Md()};0!==c.n&&(d.a=c.n);1!==c.opacity&&(d.o=c.opacity);.5!==c.ec&&(d.hX=c.ec);.5!==c.fc&&(d.hY=c.fc);0!==c.Fb&&(d.bm=
c.Fb);c.visible||(d.v=c.visible);c.ae||(d.ce=c.ae);-1!==c.ti&&(d.mts=c.ti);if(k.N.length)for(d.fx=[],h=0,e=k.N.length;h<e;h++)l=k.N[h],d.fx.push({name:l.name,active:c.Je[l.index],params:c.Ma[l.index]});n.w=d}if(c.J&&c.J.length)for(n.behs={},h=0,e=c.J.length;h<e;h++)k=c.J[h],k.tb&&(n.behs[k.type.X.toString()]=k.tb());c.tb&&(n.data=c.tb());return n};f.prototype.$v=function(a,c){var b,h;b=0;for(h=a.Pm.length;b<h;b++)if(a.Pm[b]===c)return b;return-1};f.prototype.Uv=function(a,c){var b,h;b=0;for(h=a.J.length;b<
h;b++)if(a.J[b].type.X===c)return b;return-1};f.prototype.tk=function(a,c,b){var h,d,e,k,l;l=a.type;var n=l.za;if(b){if(!c.c2)return}else a.uid=c.uid;c.ex?a.H=c.ex:Wa(a.H);if(d=c.ivs)for(h in d)d.hasOwnProperty(h)&&(e=this.$v(l,parseInt(h,10)),0>e||e>=a.fb.length||(k=d[h],null===k&&(k=NaN),a.fb[e]=k));if(n.Ze){e=c.w;a.k.X!==e.l&&(d=a.k,a.k=this.xa.bk(e.l),a.k?(d.eh(a,!0),a.k.uh(a,!0),a.A(),a.k.Li(0)):(a.k=d,b||this.yf(a)));a.x=e.x;a.y=e.y;a.width=e.w;a.height=e.h;a.Ed=e.zi;a.n=e.hasOwnProperty("a")?
e.a:0;a.opacity=e.hasOwnProperty("o")?e.o:1;a.ec=e.hasOwnProperty("hX")?e.hX:.5;a.fc=e.hasOwnProperty("hY")?e.hY:.5;a.visible=e.hasOwnProperty("v")?e.v:!0;a.ae=e.hasOwnProperty("ce")?e.ce:!0;a.ti=e.hasOwnProperty("mts")?e.mts:-1;a.Fb=e.hasOwnProperty("bm")?e.bm:0;a.yh=ib(a.Fb);this.u&&jb(a,a.Fb,this.u);a.A();if(e.hasOwnProperty("fx"))for(b=0,d=e.fx.length;b<d;b++)k=l.vm(e.fx[b].name),0>k||(a.Je[k]=e.fx[b].active,a.Ma[k]=e.fx[b].params);a.Dd()}if(l=c.behs)for(h in l)l.hasOwnProperty(h)&&(b=this.Uv(a,
parseInt(h,10)),0>b||a.J[b].Pb(l[h]));c.data&&a.Pb(c.data)};f.prototype.Sp=function(a,c,b){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(c,b)},b)};f.prototype.Lv=function(a,c){this.Sp("data.js",function(b){var h=new FileReader;h.onload=function(c){a(c.target.result)};h.onerror=c;h.readAsText(b)},c)};var E=[],G=0;f.prototype.wn=function(){if(E.length&&!(8<=G)){G++;var a=E.shift();this.Iu(a.filename,a.fy,a.hv)}};f.prototype.Tp=function(a,c,b){var h=this;
E.push({filename:a,fy:function(a){G--;h.wn();c(a)},hv:function(a){G--;h.wn();b(a)}});this.wn()};f.prototype.Iu=function(a,c,b){this.Sp(a,function(a){var b=new FileReader;b.onload=function(a){c(a.target.result)};b.readAsArrayBuffer(a)},b)};f.prototype.Mv=function(a,c,b){var h="",e=a.toLowerCase(),d=e.substr(e.length-4),e=e.substr(e.length-5);".mp4"===d?h="video/mp4":".webm"===e?h="video/webm":".m4a"===d?h="audio/mp4":".mp3"===d&&(h="audio/mpeg");this.Tp(a,function(a){a=URL.createObjectURL(new Blob([a],
{type:h}));c(a)},b)};f.prototype.Kw=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};f.prototype.Wr=function(a,c){this.lk&&!this.Kw(c)?this.Mv(c,function(c){a.src=c},function(a){alert("Failed to load image: "+a)}):a.src=c};f.prototype.bl=function(a,c){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=c:(a.webkitImageSmoothingEnabled=c,a.mozImageSmoothingEnabled=c,a.msImageSmoothingEnabled=c)};Ub=function(a){return new f(document.getElementById(a))};
Vb=function(a,c){return new f({dc:!0,width:a,height:c})};window.cr_createRuntime=Ub;window.cr_createDCRuntime=Vb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.wh=!0;document.body.appendChild(a);a=new f(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);
return a};window.createEjectaRuntime=function(){var a=new f(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var f=document.getElementById("c2canvas");return f?f.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(f,t){var m=window.cr_getC2Runtime();m&&m.Fu(f,t)};
window.cr_sizeCanvas=function(f,t){if(0!==f&&0!==t){var m=window.cr_getC2Runtime();m&&m.setSize(f,t)}};window.cr_setSuspended=function(f){var t=window.cr_getC2Runtime();t&&t.setSuspended(f)};
(function(){function f(a,b){this.b=a;this.Mf=null;this.scrollX=this.b.Ka/2;this.scrollY=this.b.Ja/2;this.scale=1;this.n=0;this.Dg=!0;this.name=b[0];this.ox=b[1];this.nx=b[2];this.width=b[1];this.height=b[2];this.Is=b[3];this.ds=b[4];this.X=b[5];var e=b[6],d,g;this.R=[];this.Rh=[];d=0;for(g=e.length;d<g;d++){var f=new Wb(this,e[d]);f.jr=d;this.R.push(f)}e=b[7];this.Xe=[];d=0;for(g=e.length;d<g;d++){var f=e[d],r=this.b.r[f[1]];r.Jd||(r.Jd=f);this.Xe.push(f);-1===this.Rh.indexOf(r)&&this.Rh.push(r)}this.N=
[];this.na=[];this.Ae=!0;this.Ma=[];d=0;for(g=b[8].length;d<g;d++)this.N.push({id:b[8][d][0],name:b[8][d][1],Xa:-1,vd:!1,Dc:!0,index:d}),this.Ma.push(b[8][d][2].slice(0));this.Dd();this.nf=new T(0,0,1,1);this.Wn=new T(0,0,1,1);this.lf={}}function t(a,b){return a.Ed-b.Ed}function m(a,b){this.hb=a;this.b=a.b;this.i=[];this.scale=1;this.n=0;this.fe=!1;this.Ee=new T(0,0,0,0);this.Ds=new va;this.ea=this.Z=this.fa=this.Y=0;this.pg=!1;this.He=-1;this.Xl=0;this.name=b[0];this.index=b[1];this.X=b[2];this.visible=
b[3];this.ld=b[4];this.Cd=b[5];this.hc=b[6];this.ic=b[7];this.opacity=b[8];this.Yj=b[9];this.Rc=b[10];this.Ub=b[11];this.Fb=b[12];this.bv=b[13];this.yh="source-over";this.Mb=this.Qb=0;this.Db=null;this.re=p();this.zd=!0;this.Rg=new T(0,0,-1,-1);this.xb=new T(0,0,-1,-1);this.Rc&&(this.Db=new hb(this.b.Ka,this.b.Ja));this.Sd=!1;var e=b[14],d,g;this.os=[];this.Ic=[];this.Bh=[];d=0;for(g=e.length;d<g;d++){var f=e[d],r=this.b.r[f[1]];r.Jd||(r.Jd=f,r.Du=this.index);this.Ic.push(f);-1===this.hb.Rh.indexOf(r)&&
this.hb.Rh.push(r)}Ba(this.os,this.Ic);this.N=[];this.na=[];this.Ae=!0;this.Ma=[];d=0;for(g=b[15].length;d<g;d++)this.N.push({id:b[15][d][0],name:b[15][d][1],Xa:-1,vd:!1,Dc:!0,index:d}),this.Ma.push(b[15][d][2].slice(0));this.Dd();this.nf=new T(0,0,1,1);this.Wn=new T(0,0,1,1)}function p(){return a.length?a.pop():[]}function q(c){U(c);a.push(c)}f.prototype.Rx=function(a){var b=a.type.X.toString();this.lf.hasOwnProperty(b)||(this.lf[b]=[]);this.lf[b].push(this.b.fo(a))};f.prototype.fq=function(){var a=
this.R[0];return!a.Cd&&1===a.opacity&&!a.Yj&&a.visible};f.prototype.Dd=function(){U(this.na);this.Ae=!0;var a,b,e;a=0;for(b=this.N.length;a<b;a++)e=this.N[a],e.Dc&&(this.na.push(e),e.vd||(this.Ae=!1))};f.prototype.um=function(a){var b,e,d;b=0;for(e=this.N.length;b<e;b++)if(d=this.N[b],d.name===a)return d;return null};var u=[],d=!0;f.prototype.po=function(){this.ds&&(this.Mf=this.b.hm[this.ds],this.Mf.Eo());this.b.xa=this;this.width=this.ox;this.height=this.nx;this.scrollX=this.b.Ka/2;this.scrollY=
this.b.Ja/2;var a,b,e,k,g,f,r;a=0;for(e=this.b.r.length;a<e;a++)if(b=this.b.r[a],!b.D)for(g=b.i,b=0,k=g.length;b<k;b++)if(f=g[b],f.k){var n=f.k.jr;n>=this.R.length&&(n=this.R.length-1);f.k=this.R[n];-1===f.k.i.indexOf(f)&&f.k.i.push(f);f.k.pg=!0}if(!d)for(a=0,e=this.R.length;a<e;++a)this.R[a].i.sort(t);U(u);this.pu();a=0;for(e=this.R.length;a<e;a++)f=this.R[a],f.Au(),f.Bl();g=!1;if(!this.Dg){for(r in this.lf)if(this.lf.hasOwnProperty(r)&&(b=this.b.ck(parseInt(r,10)))&&!b.D&&this.b.Do(b)){k=this.lf[r];
a=0;for(e=k.length;a<e;a++){f=null;if(b.za.Ze&&(f=this.bk(k[a].w.l),!f))continue;f=this.b.Gf(b.Jd,f,!1,0,0,!0);this.b.tk(f,k[a]);g=!0;u.push(f)}U(k)}a=0;for(e=this.R.length;a<e;a++)this.R[a].i.sort(t),this.R[a].pg=!0}g&&(this.b.Eb(),this.b.Or());for(a=0;a<u.length;a++)if(f=u[a],f.type.Kc)for(e=f.Lh(),b=0,k=f.type.sc.length;b<k;b++)r=f.type.sc[b],f.type!==r&&(r.i.length>e?f.siblings.push(r.i[e]):r.Jd&&(g=this.b.Gf(r.Jd,f.k,!0,f.x,f.y,!0),this.b.Eb(),r.zl(),f.siblings.push(g),u.push(g)));a=0;for(e=
this.Xe.length;a<e;a++)f=this.Xe[a],b=this.b.r[f[1]],b.Kc||this.b.Gf(this.Xe[a],null,!0);this.b.Vl=null;this.b.Eb();if(this.b.Aa&&!this.b.Ha)for(a=0,e=this.b.r.length;a<e;a++)r=this.b.r[a],!r.D&&r.i.length&&r.Tk&&r.Tk(this.b.Aa);if(this.b.Vh)Ba(this.b.Sj,u);else for(a=0,e=u.length;a<e;a++)f=u[a],this.b.trigger(Object.getPrototypeOf(f.type.za).j.Uo,f);U(u);this.b.Vh||this.b.trigger(Z.prototype.j.Ht,null);this.Dg=!1};f.prototype.zu=function(){var a,b,e,d,g;b=a=0;for(e=this.Xe.length;a<e;a++)d=this.Xe[a],
g=this.b.r[d[1]],g.global?g.Kc||this.b.Gf(d,null,!0):(this.Xe[b]=d,b++);Aa(this.Xe,b)};f.prototype.ey=function(){this.b.Vh||this.b.trigger(Z.prototype.j.Gt,null);this.b.Sm=!0;U(this.b.Ud.Cc);var a,b,e,k,g,f;if(!this.Dg)for(a=0,b=this.R.length;a<b;a++)for(this.R[a].Go(),g=this.R[a].i,e=0,k=g.length;e<k;e++)f=g[e],f.type.global||this.b.Do(f.type)&&this.Rx(f);a=0;for(b=this.R.length;a<b;a++){g=this.R[a].i;e=0;for(k=g.length;e<k;e++)f=g[e],f.type.global||this.b.yf(f);this.b.Eb();U(g);this.R[a].pg=!0}a=
0;for(b=this.b.r.length;a<b;a++)if(g=this.b.r[a],!(g.global||g.za.Ze||g.za.il||g.D)){e=0;for(k=g.i.length;e<k;e++)this.b.yf(g.i[e]);this.b.Eb()}d=!1;this.b.Sm=!1};new T(0,0,0,0);f.prototype.Wc=function(a){var b,e=a,d=!1,g=!this.b.Fc;g&&(this.b.rk||(this.b.rk=document.createElement("canvas"),b=this.b.rk,b.width=this.b.G,b.height=this.b.F,this.b.Eq=b.getContext("2d"),d=!0),b=this.b.rk,e=this.b.Eq,b.width!==this.b.G&&(b.width=this.b.G,d=!0),b.height!==this.b.F&&(b.height=this.b.F,d=!0),d&&this.b.bl(e,
this.b.Ca));e.globalAlpha=1;e.globalCompositeOperation="source-over";this.b.Ep&&!this.fq()&&e.clearRect(0,0,this.b.G,this.b.F);var f,r,d=0;for(f=this.R.length;d<f;d++)r=this.R[d],r.visible&&0<r.opacity&&11!==r.Fb&&(r.i.length||!r.Cd)?r.Wc(e):r.Bl();g&&a.drawImage(b,0,0,this.b.width,this.b.height)};f.prototype.Se=function(a){a.Vr(!0);this.b.Ua||(this.b.Ua=a.Wb(this.b.G,this.b.F,this.b.Ca));if(this.b.Ua.Ef!==this.b.G||this.b.Ua.Df!==this.b.F)a.deleteTexture(this.b.Ua),this.b.Ua=a.Wb(this.b.G,this.b.F,
this.b.Ca);a.bd(this.b.Ua);this.b.Fc||a.ig(this.b.G,this.b.F);var b,e;for(b=this.R.length-1;0<=b;--b)e=this.R[b],e.visible&&1===e.opacity&&e.Ae&&0===e.Fb&&(e.i.length||!e.Cd)?e.Se(a):e.Bl();a.Vr(!1)};f.prototype.Nb=function(a){var b=0<this.na.length||this.b.lh||!this.b.Fc||this.b.wa;if(b){this.b.Ua||(this.b.Ua=a.Wb(this.b.G,this.b.F,this.b.Ca));if(this.b.Ua.Ef!==this.b.G||this.b.Ua.Df!==this.b.F)a.deleteTexture(this.b.Ua),this.b.Ua=a.Wb(this.b.G,this.b.F,this.b.Ca);a.bd(this.b.Ua);this.b.Fc||a.ig(this.b.G,
this.b.F)}else this.b.Ua&&(a.bd(null),a.deleteTexture(this.b.Ua),this.b.Ua=null);this.b.Ep&&!this.fq()&&a.clear(0,0,0,0);var e,d,g;e=0;for(d=this.R.length;e<d;e++)g=this.R[e],g.visible&&0<g.opacity&&(g.i.length||!g.Cd)?g.Nb(a):g.Bl();b&&(0===this.na.length||1===this.na.length&&this.b.Fc?(1===this.na.length?(b=this.na[0].index,a.oc(this.na[0].Xa),a.gh(null,1/this.b.G,1/this.b.F,0,0,1,1,this.scale,this.n,0,0,this.b.G/2,this.b.F/2,this.b.zb.da,this.Ma[b]),a.Uk(this.na[0].Xa)&&(this.b.ra=!0)):a.oc(0),
this.b.Fc||a.ig(this.b.width,this.b.height),a.bd(null),a.Ur(!1),a.ze(1),a.Wa(this.b.Ua),a.Sr(),a.ad(),a.Qc(),b=this.b.width/2,e=this.b.height/2,a.gg(-b,e,b,e,b,-e,-b,-e),a.Wa(null),a.Ur(!0)):this.Zn(a,null,null,null))};f.prototype.Kh=function(){return 0<this.na.length||this.b.lh||!this.b.Fc||this.b.wa?this.b.Ua:null};f.prototype.bq=function(){var a=this.R[0].tc(),b,e,d;b=1;for(e=this.R.length;b<e;b++)d=this.R[b],(0!==d.hc||0!==d.ic)&&d.tc()<a&&(a=d.tc());return a};f.prototype.io=function(a){if(!this.Is){var b=
1/this.bq()*this.b.G/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.ra=!0)};f.prototype.jo=function(a){if(!this.Is){var b=1/this.bq()*this.b.F/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.ra=!0)};f.prototype.pu=function(){this.io(this.scrollX);this.jo(this.scrollY)};f.prototype.Zn=function(a,b,e,d){var g=e?e.na:b?b.na:this.na,f=1,r=0,n=0,h=0,w=this.b.G,m=this.b.F;e?(f=e.k.tc(),r=e.k.eb(),n=e.k.Y,h=e.k.Z,w=e.k.fa,m=
e.k.ea):b&&(f=b.tc(),r=b.eb(),n=b.Y,h=b.Z,w=b.fa,m=b.ea);var q=this.b.om,t,p,u,M,K=0,O=1,C,A,L=this.b.G,y=this.b.F,V=L/2,E=y/2,G=b?b.nf:this.nf,x=b?b.Wn:this.Wn,B=0,P=0,H=0,F=0,Q=L,W=L,R=y,xa=y,S=u=0;M=e?e.k.eb():0;if(e){t=0;for(p=g.length;t<p;t++)u+=a.fw(g[t].Xa),S+=a.gw(g[t].Xa);F=e.ja;B=b.Ia(F.left,F.top,!0,!0);H=b.Ia(F.left,F.top,!1,!0);Q=b.Ia(F.right,F.bottom,!0,!0);R=b.Ia(F.right,F.bottom,!1,!0);0!==M&&(t=b.Ia(F.right,F.top,!0,!0),p=b.Ia(F.right,F.top,!1,!0),P=b.Ia(F.left,F.bottom,!0,!0),F=
b.Ia(F.left,F.bottom,!1,!0),M=Math.min(B,Q,t,P),Q=Math.max(B,Q,t,P),B=M,M=Math.min(H,R,p,F),R=Math.max(H,R,p,F),H=M);B-=u;H-=S;Q+=u;R+=S;x.left=B/L;x.top=1-H/y;x.right=Q/L;x.bottom=1-R/y;P=B=z(B);F=H=z(H);W=Q=ta(Q);xa=R=ta(R);P-=u;F-=S;W+=u;xa+=S;0>B&&(B=0);0>H&&(H=0);Q>L&&(Q=L);R>y&&(R=y);0>P&&(P=0);0>F&&(F=0);W>L&&(W=L);xa>y&&(xa=y);G.left=B/L;G.top=1-H/y;G.right=Q/L;G.bottom=1-R/y}else G.left=x.left=0,G.top=x.top=0,G.right=x.right=1,G.bottom=x.bottom=1;S=e&&(a.Di(g[0].Xa)||0!==u||0!==S||1!==e.opacity||
e.type.za.er)||b&&!e&&1!==b.opacity;a.Sr();if(S){q[K]||(q[K]=a.Wb(L,y,this.b.Ca));if(q[K].Ef!==L||q[K].Df!==y)a.deleteTexture(q[K]),q[K]=a.Wb(L,y,this.b.Ca);a.oc(0);a.bd(q[K]);A=xa-F;a.clearRect(P,y-F-A,W-P,A);e?e.Nb(a):(a.Wa(this.b.gb),a.ze(b.opacity),a.ad(),a.translate(-V,-E),a.Qc(),a.yd(B,R,Q,R,Q,H,B,H,G));x.left=x.top=0;x.right=x.bottom=1;e&&(M=G.top,G.top=G.bottom,G.bottom=M);K=1;O=0}a.ze(1);u=g.length-1;var ra=a.Qn(g[u].Xa)||!b&&!e&&!this.b.Fc;t=M=0;for(p=g.length;t<p;t++){q[K]||(q[K]=a.Wb(L,
y,this.b.Ca));if(q[K].Ef!==L||q[K].Df!==y)a.deleteTexture(q[K]),q[K]=a.Wb(L,y,this.b.Ca);a.oc(g[t].Xa);M=g[t].index;a.Uk(g[t].Xa)&&(this.b.ra=!0);0!=t||S?(a.gh(d,1/L,1/y,x.left,x.top,x.right,x.bottom,f,r,n,h,(n+w)/2,(h+m)/2,this.b.zb.da,e?e.Ma[M]:b?b.Ma[M]:this.Ma[M]),a.Wa(null),t!==u||ra?(a.bd(q[K]),A=xa-F,C=y-F-A,a.clearRect(P,C,W-P,A)):(e?a.rf(e.Qb,e.Mb):b&&a.rf(b.Qb,b.Mb),a.bd(d)),a.Wa(q[O]),a.ad(),a.translate(-V,-E),a.Qc(),a.yd(B,R,Q,R,Q,H,B,H,G),t!==u||ra||a.Wa(null)):(a.bd(q[K]),A=xa-F,C=y-
F-A,a.clearRect(P,C,W-P,A),e?(e.wb&&e.wb.I?(C=e.wb.I,O=1/C.width,C=1/C.height):(O=1/e.width,C=1/e.height),a.gh(d,O,C,x.left,x.top,x.right,x.bottom,f,r,n,h,(n+w)/2,(h+m)/2,this.b.zb.da,e.Ma[M]),e.Nb(a)):(a.gh(d,1/L,1/y,0,0,1,1,f,r,n,h,(n+w)/2,(h+m)/2,this.b.zb.da,b?b.Ma[M]:this.Ma[M]),a.Wa(b?this.b.gb:this.b.Ua),a.ad(),a.translate(-V,-E),a.Qc(),a.yd(B,R,Q,R,Q,H,B,H,G)),x.left=x.top=0,x.right=x.bottom=1,e&&!ra&&(M=R,R=H,H=M));K=0===K?1:0;O=0===K?1:0}ra&&(a.oc(0),e?a.rf(e.Qb,e.Mb):b?a.rf(b.Qb,b.Mb):
this.b.Fc||(a.ig(this.b.width,this.b.height),V=this.b.width/2,E=this.b.height/2,H=B=0,Q=this.b.width,R=this.b.height),a.bd(d),a.Wa(q[O]),a.ad(),a.translate(-V,-E),a.Qc(),e&&1===g.length&&!S?a.yd(B,H,Q,H,Q,R,B,R,G):a.yd(B,R,Q,R,Q,H,B,H,G),a.Wa(null))};f.prototype.bk=function(a){var b,e;b=0;for(e=this.R.length;b<e;b++)if(this.R[b].X===a)return this.R[b];return null};f.prototype.tb=function(){var a,b,e,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.n,w:this.width,h:this.height,fv:this.Dg,persist:this.lf,
fx:[],layers:{}};a=0;for(b=this.N.length;a<b;a++)e=this.N[a],d.fx.push({name:e.name,active:e.Dc,params:this.Ma[e.index]});a=0;for(b=this.R.length;a<b;a++)e=this.R[a],d.layers[e.X.toString()]=e.tb();return d};f.prototype.Pb=function(a){var b,e,d,g;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.n=a.a;this.width=a.w;this.height=a.h;this.lf=a.persist;"undefined"!==typeof a.fv&&(this.Dg=a.fv);var f=a.fx;b=0;for(e=f.length;b<e;b++)if(d=this.um(f[b].name))d.Dc=f[b].active,this.Ma[d.index]=f[b].params;
this.Dd();b=a.layers;for(g in b)b.hasOwnProperty(g)&&(a=this.bk(parseInt(g,10)))&&a.Pb(b[g])};Ib=f;m.prototype.Dd=function(){U(this.na);this.Ae=!0;var a,b,e;a=0;for(b=this.N.length;a<b;a++)e=this.N[a],e.Dc&&(this.na.push(e),e.vd||(this.Ae=!1))};m.prototype.um=function(a){var b,e,d;b=0;for(e=this.N.length;b<e;b++)if(d=this.N[b],d.name===a)return d;return null};m.prototype.Au=function(){var a,b,e,d,g,f;b=a=0;for(e=this.Ic.length;a<e;a++){d=this.Ic[a];g=this.b.r[d[1]];f=this.b.Do(g);g=!0;if(!f||this.hb.Dg){d=
this.b.Gf(d,this,!0);if(!d)continue;u.push(d);d.type.global&&(g=!1,this.Bh.push(d.uid))}g&&(this.Ic[b]=this.Ic[a],b++)}this.Ic.length=b;this.b.Eb();!this.b.p&&this.N.length&&(this.Fb=this.bv);this.yh=ib(this.Fb);this.b.u&&jb(this,this.Fb,this.b.u);this.zd=!0};m.prototype.eh=function(a,b){var e=Da(this.i,a);0>e||(b&&this.Rc&&a.lc&&a.lc.right>=a.lc.left&&(a.W(),this.Db.update(a,a.lc,null),a.lc.set(0,0,-1,-1)),e===this.i.length-1?this.i.pop():(ya(this.i,e),this.Li(e)),this.zd=!0)};m.prototype.uh=function(a,
b){a.Ed=this.i.length;this.i.push(a);b&&this.Rc&&a.lc&&a.A();this.zd=!0};m.prototype.yx=function(a){this.i.unshift(a);this.Li(0)};m.prototype.cx=function(a,b,e){var d=a.Md();b=b.Md();ya(this.i,d);d<b&&b--;e&&b++;b===this.i.length?this.i.push(a):this.i.splice(b,0,a);this.Li(d<b?d:b)};m.prototype.Li=function(a){-1===this.He?this.He=a:a<this.He&&(this.He=a);this.zd=this.pg=!0};m.prototype.Go=function(){if(this.pg){-1===this.He&&(this.He=0);var a,b,e;if(this.Rc)for(a=this.He,b=this.i.length;a<b;++a)e=
this.i[a],e.Ed=a,this.Db.Zw(e.lc);else for(a=this.He,b=this.i.length;a<b;++a)this.i[a].Ed=a;this.pg=!1;this.He=-1}};m.prototype.tc=function(a){return this.bw()*(this.b.Fc||a?this.b.vh:1)};m.prototype.bw=function(){return(this.scale*this.hb.scale-1)*this.Ub+1};m.prototype.eb=function(){return this.fe?0:Ia(this.hb.n+this.n)};var a=[],g=[],e=[];m.prototype.zm=function(){this.Go();this.Db.Wk(this.Y,this.Z,this.fa,this.ea,e);if(!e.length)return p();if(1===e.length){var a=p();Ba(a,e[0]);U(e);return a}for(var b=
!0;1<e.length;){for(var a=e,d=void 0,k=void 0,f=void 0,m=void 0,r=void 0,d=0,k=a.length;d<k-1;d+=2){var f=a[d],m=a[d+1],r=p(),n=f,h=m,w=r,J=0,t=0,u=0,D=n.length,N=h.length,M=void 0,K=void 0;for(w.length=D+N;J<D&&t<N;++u)M=n[J],K=h[t],M.Ed<K.Ed?(w[u]=M,++J):(w[u]=K,++t);for(;J<D;++J,++u)w[u]=n[J];for(;t<N;++t,++u)w[u]=h[t];b||(q(f),q(m));g.push(r)}1===k%2&&(b?(f=p(),Ba(f,a[k-1]),g.push(f)):g.push(a[k-1]));Ba(a,g);U(g);b=!1}a=e[0];U(e);return a};m.prototype.Wc=function(a){this.Sd=this.Yj||1!==this.opacity||
0!==this.Fb;var b=this.b.canvas,e=a,d=!1;this.Sd&&(this.b.qk||(this.b.qk=document.createElement("canvas"),b=this.b.qk,b.width=this.b.G,b.height=this.b.F,this.b.Dq=b.getContext("2d"),d=!0),b=this.b.qk,e=this.b.Dq,b.width!==this.b.G&&(b.width=this.b.G,d=!0),b.height!==this.b.F&&(b.height=this.b.F,d=!0),d&&this.b.bl(e,this.b.Ca),this.Cd&&e.clearRect(0,0,this.b.G,this.b.F));e.globalAlpha=1;e.globalCompositeOperation="source-over";this.Cd||(e.fillStyle="rgb("+this.ld[0]+","+this.ld[1]+","+this.ld[2]+")",
e.fillRect(0,0,this.b.G,this.b.F));e.save();this.fe=!0;var d=this.Za(0,0,!0,!0),g=this.Za(0,0,!1,!0);this.fe=!1;this.b.Nc&&(d=Math.round(d),g=Math.round(g));this.Yk(d,g,e);var f=this.tc();e.scale(f,f);e.translate(-d,-g);this.Rc?(this.xb.left=this.Db.$b(this.Y),this.xb.top=this.Db.ac(this.Z),this.xb.right=this.Db.$b(this.fa),this.xb.bottom=this.Db.ac(this.ea),this.zd||!this.xb.Eh(this.Rg)?(q(this.re),d=this.zm(),this.zd=!1,this.Rg.zh(this.xb)):d=this.re):d=this.i;for(var r,n=null,g=0,f=d.length;g<
f;++g)r=d[g],r!==n&&(this.Xu(r,e),n=r);this.Rc&&(this.re=d);e.restore();this.Sd&&(a.globalCompositeOperation=this.yh,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};m.prototype.Xu=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.W();var e=a.ja;e.right<this.Y||e.bottom<this.Z||e.left>this.fa||e.top>this.ea||(b.globalCompositeOperation=a.yh,a.Wc(b))}};m.prototype.Bl=function(){this.fe=!0;var a=this.Za(0,0,!0,!0),b=this.Za(0,0,!1,!0);this.fe=!1;this.b.Nc&&(a=Math.round(a),b=Math.round(b));this.Yk(a,
b,null)};m.prototype.Yk=function(a,b,e){var d=this.tc();this.Y=a;this.Z=b;this.fa=a+1/d*this.b.G;this.ea=b+1/d*this.b.F;this.Y>this.fa&&(a=this.Y,this.Y=this.fa,this.fa=a);this.Z>this.ea&&(a=this.Z,this.Z=this.ea,this.ea=a);a=this.eb();0!==a&&(e&&(e.translate(this.b.G/2,this.b.F/2),e.rotate(-a),e.translate(this.b.G/-2,this.b.F/-2)),this.Ee.set(this.Y,this.Z,this.fa,this.ea),this.Ee.offset((this.Y+this.fa)/-2,(this.Z+this.ea)/-2),this.Ds.bs(this.Ee,a),this.Ds.wp(this.Ee),this.Ee.offset((this.Y+this.fa)/
2,(this.Z+this.ea)/2),this.Y=this.Ee.left,this.Z=this.Ee.top,this.fa=this.Ee.right,this.ea=this.Ee.bottom)};m.prototype.Se=function(a){if(this.Sd=this.Yj){this.b.gb||(this.b.gb=a.Wb(this.b.G,this.b.F,this.b.Ca));if(this.b.gb.Ef!==this.b.G||this.b.gb.Df!==this.b.F)a.deleteTexture(this.b.gb),this.b.gb=a.Wb(this.b.G,this.b.F,this.b.Ca);a.bd(this.b.gb)}this.fe=!0;var b=this.Za(0,0,!0,!0),e=this.Za(0,0,!1,!0);this.fe=!1;this.b.Nc&&(b=Math.round(b),e=Math.round(e));this.Yk(b,e,null);b=this.tc();a.ad();
a.scale(b,b);a.Zk(-this.eb());a.translate((this.Y+this.fa)/-2,(this.Z+this.ea)/-2);a.Qc();this.Rc?(this.xb.left=this.Db.$b(this.Y),this.xb.top=this.Db.ac(this.Z),this.xb.right=this.Db.$b(this.fa),this.xb.bottom=this.Db.ac(this.ea),this.zd||!this.xb.Eh(this.Rg)?(q(this.re),b=this.zm(),this.zd=!1,this.Rg.zh(this.xb)):b=this.re):b=this.i;for(var d,g=null,e=b.length-1;0<=e;--e)d=b[e],d!==g&&(this.Zu(b[e],a),g=d);this.Rc&&(this.re=b);this.Cd||(this.Xl=this.b.Lf++,a.cl(this.Xl),a.Tr(1,1,1),a.Xp(),a.Jx())};
m.prototype.Nb=function(a){var b=0,e=0;if(this.Sd=this.Yj||1!==this.opacity||0<this.na.length||0!==this.Fb){this.b.gb||(this.b.gb=a.Wb(this.b.G,this.b.F,this.b.Ca));if(this.b.gb.Ef!==this.b.G||this.b.gb.Df!==this.b.F)a.deleteTexture(this.b.gb),this.b.gb=a.Wb(this.b.G,this.b.F,this.b.Ca);a.bd(this.b.gb);this.Cd&&a.clear(0,0,0,0)}this.Cd||(this.b.wa?(a.cl(this.Xl),a.Tr(this.ld[0]/255,this.ld[1]/255,this.ld[2]/255),a.Xp(),a.Yx()):a.clear(this.ld[0]/255,this.ld[1]/255,this.ld[2]/255,1));this.fe=!0;var d=
this.Za(0,0,!0,!0),b=this.Za(0,0,!1,!0);this.fe=!1;this.b.Nc&&(d=Math.round(d),b=Math.round(b));this.Yk(d,b,null);d=this.tc();a.ad();a.scale(d,d);a.Zk(-this.eb());a.translate((this.Y+this.fa)/-2,(this.Z+this.ea)/-2);a.Qc();this.Rc?(this.xb.left=this.Db.$b(this.Y),this.xb.top=this.Db.ac(this.Z),this.xb.right=this.Db.$b(this.fa),this.xb.bottom=this.Db.ac(this.ea),this.zd||!this.xb.Eh(this.Rg)?(q(this.re),b=this.zm(),this.zd=!1,this.Rg.zh(this.xb)):b=this.re):b=this.i;var g,f,r=null,e=0;for(g=b.length;e<
g;++e)f=b[e],f!==r&&(this.Yu(b[e],a),r=f);this.Rc&&(this.re=b);this.Sd&&(b=this.na.length?this.na[0].Xa:0,e=this.na.length?this.na[0].index:0,0===this.na.length||1===this.na.length&&!a.Qn(b)&&1===this.opacity?(1===this.na.length?(a.oc(b),a.gh(this.hb.Kh(),1/this.b.G,1/this.b.F,0,0,1,1,d,this.eb(),this.Y,this.Z,(this.Y+this.fa)/2,(this.Z+this.ea)/2,this.b.zb.da,this.Ma[e]),a.Uk(b)&&(this.b.ra=!0)):a.oc(0),a.bd(this.hb.Kh()),a.ze(this.opacity),a.Wa(this.b.gb),a.rf(this.Qb,this.Mb),a.ad(),a.Qc(),d=this.b.G/
2,b=this.b.F/2,a.gg(-d,b,d,b,d,-b,-d,-b),a.Wa(null)):this.hb.Zn(a,this,null,this.hb.Kh()))};m.prototype.Yu=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.W();var e=a.ja;e.right<this.Y||e.bottom<this.Z||e.left>this.fa||e.top>this.ea||(b.cl(a.Lf),a.Ps?this.$u(a,b):(b.oc(0),b.rf(a.Qb,a.Mb),a.Nb(b)))}};m.prototype.Zu=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.W();var e=a.ja;e.right<this.Y||e.bottom<this.Z||e.left>this.fa||e.top>this.ea||(a.Lf=this.b.Lf++,0===a.Fb&&1===a.opacity&&
a.Ae&&a.Se&&(b.cl(a.Lf),a.Se(b)))}};m.prototype.$u=function(a,b){var e=a.na[0].Xa,d=a.na[0].index,g=this.tc();if(1!==a.na.length||b.Qn(e)||b.Ax(e)||(a.n||a.k.eb())&&b.Di(e)||1!==a.opacity||a.type.za.er)this.hb.Zn(b,this,a,this.Sd?this.b.gb:this.hb.Kh()),b.ad(),b.scale(g,g),b.Zk(-this.eb()),b.translate((this.Y+this.fa)/-2,(this.Z+this.ea)/-2),b.Qc();else{b.oc(e);b.rf(a.Qb,a.Mb);b.Uk(e)&&(this.b.ra=!0);var f=0,r=0,n=0,h=0;b.Di(e)&&(h=a.ja,f=this.Ia(h.left,h.top,!0,!0),r=this.Ia(h.left,h.top,!1,!0),
n=this.Ia(h.right,h.bottom,!0,!0),h=this.Ia(h.right,h.bottom,!1,!0),f=f/windowWidth,r=1-r/windowHeight,n=n/windowWidth,h=1-h/windowHeight);var w;a.wb&&a.wb.I?(w=a.wb.I,e=1/w.width,w=1/w.height):(e=1/a.width,w=1/a.height);b.gh(this.Sd?this.b.gb:this.hb.Kh(),e,w,f,r,n,h,g,this.eb(),this.Y,this.Z,(this.Y+this.fa)/2,(this.Z+this.ea)/2,this.b.zb.da,a.Ma[d]);a.Nb(b)}};m.prototype.Za=function(a,b,e,d){var g=this.b.devicePixelRatio;this.b.Tf&&(a*=g,b*=g);var g=this.b.Cr,f=this.b.Dr,g=(this.hb.scrollX-g)*
this.hc+g,f=(this.hb.scrollY-f)*this.ic+f,r=g,n=f,h=1/this.tc(!d);d?(r-=this.b.G*h/2,n-=this.b.F*h/2):(r-=this.b.width*h/2,n-=this.b.height*h/2);r+=a*h;n+=b*h;b=this.eb();0!==b&&(r-=g,n-=f,a=Math.cos(b),b=Math.sin(b),d=r*a-n*b,n=n*a+r*b,r=d+g,n+=f);return e?r:n};m.prototype.Ia=function(a,b,e,d){var g=this.b.Cr,f=this.b.Dr,r=(this.hb.scrollX-g)*this.hc+g,n=(this.hb.scrollY-f)*this.ic+f,f=r,g=n,h=this.eb();if(0!==h){a-=r;b-=n;var w=Math.cos(-h),h=Math.sin(-h),m=a*w-b*h;b=b*w+a*h;a=m+r;b+=n}r=1/this.tc(!d);
d?(f-=this.b.G*r/2,g-=this.b.F*r/2):(f-=this.b.width*r/2,g-=this.b.height*r/2);f=(a-f)/r;g=(b-g)/r;a=this.b.devicePixelRatio;this.b.Tf&&!d&&(f/=a,g/=a);return e?f:g};m.prototype.tb=function(){var a,b,e,d={s:this.scale,a:this.n,vl:this.Y,vt:this.Z,vr:this.fa,vb:this.ea,v:this.visible,bc:this.ld,t:this.Cd,px:this.hc,py:this.ic,o:this.opacity,zr:this.Ub,fx:[],cg:this.Bh,instances:[]};a=0;for(b=this.N.length;a<b;a++)e=this.N[a],d.fx.push({name:e.name,active:e.Dc,params:this.Ma[e.index]});return d};m.prototype.Pb=
function(a){var b,e,d;this.scale=a.s;this.n=a.a;this.Y=a.vl;this.Z=a.vt;this.fa=a.vr;this.ea=a.vb;this.visible=a.v;this.ld=a.bc;this.Cd=a.t;this.hc=a.px;this.ic=a.py;this.opacity=a.o;this.Ub=a.zr;this.Bh=a.cg||[];Ba(this.Ic,this.os);var g=new ca;b=0;for(d=this.Bh.length;b<d;++b)g.add(this.Bh[b]);e=b=0;for(d=this.Ic.length;b<d;++b)g.contains(this.Ic[b][2])||(this.Ic[e]=this.Ic[b],++e);Aa(this.Ic,e);e=a.fx;b=0;for(d=e.length;b<d;b++)if(a=this.um(e[b].name))a.Dc=e[b].active,this.Ma[a.index]=e[b].params;
this.Dd();this.i.sort(t);this.pg=!0};Wb=m})();
(function(){function f(a,b){var c,e=a.length;switch(e){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<e;c++)if(a[c]!==b[c])return!1;return!0}}function t(a,b){return a.index-b.index}function m(a){var b,c,e,d;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(t);a.length>=v.length&&(v.length=a.length+1);v[a.length]||(v[a.length]=[]);d=v[a.length];b=0;for(c=d.length;b<c;b++)if(e=d[b],f(a,e))return e;d.push(a);return a}
function p(a,b){this.b=a;this.Gs={};this.Rp={};this.Hm=!1;this.iq=new ca;this.dm=[];this.Jl=[];this.name=b[0];var c=b[1];this.Te=[];var e,d;e=0;for(d=c.length;e<d;e++)this.kq(c[e],null,this.Te)}function q(a){this.type=a;this.i=[];this.ba=[];this.Oa=!0}function u(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Ra=[];this.tf=[];this.gq=this.tl=this.yo=this.Nm=this.group=this.ls=!1;this.Kb=[];this.hd=[];this.cd=[];this.Nh="";this.Mh=this.Nm=this.group=!1;this.zj=null;c[1]&&(this.Nh=c[1][1].toLowerCase(),
this.group=!0,this.Nm=!!c[1][0],this.zj=[],this.Mh=this.Nm,this.b.ug.push(this),this.b.dk[this.Nh]=this);this.td=c[2];this.X=c[4];this.group||(this.b.vp[this.X.toString()]=this);var e=c[5];a=0;for(b=e.length;a<b;a++){var d=new Xb(this,e[a]);d.index=a;this.Kb.push(d);this.np(d.type)}e=c[6];a=0;for(b=e.length;a<b;a++)d=new Yb(this,e[a]),d.index=a,this.hd.push(d);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.kq(c[a],this,this.cd);this.nk=!1;this.Kb.length&&(this.nk=null==this.Kb[0].type&&
this.Kb[0].yb==Z.prototype.j.Qo)}function d(a,b){var c,e,d;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Kc))for(c=0,e=a.sc.length;c<e;c++)d=a.sc[c],a!==d&&-1===b.indexOf(d)&&b.push(d)}function a(a,b){this.Ec=a;this.sheet=a.sheet;this.b=a.b;this.U=[];this.Na=[];this.H={};this.index=-1;this.rh=!1;this.yb=this.b.Ie(b[1]);this.trigger=0<b[3];this.Qp=2===b[3];this.Od=b[4];this.Qm=b[5];this.Vw=b[6];this.X=b[7];this.b.Pe[this.X.toString()]=this;-1===b[0]?(this.type=null,this.jb=this.eo,this.Bf=null,this.nd=-1):
(this.type=this.b.r[b[0]],this.jb=this.Vw?this.Px:this.co,b[2]?(this.Bf=this.type.ak(b[2]),this.nd=this.type.qm(b[2])):(this.Bf=null,this.nd=-1),this.Ec.parent&&this.Ec.parent.dl());this.Qp&&(this.jb=this.Qx);if(10===b.length){var c,e,d=b[9];c=0;for(e=d.length;c<e;c++){var g=new Zb(this,d[c]);this.U.push(g)}this.Na.length=d.length}}function g(a,b){this.Ec=a;this.sheet=a.sheet;this.b=a.b;this.U=[];this.Na=[];this.H={};this.index=-1;this.rh=!1;this.yb=this.b.Ie(b[1]);-1===b[0]?(this.type=null,this.jb=
this.eo,this.Bf=null,this.nd=-1):(this.type=this.b.r[b[0]],this.jb=this.co,b[2]?(this.Bf=this.type.ak(b[2]),this.nd=this.type.qm(b[2])):(this.Bf=null,this.nd=-1));this.X=b[3];this.b.Ke[this.X.toString()]=this;if(6===b.length){var c,e,d=b[5];c=0;for(e=d.length;c<e;c++){var g=new Zb(this,d[c]);this.U.push(g)}this.Na.length=d.length}}function e(){r++;I.length===r&&I.push(new $b);return I[r]}function c(a,b){this.$c=a;this.Ec=a.Ec;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.Kd=null;this.Be=0;this.get=
null;this.Fp=0;this.hb=null;this.key=0;this.object=null;this.index=0;this.$i=this.kg=this.$i=this.kg=this.Up=this.Nf=this.aj=null;this.fd=!1;var c,e,d;switch(b[0]){case 0:case 7:this.Kd=new ac(this,b[1]);this.Be=0;this.get=this.pw;break;case 1:this.Kd=new ac(this,b[1]);this.Be=0;this.get=this.qw;break;case 5:this.Kd=new ac(this,b[1]);this.Be=0;this.get=this.vw;break;case 3:case 8:this.Fp=b[1];this.get=this.mw;break;case 6:this.hb=this.b.gn[b[1]];this.get=this.ww;break;case 9:this.key=b[1];this.get=
this.uw;break;case 4:this.object=this.b.r[b[1]];this.get=this.xw;this.Ec.np(this.object);this.$c instanceof Yb?this.Ec.dl():this.Ec.parent&&this.Ec.parent.dl();break;case 10:this.index=b[1];a.type&&a.type.D?(this.get=this.rw,this.fd=!0):this.get=this.sw;break;case 11:this.aj=b[1];this.Nf=null;this.get=this.ow;break;case 2:case 12:this.Up=b[1];this.get=this.lw;break;case 13:for(this.get=this.yw,this.kg=[],this.$i=[],c=1,e=b.length;c<e;c++)d=new Zb(this.$c,b[c]),this.kg.push(d),this.$i.push(0)}}function b(a,
b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Ra=[];this.name=c[1];this.Rs=c[2];this.Mm=c[3];this.bi=!!c[4];this.mk=!!c[5];this.X=c[6];this.b.nh[this.X.toString()]=this;this.data=this.Mm;this.parent?(this.dg=this.bi||this.mk?-1:this.b.by++,this.b.ju.push(this)):(this.dg=-1,this.b.iu.push(this))}function l(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Ra=[];this.Qh=null;this.Fw=c[1];this.Dc=!0}function k(){this.rs=[];this.reset(null)}var v=[];p.prototype.toString=function(){return this.name};
p.prototype.kq=function(a,b,c){switch(a[0]){case 0:a=new bc(this,b,a);if(a.td)for(c.push(a),c=0,b=a.Kb.length;c<b;c++)a.Kb[c].trigger&&this.lq(a,c);else a.uq()?this.lq(a,0):c.push(a);break;case 1:a=new Tb(this,b,a);c.push(a);break;case 2:a=new cc(this,b,a),c.push(a)}};p.prototype.Qa=function(){var a,b;a=0;for(b=this.Te.length;a<b;a++)this.Te[a].Qa(a<b-1&&this.Te[a+1].nk)};p.prototype.Eo=function(){U(this.dm);U(this.Jl);this.lp(this);U(this.Jl)};p.prototype.lp=function(a){var b,c,e,d,g=a.dm,k=a.Jl,
f=this.iq.Xd();b=0;for(c=f.length;b<c;++b)e=f[b],d=e.Qh,!e.Dc||a===d||-1<k.indexOf(d)||(k.push(d),d.lp(a),g.push(d))};p.prototype.jb=function(a){this.b.Pz||(this.Hm=!0,a||(this.b.Vm=!0));var b,c;b=0;for(c=this.Te.length;b<c;b++){var e=this.Te[b];e.jb();this.b.Wl(e.Ra);this.b.We&&this.b.Eb()}a||(this.b.Vm=!1)};p.prototype.lq=function(a,b){a.td||this.b.xl.push(a);var c,e,d=a.Kb[b],g;d.type?g=d.type.name:g="system";var k=(c=d.Qp)?this.Rp:this.Gs;k[g]||(k[g]=[]);g=k[g];k=d.yb;if(c){if(d.U.length&&(d=
d.U[0],1===d.type&&2===d.Kd.type)){d=d.Kd.value.toLowerCase();c=0;for(e=g.length;c<e;c++)if(g[c].method==k){c=g[c].Gh;c[d]?c[d].push([a,b]):c[d]=[[a,b]];return}c={};c[d]=[[a,b]];g.push({method:k,Gh:c})}}else{c=0;for(e=g.length;c<e;c++)if(g[c].method==k){g[c].Gh.push([a,b]);return}rc&&k===rc.prototype.j.sg?g.unshift({method:k,Gh:[[a,b]]}):g.push({method:k,Gh:[[a,b]]})}};Jb=p;q.prototype.Gm=function(){return this.Oa?this.type.i.length:this.i.length};q.prototype.pd=function(){return this.Oa?this.type.i:
this.i};q.prototype.Ci=function(a){a&&(a.b.cc().Uc.td?(this.Oa&&(U(this.i),Ba(this.ba,a.type.i),this.Oa=!1),a=this.ba.indexOf(a),-1!==a&&(this.i.push(this.ba[a]),this.ba.splice(a,1))):(this.Oa=!1,U(this.i),this.i[0]=a))};pb=q;window._c2hh_="189BF63191E29A43747095FF656474172E7DF1B8";u.prototype.Qa=function(a){var b,c=this.parent;if(this.group)for(this.tl=!0;c;){if(!c.group){this.tl=!1;break}c=c.parent}this.yo=!this.uq()&&(!this.parent||this.parent.group&&this.parent.tl);this.gq=!!a;this.tf=this.Ra.slice(0);
for(c=this.parent;c;){a=0;for(b=c.Ra.length;a<b;a++)this.gu(c.Ra[a]);c=c.parent}this.Ra=m(this.Ra);this.tf=m(this.tf);a=0;for(b=this.Kb.length;a<b;a++)this.Kb[a].Qa();a=0;for(b=this.hd.length;a<b;a++)this.hd[a].Qa();a=0;for(b=this.cd.length;a<b;a++)this.cd[a].Qa(a<b-1&&this.cd[a+1].nk)};u.prototype.Ux=function(a){if(this.Mh!==!!a){this.Mh=!!a;var b;a=0;for(b=this.zj.length;a<b;++a)this.zj[a].Ks();0<b&&this.b.xa.Mf&&this.b.xa.Mf.Eo()}};u.prototype.np=function(a){d(a,this.Ra)};u.prototype.gu=function(a){d(a,
this.tf)};u.prototype.dl=function(){this.ls=!0;this.parent&&this.parent.dl()};u.prototype.uq=function(){return this.Kb.length?this.Kb[0].trigger:!1};u.prototype.jb=function(){var a,b,c=!1,e=this.b,d=this.b.cc();d.Uc=this;var g=this.Kb;this.nk||(d.em=!1);if(this.td){0===g.length&&(c=!0);d.rc=0;for(a=g.length;d.rc<a;d.rc++)b=g[d.rc],b.trigger||(b=b.jb())&&(c=!0);(d.Zf=c)&&this.bo()}else{d.rc=0;for(a=g.length;d.rc<a;d.rc++)if(b=g[d.rc].jb(),!b){d.Zf=!1;this.yo&&e.We&&e.Eb();return}d.Zf=!0;this.bo()}this.dv(d)};
u.prototype.dv=function(a){a.Zf&&this.gq&&(a.em=!0);this.yo&&this.b.We&&this.b.Eb()};u.prototype.Nx=function(a){this.b.cc().Uc=this;this.Kb[a].jb()&&(this.bo(),this.b.cc().Zf=!0)};u.prototype.bo=function(){var a=this.b.cc(),b;a.Sc=0;for(b=this.hd.length;a.Sc<b;a.Sc++)if(this.hd[a.Sc].jb())return;this.Qr()};u.prototype.Lx=function(){var a=this.b.cc(),b;for(b=this.hd.length;a.Sc<b;a.Sc++)if(this.hd[a.Sc].jb())return;this.Qr()};u.prototype.Qr=function(){if(this.cd.length){var a,b,c,e,d=this.cd.length-
1;this.b.Sn(this);if(this.ls)for(a=0,b=this.cd.length;a<b;a++)c=this.cd[a],(e=!this.tl||!this.group&&a<d)&&this.b.Rn(c.Ra),c.jb(),e?this.b.dh(c.Ra):this.b.Wl(c.Ra);else for(a=0,b=this.cd.length;a<b;a++)this.cd[a].jb();this.b.Hr()}};u.prototype.Ox=function(){var a=this.b.cc();a.Uc=this;var b=!1,c;a.rc=0;for(c=this.Kb.length;a.rc<c;a.rc++)if(this.Kb[a.rc].jb())b=!0;else if(!this.td)return!1;return this.td?b:!0};u.prototype.Nw=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Kb[b].type===
a.type)return!1;return!0};bc=u;a.prototype.Qa=function(){var a,b,c;a=0;for(b=this.U.length;a<b;a++)c=this.U[a],c.Qa(),c.fd&&(this.rh=!0)};a.prototype.Qx=function(){return!0};a.prototype.eo=function(){var a,b;a=0;for(b=this.U.length;a<b;a++)this.Na[a]=this.U[a].get();return Ta(this.yb.apply(this.b.Ud,this.Na),this.Qm)};a.prototype.Px=function(){var a,b;a=0;for(b=this.U.length;a<b;a++)this.Na[a]=this.U[a].get();a=this.yb.apply(this.Bf?this.Bf:this.type,this.Na);this.type.Le();return a};a.prototype.co=
function(){var a,b,c,e,d,g,k,f,l=this.type,r=l.Ba(),m=this.Ec.td&&!this.trigger;b=0;var v=l.Kc,q=l.D,t=l.ie,u=this.nd,p=-1<u,I=this.rh,G=this.U,x=this.Na,B=this.Qm,P=this.yb,H;if(I)for(b=0,d=G.length;b<d;++b)g=G[b],g.fd||(x[b]=g.get(0));else for(b=0,d=G.length;b<d;++b)x[b]=G[b].get(0);if(r.Oa){U(r.i);U(r.ba);H=l.i;a=0;for(e=H.length;a<e;++a){f=H[a];if(I)for(b=0,d=G.length;b<d;++b)g=G[b],g.fd&&(x[b]=g.get(a));p?(b=0,q&&(b=f.type.Cg[t]),b=P.apply(f.J[u+b],x)):b=P.apply(f,x);(k=Ta(b,B))?r.i.push(f):
m&&r.ba.push(f)}l.finish&&l.finish(!0);r.Oa=!1;l.Le();return r.Gm()}c=0;H=(k=m&&!this.Ec.Nw(this))?r.ba:r.i;var F=!1;a=0;for(e=H.length;a<e;++a){f=H[a];if(I)for(b=0,d=G.length;b<d;++b)g=G[b],g.fd&&(x[b]=g.get(a));p?(b=0,q&&(b=f.type.Cg[t]),b=P.apply(f.J[u+b],x)):b=P.apply(f,x);if(Ta(b,B))if(F=!0,k){if(r.i.push(f),v)for(b=0,d=f.siblings.length;b<d;b++)g=f.siblings[b],g.type.Ba().i.push(g)}else{H[c]=f;if(v)for(b=0,d=f.siblings.length;b<d;b++)g=f.siblings[b],g.type.Ba().i[c]=g;c++}else if(k){H[c]=f;
if(v)for(b=0,d=f.siblings.length;b<d;b++)g=f.siblings[b],g.type.Ba().ba[c]=g;c++}else if(m&&(r.ba.push(f),v))for(b=0,d=f.siblings.length;b<d;b++)g=f.siblings[b],g.type.Ba().ba.push(g)}Aa(H,c);if(v)for(q=l.sc,a=0,e=q.length;a<e;a++)f=q[a].Ba(),k?Aa(f.ba,c):Aa(f.i,c);c=F;if(k&&!F)for(a=0,e=r.i.length;a<e;a++){f=r.i[a];if(I)for(b=0,d=G.length;b<d;b++)g=G[b],g.fd&&(x[b]=g.get(a));b=p?P.apply(f.J[u],x):P.apply(f,x);if(Ta(b,B)){F=!0;break}}l.finish&&l.finish(c||m);return m?F:r.Gm()};Xb=a;g.prototype.Qa=
function(){var a,b,c;a=0;for(b=this.U.length;a<b;a++)c=this.U[a],c.Qa(),c.fd&&(this.rh=!0)};g.prototype.eo=function(){var a=this.b,b,c,e=this.U,d=this.Na;b=0;for(c=e.length;b<c;++b)d[b]=e[b].get();return this.yb.apply(a.Ud,d)};g.prototype.co=function(){var a=this.type,b=this.nd,c=a.ie,e=this.rh,d=this.U,g=this.Na,k=this.yb,f=a.Ba().pd(),a=a.D,l=-1<b,r,m,v,q,t,u;if(e)for(m=0,q=d.length;m<q;++m)t=d[m],t.fd||(g[m]=t.get(0));else for(m=0,q=d.length;m<q;++m)g[m]=d[m].get(0);r=0;for(v=f.length;r<v;++r){u=
f[r];if(e)for(m=0,q=d.length;m<q;++m)t=d[m],t.fd&&(g[m]=t.get(r));l?(m=0,a&&(m=u.type.Cg[c]),k.apply(u.J[b+m],g)):k.apply(u,g)}return!1};Yb=g;var I=[],r=-1;c.prototype.Qa=function(){var a,b;if(11===this.type)this.Nf=this.b.$p(this.aj,this.Ec.parent);else if(13===this.type)for(a=0,b=this.kg.length;a<b;a++)this.kg[a].Qa();this.Kd&&this.Kd.Qa()};c.prototype.ax=function(a){this.fd||!a||a.za.il||(this.fd=!0)};c.prototype.$r=function(){this.fd=!0};c.prototype.pw=function(a){this.Be=a||0;a=e();this.Kd.get(a);
r--;return a.data};c.prototype.qw=function(a){this.Be=a||0;a=e();this.Kd.get(a);r--;return ka(a.data)?a.data:""};c.prototype.xw=function(){return this.object};c.prototype.mw=function(){return this.Fp};c.prototype.vw=function(a){this.Be=a||0;a=e();this.Kd.get(a);r--;return a.qb()?this.b.le(a.data):this.b.Jh(a.data)};c.prototype.ww=function(){return this.hb};c.prototype.uw=function(){return this.key};c.prototype.sw=function(){return this.index};c.prototype.rw=function(a){a=a||0;var b=this.$c.type,c=
null,c=b.Ba(),e=c.pd();if(e.length)c=e[a%e.length].type;else if(c.ba.length)c=c.ba[a%c.ba.length].type;else if(b.i.length)c=b.i[a%b.i.length].type;else return 0;return this.index+c.Qj[b.ie]};c.prototype.ow=function(){return this.Nf};c.prototype.lw=function(){return this.Up};c.prototype.yw=function(){var a,b;a=0;for(b=this.kg.length;a<b;a++)this.$i[a]=this.kg[a].get();return this.$i};Zb=c;b.prototype.Qa=function(){this.Ra=m(this.Ra)};b.prototype.el=function(a){var b=this.b.Zp();this.parent&&!this.bi&&
b?(this.dg>=b.length&&(b.length=this.dg+1),b[this.dg]=a):this.data=a};b.prototype.kw=function(){var a=this.b.Zp();return!this.parent||this.bi||!a||this.mk?this.data:this.dg>=a.length||"undefined"===typeof a[this.dg]?this.Mm:a[this.dg]};b.prototype.jb=function(){!this.parent||this.bi||this.mk||this.el(this.Mm)};Tb=b;l.prototype.toString=function(){return"include:"+this.Qh.toString()};l.prototype.Qa=function(){this.Qh=this.b.hm[this.Fw];this.sheet.iq.add(this);this.Ra=m(this.Ra);for(var a=this.parent;a;)a.group&&
a.zj.push(this),a=a.parent;this.Ks()};l.prototype.jb=function(){this.parent&&this.b.Fi(this.b.r);this.Qh.Hm||this.Qh.jb(!0);this.parent&&this.b.dh(this.b.r)};l.prototype.Ks=function(){for(var a=this.parent;a;){if(a.group&&!a.Mh){this.Dc=!1;return}a=a.parent}this.Dc=!0};cc=l;k.prototype.reset=function(a){this.Uc=a;this.Sc=this.rc=0;U(this.rs);this.em=this.Zf=!1};Sb=k})();
(function(){function f(d,a){this.$c=d;this.b=d.b;this.type=a[0];this.get=[this.xv,this.tv,this.Gv,this.Jv,this.iv,this.Hv,this.Bv,this.qv,this.Av,this.Fv,this.jv,this.Ev,this.rv,this.Cv,this.yv,this.zv,this.uv,this.vv,this.pv,this.Iv,this.Dv,this.wv,this.ov,this.sv][this.type];var g=null;this.ve=this.U=this.Na=this.yb=this.pl=this.second=this.first=this.value=null;this.nd=-1;this.qd=null;this.Qs=-1;this.Nf=this.aj=null;this.fh=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new ac(d,a[1]);break;case 18:this.first=new ac(d,a[1]);this.second=new ac(d,a[2]);this.pl=new ac(d,a[3]);break;case 19:this.yb=this.b.Ie(a[1]);this.yb!==Z.prototype.Fa.random&&this.yb!==Z.prototype.Fa.vu||this.$c.$r();this.Na=[];this.U=[];3===a.length?(g=a[2],this.Na.length=g.length+1):this.Na.length=1;break;case 20:this.ve=this.b.r[a[1]];this.nd=-1;this.yb=this.b.Ie(a[2]);this.fh=a[3];fc.Function&&this.yb===fc.Function.prototype.Fa.Ay&&this.$c.$r();a[4]?this.qd=new ac(d,a[4]):this.qd=null;this.Na=
[];this.U=[];6===a.length?(g=a[5],this.Na.length=g.length+1):this.Na.length=1;break;case 21:this.ve=this.b.r[a[1]];this.fh=a[2];a[3]?this.qd=new ac(d,a[3]):this.qd=null;this.Qs=a[4];break;case 22:this.ve=this.b.r[a[1]];this.ve.ak(a[2]);this.nd=this.ve.qm(a[2]);this.yb=this.b.Ie(a[3]);this.fh=a[4];a[5]?this.qd=new ac(d,a[5]):this.qd=null;this.Na=[];this.U=[];7===a.length?(g=a[6],this.Na.length=g.length+1):this.Na.length=1;break;case 23:this.aj=a[1],this.Nf=null}this.$c.ax(this.ve);4<=this.type&&17>=
this.type&&(this.first=new ac(d,a[1]),this.second=new ac(d,a[2]));if(g){var e,c;e=0;for(c=g.length;e<c;e++)this.U.push(new ac(d,g[e]))}}function t(){++u;q.length===u&&q.push(new $b);return q[u]}function m(d,a,g){var e,c;e=0;for(c=d.length;e<c;++e)d[e].get(g),a[e+1]=g.data}function p(d,a){this.type=d||dc.rg;this.data=a||0;this.fg=null;this.type==dc.rg&&(this.data=Math.floor(this.data))}f.prototype.Qa=function(){23===this.type&&(this.Nf=this.$c.b.$p(this.aj,this.$c.Ec.parent));this.first&&this.first.Qa();
this.second&&this.second.Qa();this.pl&&this.pl.Qa();this.qd&&this.qd.Qa();if(this.U){var d,a;d=0;for(a=this.U.length;d<a;d++)this.U[d].Qa()}};var q=[],u=-1;f.prototype.Iv=function(d){var a=this.U,g=this.Na;g[0]=d;d=t();m(a,g,d);--u;this.yb.apply(this.b.Ud,g)};f.prototype.Dv=function(d){var a=this.ve,g=this.Na,e=this.U,c=this.qd,b=this.yb,f=this.$c.Be,k=a.Ba(),v=k.pd();if(!v.length)if(k.ba.length)v=k.ba;else{this.fh?d.Ac(""):d.Da(0);return}g[0]=d;d.fg=a;d=t();m(e,g,d);c&&(c.get(d),d.qb()&&(f=d.data,
v=a.i));--u;a=v.length;if(f>=a||f<=-a)f%=a;0>f&&(f+=a);b.apply(v[f],g)};f.prototype.ov=function(d){var a=this.ve,g=this.Na,e=this.U,c=this.qd,b=this.nd,f=this.yb,k=this.$c.Be,v=a.Ba(),q=v.pd();if(!q.length)if(v.ba.length)q=v.ba;else{this.fh?d.Ac(""):d.Da(0);return}g[0]=d;d.fg=a;d=t();m(e,g,d);c&&(c.get(d),d.qb()&&(k=d.data,q=a.i));--u;e=q.length;if(k>=e||k<=-e)k%=e;0>k&&(k+=e);k=q[k];q=0;a.D&&(q=k.type.Cg[a.ie]);f.apply(k.J[b+q],g)};f.prototype.wv=function(d){var a=this.qd,g=this.ve,e=this.Qs,c=this.$c.Be,
b=g.Ba(),f=b.pd();if(!f.length)if(b.ba.length)f=b.ba;else{this.fh?d.Ac(""):d.Da(0);return}if(a){b=t();a.get(b);if(b.qb()){c=b.data;f=g.i;0!==f.length&&(c%=f.length,0>c&&(c+=f.length));c=g.xm(c);g=c.fb[e];ka(g)?d.Ac(g):d.B(g);--u;return}--u}a=f.length;if(c>=a||c<=-a)c%=a;0>c&&(c+=a);c=f[c];f=0;g.D&&(f=c.type.Qj[g.ie]);g=c.fb[e+f];ka(g)?d.Ac(g):d.B(g)};f.prototype.xv=function(d){d.type=dc.rg;d.data=this.value};f.prototype.tv=function(d){d.type=dc.qg;d.data=this.value};f.prototype.Gv=function(d){d.type=
dc.String;d.data=this.value};f.prototype.Jv=function(d){this.first.get(d);d.qb()&&(d.data=-d.data)};f.prototype.iv=function(d){this.first.get(d);var a=t();this.second.get(a);d.qb()&&a.qb()&&(d.data+=a.data,a.Jg()&&d.Ug());--u};f.prototype.Hv=function(d){this.first.get(d);var a=t();this.second.get(a);d.qb()&&a.qb()&&(d.data-=a.data,a.Jg()&&d.Ug());--u};f.prototype.Bv=function(d){this.first.get(d);var a=t();this.second.get(a);d.qb()&&a.qb()&&(d.data*=a.data,a.Jg()&&d.Ug());--u};f.prototype.qv=function(d){this.first.get(d);
var a=t();this.second.get(a);d.qb()&&a.qb()&&(d.data/=a.data,d.Ug());--u};f.prototype.Av=function(d){this.first.get(d);var a=t();this.second.get(a);d.qb()&&a.qb()&&(d.data%=a.data,a.Jg()&&d.Ug());--u};f.prototype.Fv=function(d){this.first.get(d);var a=t();this.second.get(a);d.qb()&&a.qb()&&(d.data=Math.pow(d.data,a.data),a.Jg()&&d.Ug());--u};f.prototype.jv=function(d){this.first.get(d);var a=t();this.second.get(a);a.Mg()||d.Mg()?this.lv(d,a):this.kv(d,a);--u};f.prototype.lv=function(d,a){d.Mg()&&
a.Mg()?this.nv(d,a):this.mv(d,a)};f.prototype.nv=function(d,a){d.data+=a.data};f.prototype.mv=function(d,a){d.Mg()?d.data+=(Math.round(1E10*a.data)/1E10).toString():d.Ac(d.data.toString()+a.data)};f.prototype.kv=function(d,a){d.Da(d.data&&a.data?1:0)};f.prototype.Ev=function(d){this.first.get(d);var a=t();this.second.get(a);d.qb()&&a.qb()&&(d.data||a.data?d.Da(1):d.Da(0));--u};f.prototype.pv=function(d){this.first.get(d);d.data?this.second.get(d):this.pl.get(d)};f.prototype.rv=function(d){this.first.get(d);
var a=t();this.second.get(a);d.Da(d.data===a.data?1:0);--u};f.prototype.Cv=function(d){this.first.get(d);var a=t();this.second.get(a);d.Da(d.data!==a.data?1:0);--u};f.prototype.yv=function(d){this.first.get(d);var a=t();this.second.get(a);d.Da(d.data<a.data?1:0);--u};f.prototype.zv=function(d){this.first.get(d);var a=t();this.second.get(a);d.Da(d.data<=a.data?1:0);--u};f.prototype.uv=function(d){this.first.get(d);var a=t();this.second.get(a);d.Da(d.data>a.data?1:0);--u};f.prototype.vv=function(d){this.first.get(d);
var a=t();this.second.get(a);d.Da(d.data>=a.data?1:0);--u};f.prototype.sv=function(d){var a=this.Nf.kw();ja(a)?d.B(a):d.Ac(a)};ac=f;p.prototype.Jg=function(){return this.type===dc.qg};p.prototype.qb=function(){return this.type===dc.rg||this.type===dc.qg};p.prototype.Mg=function(){return this.type===dc.String};p.prototype.Ug=function(){this.Jg()||(this.Mg()&&(this.data=parseFloat(this.data)),this.type=dc.qg)};p.prototype.Da=function(d){this.type=dc.rg;this.data=Math.floor(d)};p.prototype.B=function(d){this.type=
dc.qg;this.data=d};p.prototype.Ac=function(d){this.type=dc.String;this.data=d};p.prototype.Zx=function(d){ja(d)?(this.type=dc.qg,this.data=d):ka(d)?(this.type=dc.String,this.data=d.toString()):(this.type=dc.rg,this.data=0)};$b=p;dc={rg:0,qg:1,String:2}})();function Z(f){this.b=f;this.Cc=[]}
Z.prototype.tb=function(){var f={},t,m,p,q,u,d,a,g;f.waits=[];var e=f.waits,c;t=0;for(m=this.Cc.length;t<m;t++){d=this.Cc[t];c={t:d.time,st:d.ay,s:d.gs,ev:d.Fh.X,sm:[],sols:{}};d.Fh.hd[d.Sc]&&(c.act=d.Fh.hd[d.Sc].X);p=0;for(q=d.Ra.length;p<q;p++)c.sm.push(d.Ra[p].X);for(u in d.Bc)if(d.Bc.hasOwnProperty(u)){a=this.b.r[parseInt(u,10)];g={sa:d.Bc[u].Rr,insts:[]};p=0;for(q=d.Bc[u].Sf.length;p<q;p++)g.insts.push(d.Bc[u].Sf[p].uid);c.sols[a.X.toString()]=g}e.push(c)}return f};
Z.prototype.Pb=function(f){f=f.waits;var t,m,p,q,u,d,a,g,e,c,b;U(this.Cc);t=0;for(m=f.length;t<m;t++)if(d=f[t],g=this.b.vp[d.ev.toString()]){e=-1;p=0;for(q=g.hd.length;p<q;p++)if(g.hd[p].X===d.act){e=p;break}if(-1!==e){a={Bc:{},Ra:[],Lp:!1};a.time=d.t;a.ay=d.st||"";a.gs=!!d.s;a.Fh=g;a.Sc=e;p=0;for(q=d.sm.length;p<q;p++)(g=this.b.ck(d.sm[p]))&&a.Ra.push(g);for(u in d.sols)if(d.sols.hasOwnProperty(u)&&(g=this.b.ck(parseInt(u,10)))){e=d.sols[u];c={Rr:e.sa,Sf:[]};p=0;for(q=e.insts.length;p<q;p++)(b=this.b.Fg(e.insts[p]))&&
c.Sf.push(b);a.Bc[g.index.toString()]=c}this.Cc.push(a)}}};
(function(){function f(){}function t(){}function m(){}var p=Z.prototype;f.prototype.Ht=function(){return!0};f.prototype.Gt=function(){return!0};f.prototype.Zs=function(d,a,g){return ec(d,a,g)};f.prototype.Qo=function(){var d=this.b.cc();return d.em?!1:!d.Zf};f.prototype.Yo=function(){return!0};f.prototype.qt=function(){return!0};f.prototype.Il=function(){return!0};f.prototype.dp=function(){return!0};f.prototype.It=function(){return!0};f.prototype.hj=function(){return!0};f.prototype.Vs=function(d,
a,g){return Na(X(d),X(g))<=X(a)};f.prototype.ht=function(d,a){return Pa(X(d),X(a))};f.prototype.et=function(d,a,g){d=Ka(d);a=Ka(a);g=Ka(g);return Pa(g,a)?Pa(d,a)&&!Pa(d,g):!(!Pa(d,a)&&Pa(d,g))};p.j=new f;t.prototype.Wt=function(d,a){0===d.Rs?ja(a)?d.el(a):d.el(parseFloat(a)):1===d.Rs&&d.el(a.toString())};var q=[],u=[];t.prototype.Tt=function(d,a){if(!(0>=d||0>=a)){var g=this.b.Ob;(document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement||document.fullScreen||this.b.Xh)&&0<
this.b.Ue&&(g=this.b.Ue);0===g?this.b.setSize(d,a,!0):(this.b.Ka=d,this.b.Ja=a,this.b.setSize(this.b.Yf,this.b.Xf,!0))}};p.ya=new t;m.prototype["int"]=function(d,a){ka(a)?(d.Da(parseInt(a,10)),isNaN(d.data)&&(d.data=0)):d.Da(a)};m.prototype["float"]=function(d,a){ka(a)?(d.B(parseFloat(a)),isNaN(d.data)&&(d.data=0)):d.B(a)};m.prototype.random=function(d,a,g){void 0===g?d.B(Math.random()*a):d.B(Math.random()*(g-a)+a)};m.prototype.sqrt=function(d,a){d.B(Math.sqrt(a))};m.prototype.abs=function(d,a){d.B(Math.abs(a))};
m.prototype.round=function(d,a){d.Da(Math.round(a))};m.prototype.floor=function(d,a){d.Da(Math.floor(a))};m.prototype.ceil=function(d,a){d.Da(Math.ceil(a))};m.prototype.sin=function(d,a){d.B(Math.sin(X(a)))};m.prototype.cos=function(d,a){d.B(Math.cos(X(a)))};m.prototype.tan=function(d,a){d.B(Math.tan(X(a)))};m.prototype.asin=function(d,a){d.B(Ga(Math.asin(a)))};m.prototype.acos=function(d,a){d.B(Ga(Math.acos(a)))};m.prototype.atan=function(d,a){d.B(Ga(Math.atan(a)))};m.prototype.exp=function(d,a){d.B(Math.exp(a))};
m.prototype.log10=function(d,a){d.B(Math.log(a)/Math.LN10)};m.prototype.max=function(d){var a=arguments[1];"number"!==typeof a&&(a=0);var g,e,c;g=2;for(e=arguments.length;g<e;g++)c=arguments[g],"number"===typeof c&&a<c&&(a=c);d.B(a)};m.prototype.min=function(d){var a=arguments[1];"number"!==typeof a&&(a=0);var g,e,c;g=2;for(e=arguments.length;g<e;g++)c=arguments[g],"number"===typeof c&&a>c&&(a=c);d.B(a)};m.prototype.Jf=function(d){d.B(this.b.Jf)};m.prototype.mg=function(d){d.B(this.b.mg)};m.prototype.time=
function(d){d.B(this.b.zb.da)};m.prototype.De=function(d){d.Da(this.b.De)};m.prototype.Jk=function(d){d.Da(this.b.Jk)};m.prototype.mm=function(d){d.Da(this.b.mm)};m.prototype.n=function(d,a,g,e,c){d.B(Ga(La(a,g,e,c)))};m.prototype.left=function(d,a,g){d.Ac(ka(a)?a.substr(0,g):"")};m.prototype.right=function(d,a,g){d.Ac(ka(a)?a.substr(a.length-g):"")};m.prototype.replace=function(d,a,g,e){ka(a)&&ka(g)&&ka(e)?d.Ac(a.replace(new RegExp(eb(g),"gi"),e)):d.Ac(ka(a)?a:"")};m.prototype.trim=function(d,a){d.Ac(ka(a)?
a.trim():"")};m.prototype.vu=function(d){var a=z(Math.random()*(arguments.length-1));d.Zx(arguments[a+1])};m.prototype.Yl=function(d){d.B(this.b.Yl/1E3)};m.prototype.xk=function(d){d.B(this.b.xk)};p.Fa=new m;p.Mx=function(){var d,a,g,e,c,b,f=this.b.cc();d=0;for(g=this.Cc.length;d<g;d++){e=this.Cc[d];if(-1===e.time){if(!e.gs)continue}else if(e.time>this.b.zb.da)continue;f.Uc=e.Fh;f.Sc=e.Sc;f.rc=0;for(a in e.Bc)e.Bc.hasOwnProperty(a)&&(c=this.b.r[parseInt(a,10)].Ba(),b=e.Bc[a],c.Oa=b.Rr,Ba(c.i,b.Sf),
c=b,U(c.Sf),u.push(c));e.Fh.Lx();this.b.Wl(e.Ra);e.Lp=!0}a=d=0;for(g=this.Cc.length;d<g;d++)e=this.Cc[d],this.Cc[a]=e,e.Lp?(Wa(e.Bc),U(e.Ra),q.push(e)):a++;Aa(this.Cc,a)}})();
(function(){ob=function(f,m){var p=f[1],q=f[3],u=f[4],d=f[5],a=f[6],g=f[7],e=f[8];m.j||(m.j={});m.ya||(m.ya={});m.Fa||(m.Fa={});var c=m.j,b=m.ya,l=m.Fa;q&&(c.Ey=function(a,b){return ec(this.x,a,b)},c.Fy=function(a,b){return ec(this.y,a,b)},c.Ly=function(){var a=this.k;this.W();var b=this.ja;return!(b.right<a.Y||b.bottom<a.Z||b.left>a.fa||b.top>a.ea)},c.jt=function(){this.W();var a=this.ja,b=this.b.xa;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},c.Xy=function(a,b,c){var e=this.Ba(),
d=e.pd();if(!d.length)return!1;var h=d[0],g=h,f=Ra(h.x,h.y,b,c),l,m,q;l=1;for(m=d.length;l<m;l++)if(h=d[l],q=Ra(h.x,h.y,b,c),0===a&&q<f||1===a&&q>f)f=q,g=h;e.Ci(g);return!0},b.oz=function(a){this.x!==a&&(this.x=a,this.A())},b.pz=function(a){this.y!==a&&(this.y=a,this.A())},b.hp=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.A()},b.kz=function(a,b){var c=a.cw(this);if(c){var e;c.wm?(e=c.wm(b,!0),c=c.wm(b,!1)):(e=c.x,c=c.y);if(this.x!==e||this.y!==c)this.x=e,this.y=c,this.A()}},b.Qy=
function(a){0!==a&&(this.x+=Math.cos(this.n)*a,this.y+=Math.sin(this.n)*a,this.A())},b.Py=function(a,b){0!==b&&(this.x+=Math.cos(X(a))*b,this.y+=Math.sin(X(a))*b,this.A())},l.ij=function(a){a.B(this.x)},l.jj=function(a){a.B(this.y)},l.Jf=function(a){a.B(this.b.tm(this))});u&&(c.Dy=function(a,b){return ec(this.width,a,b)},c.$s=function(a,b){return ec(this.height,a,b)},b.Yt=function(a){this.width!==a&&(this.width=a,this.A())},b.Ut=function(a){this.height!==a&&(this.height=a,this.A())},b.lz=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.A()},l.uz=function(a){a.B(this.width)},l.dt=function(a){a.B(this.height)},l.xy=function(a){this.W();a.B(this.ja.left)},l.zy=function(a){this.W();a.B(this.ja.top)},l.yy=function(a){this.W();a.B(this.ja.right)},l.wy=function(a){this.W();a.B(this.ja.bottom)});d&&(c.Vs=function(a,b){return Na(this.n,X(b))<=X(a)},c.ht=function(a){return Pa(this.n,X(a))},c.et=function(a,b){var c=Ka(a),e=Ka(b),d=Ia(this.n);return Pa(e,c)?Pa(d,c)&&!Pa(d,
e):!(!Pa(d,c)&&Pa(d,e))},b.ez=function(a){a=X(Ha(a));isNaN(a)||this.n===a||(this.n=a,this.A())},b.az=function(a){0===a||isNaN(a)||(this.n+=X(a),this.n=Ia(this.n),this.A())},b.bz=function(a){0===a||isNaN(a)||(this.n-=X(a),this.n=Ia(this.n),this.A())},b.cz=function(a,b){var c=Oa(this.n,X(b),X(a));isNaN(c)||this.n===c||(this.n=c,this.A())},b.dz=function(a,b,c){a=Oa(this.n,Math.atan2(c-this.y,b-this.x),X(a));isNaN(a)||this.n===a||(this.n=a,this.A())},b.mz=function(a,b){var c=Math.atan2(b-this.y,a-this.x);
isNaN(c)||this.n===c||(this.n=c,this.A())},l.vy=function(a){a.B(Ja(this.n))});p||(c.By=function(a,b,c){return ec(this.fb[a],b,c)},c.Jy=function(a){return this.fb[a]},c.Yy=function(a,b){var c=this.Ba(),e=c.pd();if(!e.length)return!1;var d=e[0],h=d,g=d.fb[b],f,l,m;f=1;for(l=e.length;f<l;f++)if(d=e[f],m=d.fb[b],0===a&&m<g||1===a&&m>g)g=m,h=d;c.Ci(h);return!0},c.Wy=function(a){var b,c,e,d,h;if(this.b.Wv().Qm){h=this.Ba();if(h.Oa)for(h.Oa=!1,U(h.i),U(h.ba),e=this.i,b=0,c=e.length;b<c;b++)d=e[b],d.uid===
a?h.ba.push(d):h.i.push(d);else{e=b=0;for(c=h.i.length;b<c;b++)d=h.i[b],h.i[e]=d,d.uid===a?h.ba.push(d):e++;Aa(h.i,e)}this.Le();return!!h.i.length}d=this.b.Fg(a);if(!d)return!1;h=this.Ba();if(!h.Oa&&-1===h.i.indexOf(d))return!1;if(this.D)for(a=d.type.Ga,b=0,c=a.length;b<c;b++){if(a[b]===this)return h.Ci(d),this.Le(),!0}else if(d.type===this)return h.Ci(d),this.Le(),!0;return!1},c.Uo=function(){return!0},c.tt=function(){return!0},b.iz=function(a,b){var c=this.fb;ja(c[a])?c[a]=ja(b)?b:parseFloat(b):
ka(c[a])&&(c[a]=ka(b)?b:b.toString())},b.uy=function(a,b){var c=this.fb;ja(c[a])?c[a]=ja(b)?c[a]+b:c[a]+parseFloat(b):ka(c[a])&&(c[a]=ka(b)?c[a]+b:c[a]+b.toString())},b.qz=function(a,b){var c=this.fb;ja(c[a])&&(c[a]=ja(b)?c[a]-b:c[a]-parseFloat(b))},b.fz=function(a,b){this.fb[a]=b?1:0},b.rz=function(a){this.fb[a]=1-this.fb[a]},b.Hy=function(){this.b.yf(this)},b.lt||(b.lt=function(a){var b,c;try{b=JSON.parse(a)}catch(e){return}this.b.tk(this,b,!0);this.Fd&&this.Fd();if(this.J)for(a=0,b=this.J.length;a<
b;++a)c=this.J[a],c.Fd&&c.Fd()}),l.Gy=function(a){var b=a.fg.i.length,c,e,d;c=0;for(e=this.b.od.length;c<e;c++)d=this.b.od[c],a.fg.D?0<=d.type.Ga.indexOf(a.fg)&&b++:d.type===a.fg&&b++;a.Da(b)},l.$y=function(a){a.Da(a.fg.Ba().pd().length)},l.sz=function(a){a.Da(this.uid)},l.Iy=function(a){a.Da(this.Lh())},l.Ws||(l.Ws=function(a){a.Ac(JSON.stringify(this.b.fo(this,!0)))}));a&&(c.My=function(){return this.visible},b.nz=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.ra=!0)},c.Cy=function(a,
b){return ec(kb(100*this.opacity),a,b)},b.jz=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.ra=!0)},l.Opacity=function(a){a.B(kb(100*this.opacity))});g&&(c.Ky=function(a){return a?this.k===a:!1},c.Zy=function(a){var b=this.Ba(),c=b.pd();if(!c.length)return!1;var e=c[0],d=e,h,g;h=1;for(g=c.length;h<g;h++)if(e=c[h],0===a){if(e.k.index>d.k.index||e.k.index===d.k.index&&e.Md()>d.Md())d=e}else if(e.k.index<d.k.index||e.k.index===d.k.index&&e.Md()<d.Md())d=e;b.Ci(d);return!0},
b.Ty=function(){var a=this.k,b=a.i;b.length&&b[b.length-1]===this||(a.eh(this,!1),a.uh(this,!1),this.b.ra=!0)},b.Ry=function(){var a=this.k,b=a.i;b.length&&b[0]===this||(a.eh(this,!1),a.yx(this),this.b.ra=!0)},b.Sy=function(a){a&&a!=this.k&&(this.k.eh(this,!0),this.k=a,a.uh(this,!0),this.b.ra=!0)},b.wz=function(a,b){var c=0===a;if(b){var e=b.Xv(this);e&&e.uid!==this.uid&&(this.k.index!==e.k.index&&(this.k.eh(this,!0),this.k=e.k,e.k.uh(this,!0)),this.k.cx(this,e,c),this.b.ra=!0)}},l.Oy=function(a){a.Da(this.k.jr)},
l.Ny=function(a){a.Ac(this.k.name)},l.vz=function(a){a.Da(this.Md())});e&&(b.gz=function(a,b){if(this.b.p){var c=this.type.vm(b);if(!(0>c)){var e=1===a;this.Je[c]!==e&&(this.Je[c]=e,this.Dd(),this.b.ra=!0)}}},b.hz=function(a,b,c){if(this.b.p){var e=this.type.vm(a);0>e||(a=this.type.N[e],e=this.Ma[e],b=Math.floor(b),0>b||b>=e.length||(1===this.b.p.hw(a.Xa,b)&&(c/=100),e[b]!==c&&(e[b]=c,a.Dc&&(this.b.ra=!0))))}})};Kb=function(){this.Tl=this.Ll=!0;this.type.mj=!0;this.b.ra=!0;var f,m,p=this.Ml;f=0;for(m=
p.length;f<m;++f)p[f](this);this.k.Rc&&this.W()};Lb=function(f){f&&this.Ml.push(f)};Nb=function(){if(this.Ll){var f=this.ja,m=this.ub;f.set(this.x,this.y,this.x+this.width,this.y+this.height);f.offset(-this.ec*this.width,-this.fc*this.height);this.n?(f.offset(-this.x,-this.y),m.bs(f,this.n),m.offset(this.x,this.y),m.wp(f)):m.jg(f);f.normalize();this.Ll=!1;this.jy()}};var f=new T(0,0,0,0);Ob=function(){if(this.k.Rc){var t=this.k.Db,m=this.ja;f.set(t.$b(m.left),t.ac(m.top),t.$b(m.right),t.ac(m.bottom));
this.lc.Eh(f)||(this.lc.right<this.lc.left?t.update(this,null,f):t.update(this,this.lc,f),this.lc.zh(f),this.k.zd=!0)}};Pb=function(){if(this.Tl&&this.ae){this.W();var t=this.type.yj,m=this.ja;f.set(t.$b(m.left),t.ac(m.top),t.$b(m.right),t.ac(m.bottom));this.Qe.Eh(f)||(this.Qe.right<this.Qe.left?t.update(this,null,f):t.update(this,this.Qe,f),this.Qe.zh(f),this.Tl=!1)}};Mb=function(f,m){return this.ja.Lb(f,m)&&this.ub.Lb(f,m)?this.wf?this.gy(f,m):this.O&&!this.O.Ye()?(this.O.$d(this.width,this.height,
this.n),this.O.Lb(f-this.x,m-this.y)):!0:!1};Gb=function(){this.type.zl();return this.Rf};Qb=function(){this.k.Go();return this.Ed};Rb=function(){U(this.na);var f,m,p,q=!0;f=0;for(m=this.Je.length;f<m;f++)this.Je[f]&&(p=this.type.N[f],this.na.push(p),p.vd||(q=!1));this.Ps=!!this.na.length;this.Ae=q};Hb=function(){return"Inst"+this.Mr};tb=function(f){if(f&&f.Kc&&f.type!=this){var m,p,q;m=0;for(p=f.siblings.length;m<p;m++)if(q=f.siblings[m],q.type==this)return q}f=this.Ba().pd();return f.length?f[0]:
null};ub=function(f){var m=this.Ba().pd();return m.length?m[f.Lh()%m.length]:null};qb=function(){if(this.ih&&!this.D){var f,m;f=0;for(m=this.i.length;f<m;f++)this.i[f].Rf=f;var p=f,q=this.b.od;f=0;for(m=q.length;f<m;++f)q[f].type===this&&(q[f].Rf=p++);this.ih=!1}};Db=function(f){if(f<this.i.length)return this.i[f];f-=this.i.length;var m=this.b.od,p,q;p=0;for(q=m.length;p<q;++p)if(m[p].type===this){if(0===f)return m[p];--f}return null};vb=function(){return this.Ce[this.Id]};wb=function(){this.Id++;
this.Id===this.Ce.length?this.Ce.push(new pb(this)):(this.Ce[this.Id].Oa=!0,U(this.Ce[this.Id].ba))};xb=function(){this.Id++;this.Id===this.Ce.length&&this.Ce.push(new pb(this));var f=this.Ce[this.Id],m=this.Ce[this.Id-1];m.Oa?f.Oa=!0:(f.Oa=!1,Ba(f.i,m.i));U(f.ba)};yb=function(){this.Id--};zb=function(f){var m,p,q,u,d,a=0;if(!this.D)for(m=0,p=this.Ga.length;m<p;m++)for(d=this.Ga[m],q=0,u=d.La.length;q<u;q++){if(f===d.La[q].name)return this.H.lastBehIndex=a,d.La[q];a++}m=0;for(p=this.La.length;m<p;m++){if(f===
this.La[m].name)return this.H.lastBehIndex=a,this.La[m];a++}return null};Ab=function(f){return this.ak(f)?this.H.lastBehIndex:-1};Bb=function(f){var m,p;m=0;for(p=this.N.length;m<p;m++)if(this.N[m].name===f)return m;return-1};Cb=function(){if(this.Kc&&!this.D){var f,m,p,q,u,d,a;this.zl();d=this.Ba();var g=d.Oa,e=(f=this.b.cc())&&f.Uc&&f.Uc.td;f=0;for(m=this.sc.length;f<m;f++)if(u=this.sc[f],u!==this&&(u.zl(),a=u.Ba(),a.Oa=g,!g)){U(a.i);p=0;for(q=d.i.length;p<q;++p)a.i[p]=u.xm(d.i[p].Rf);if(e)for(U(a.ba),
p=0,q=d.ba.length;p<q;++p)a.ba[p]=u.xm(d.ba[p].Rf)}}};Fb=function(){return"Type"+this.X};ec=function(f,m,p){if("undefined"===typeof f||"undefined"===typeof p)return!1;switch(m){case 0:return f===p;case 1:return f!==p;case 2:return f<p;case 3:return f<=p;case 4:return f>p;case 5:return f>=p;default:return!1}}})();var nc={};function sc(f){this.b=f}
(function(){function f(a){-1===rb.indexOf(a)&&rb.push(a)}function t(a){var b=a.m,c;try{c=b.play()}catch(e){f(a);return}c?c.catch(function(){f(a)}):Bc&&!C.Ta&&f(a)}function m(){var a,b,c,e;Cc||xa||!E||(p(),"running"===E.state&&(Cc=!0));var d=rb.slice(0);U(rb);if(!F)for(a=0,b=d.length;a<b;++a)c=d[a],c.nc||c.uc||(e=c.m.play())&&e.catch(function(){f(c)})}function p(){"suspended"===E.state&&E.resume&&E.resume();if(E.createBuffer){var a=E.createBuffer(1,220,22050),b=E.createBufferSource();b.buffer=a;b.connect(E.destination);
g(b)}}function q(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function u(a){a=a.toLowerCase();return Y.hasOwnProperty(a)&&Y[a].length?Y[a][0].Gc():E.destination}function d(){return E.createGain?E.createGain():E.createGainNode()}function a(a){return E.createDelay?E.createDelay(a):E.createDelayNode(a)}function g(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function e(a,b,c,e){a.start?a.start(e||0,b):a.noteGrainOn(e||0,b,c-b)}function c(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function b(a,
b,c,e,h,g){this.type="filter";this.ud=[a,b,c,e,h,g];this.ca=d();this.M=d();this.M.gain.value=g;this.K=d();this.K.gain.value=1-g;this.Sa=E.createBiquadFilter();this.Sa.type="number"===typeof this.Sa.type?a:Gc[a];this.Sa.frequency.value=b;this.Sa.detune&&(this.Sa.detune.value=c);this.Sa.Q.value=e;this.Sa.gain.value=h;this.ca.connect(this.Sa);this.ca.connect(this.K);this.Sa.connect(this.M)}function l(b,c,e){this.type="delay";this.ud=[b,c,e];this.ca=d();this.M=d();this.M.gain.value=e;this.K=d();this.K.gain.value=
1-e;this.ri=d();this.Vc=a(b);this.Vc.delayTime.value=b;this.Ij=d();this.Ij.gain.value=c;this.ca.connect(this.ri);this.ca.connect(this.K);this.ri.connect(this.M);this.ri.connect(this.Vc);this.Vc.connect(this.Ij);this.Ij.connect(this.ri)}function k(a,b,c,e){this.type="convolve";this.ud=[b,c,e];this.ca=d();this.M=d();this.M.gain.value=c;this.K=d();this.K.gain.value=1-c;this.Ff=E.createConvolver();a&&(this.Ff.normalize=b,this.Ff.buffer=a);this.ca.connect(this.Ff);this.ca.connect(this.K);this.Ff.connect(this.M)}
function v(b,c,e,h,f){this.type="flanger";this.ud=[b,c,e,h,f];this.ca=d();this.K=d();this.K.gain.value=1-f/2;this.M=d();this.M.gain.value=f/2;this.Rj=d();this.Rj.gain.value=h;this.Vc=a(b+c);this.Vc.delayTime.value=b;this.sb=E.createOscillator();this.sb.frequency.value=e;this.xc=d();this.xc.gain.value=c;this.ca.connect(this.Vc);this.ca.connect(this.K);this.Vc.connect(this.M);this.Vc.connect(this.Rj);this.Rj.connect(this.Vc);this.sb.connect(this.xc);this.xc.connect(this.Vc.delayTime);g(this.sb)}function I(a,
b,c,e,h,f){this.type="phaser";this.ud=[a,b,c,e,h,f];this.ca=d();this.K=d();this.K.gain.value=1-f/2;this.M=d();this.M.gain.value=f/2;this.Sa=E.createBiquadFilter();this.Sa.type="number"===typeof this.Sa.type?7:"allpass";this.Sa.frequency.value=a;this.Sa.detune&&(this.Sa.detune.value=b);this.Sa.Q.value=c;this.sb=E.createOscillator();this.sb.frequency.value=h;this.xc=d();this.xc.gain.value=e;this.ca.connect(this.Sa);this.ca.connect(this.K);this.Sa.connect(this.M);this.sb.connect(this.xc);this.xc.connect(this.Sa.frequency);
g(this.sb)}function r(a){this.type="gain";this.ud=[a];this.la=d();this.la.gain.value=a}function n(a,b){this.type="tremolo";this.ud=[a,b];this.la=d();this.la.gain.value=1-b/2;this.sb=E.createOscillator();this.sb.frequency.value=a;this.xc=d();this.xc.gain.value=b/2;this.sb.connect(this.xc);this.xc.connect(this.la.gain);g(this.sb)}function h(a,b){this.type="ringmod";this.ud=[a,b];this.ca=d();this.M=d();this.M.gain.value=b;this.K=d();this.K.gain.value=1-b;this.Ii=d();this.Ii.gain.value=0;this.sb=E.createOscillator();
this.sb.frequency.value=a;this.sb.connect(this.Ii.gain);g(this.sb);this.ca.connect(this.Ii);this.ca.connect(this.K);this.Ii.connect(this.M)}function w(a,b,c,e,h){this.type="distortion";this.ud=[a,b,c,e,h];this.ca=d();this.Sk=d();this.Rk=d();this.Tx(c,Math.pow(10,e/20));this.M=d();this.M.gain.value=h;this.K=d();this.K.gain.value=1-h;this.Fl=E.createWaveShaper();this.Gj=new Float32Array(65536);this.Rv(a,b);this.Fl.Gj=this.Gj;this.ca.connect(this.Sk);this.ca.connect(this.K);this.Sk.connect(this.Fl);
this.Fl.connect(this.Rk);this.Rk.connect(this.M)}function J(a,b,c,e,d){this.type="compressor";this.ud=[a,b,c,e,d];this.la=E.createDynamicsCompressor();try{this.la.threshold.value=a,this.la.knee.value=b,this.la.ratio.value=c,this.la.attack.value=e,this.la.release.value=d}catch(h){}}function ga(a,b){this.type="analyser";this.ud=[a,b];this.la=E.createAnalyser();this.la.fftSize=a;this.la.smoothingTimeConstant=b;this.Pv=new Float32Array(this.la.frequencyBinCount);this.es=new Uint8Array(a);this.Ai=0}function ha(){this.qa=
null;this.wk=0}function D(a,b){this.src=a;this.V=V;this.Nd=b;this.lj=!1;var c=this;this.Wg=this.ah=null;this.bh=[];this.$k=0;this.Jo=this.Pj=this.qs=this.Ok=!1;1===V&&b&&!sb&&(this.V=0,this.ah=d());this.Zd=this.ka=null;var e;switch(this.V){case 0:this.ka=new Audio;this.ka.crossOrigin="anonymous";this.ka.addEventListener("canplaythrough",function(){c.Jo=!0});1===V&&E.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.qs=!0,this.ka.addEventListener("canplay",function(){!c.Wg&&c.ka&&
(c.Wg=E.createMediaElementSource(c.ka),c.Wg.connect(c.ah))}));this.ka.autoplay=!1;this.ka.Lz="auto";this.ka.src=a;break;case 1:C.lk?C.Tp(a,function(a){c.Zd=a;c.Kp()},function(){c.Pj=!0}):(e=new XMLHttpRequest,e.open("GET",a,!0),e.responseType="arraybuffer",e.onload=function(){c.Zd=e.response;c.Kp()},e.onerror=function(){c.Pj=!0},e.send());break;case 2:this.ka=!0;break;case 3:this.ka=!0}}function N(a,b){var c=this;this.tag=b;this.nc=this.Ld=!0;this.src=a.src;this.buffer=a;this.V=V;this.Nd=a.Nd;this.playbackRate=
1;this.Hg=!0;this.uc=this.Pc=!1;this.mc=0;this.ai=this.Kg=this.Od=!1;this.volume=1;this.Kn=function(a){if(!c.uc&&!c.Pc){var b=this;b||(b=a.target);b===c.kj&&(c.Hg=!0,c.nc=!0,L=c.tag,C.trigger(sc.prototype.j.gj,A))}};this.kj=null;this.Ig=1===H&&!this.Nd||2===H;this.Xg=1;this.startTime=this.Ig?C.zb.da:C.Ge.da;this.Va=this.cb=null;this.Qd=!1;this.Ab=null;this.yr=this.xr=this.ur=this.tr=this.Br=this.Ar=0;this.m=null;var e=!1;1!==this.V||0!==this.buffer.V||this.buffer.qs||(this.V=0);switch(this.V){case 0:this.Nd?
(this.m=a.ka,e=!a.lj,a.lj=!0):(this.m=new Audio,this.m.crossOrigin="anonymous",this.m.autoplay=!1,this.m.src=a.ka.src,e=!0);e&&this.m.addEventListener("ended",function(){L=c.tag;c.nc=!0;C.trigger(sc.prototype.j.gj,A)});break;case 1:this.cb=d();this.cb.connect(u(b));1===this.buffer.V?a.ka&&(this.m=E.createBufferSource(),this.m.buffer=a.ka,this.m.connect(this.cb)):(this.m=this.buffer.ka,this.buffer.ah.connect(this.cb),this.buffer.lj||(this.buffer.lj=!0,this.buffer.ka.addEventListener("ended",function(){L=
c.tag;c.nc=!0;C.trigger(sc.prototype.j.gj,A)})));break;case 2:this.m=new window.Media(y+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(c.Hg=!0,c.nc=!0,L=c.tag,C.trigger(sc.prototype.j.gj,A))});break;case 3:this.m=!0}}function M(a,b){Y.hasOwnProperty(a)?Y[a].push(b):Y[a]=[b];var c,e,d,h,g=E.destination;if(Y.hasOwnProperty(a)&&(d=Y[a],d.length))for(g=d[0].Gc(),c=0,e=d.length;c<e;c++)h=d[c],c+1===e?h.Tc(E.destination):h.Tc(d[c+1].Gc());U(Ua);if(a.length)for(c=0,e=x.length;c<e;c++)d=
x[c],lb(a,d.tag)&&Ua.push(d);else B&&!B.Qf()&&(U(Ua),Ua[0]=B);c=0;for(e=Ua.length;c<e;c++)Ua[c].Ex(g);za&&Eb===a&&(za.disconnect(),za.connect(g))}function K(){}var O=sc.prototype;O.pa=function(a){this.za=a;this.b=a.b};O.pa.prototype.L=function(){};var C=null,A=null,L="",y="",V=0,E=null,G=[],x=[],B=null,P=!1,H=0,F=!1,Q=1,W=0,R=0,xa=!1,S=1,ra=1,Ma=10,aa=1E4,Sa=1,za=null,Eb="",Bc=!1,rb=[],sb=!1,Cc=!1;document.addEventListener("pointerup",m,!0);document.addEventListener("touchend",m,!0);document.addEventListener("click",
m,!0);document.addEventListener("keydown",m,!0);document.addEventListener("gamepadconnected",m,!0);var Y={},Gc="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");b.prototype.Tc=function(a){this.M.disconnect();this.M.connect(a);this.K.disconnect();this.K.connect(a)};b.prototype.remove=function(){this.ca.disconnect();this.Sa.disconnect();this.M.disconnect();this.K.disconnect()};b.prototype.Gc=function(){return this.ca};l.prototype.Tc=function(a){this.M.disconnect();this.M.connect(a);
this.K.disconnect();this.K.connect(a)};l.prototype.remove=function(){this.ca.disconnect();this.ri.disconnect();this.Vc.disconnect();this.Ij.disconnect();this.M.disconnect();this.K.disconnect()};l.prototype.Gc=function(){return this.ca};k.prototype.Tc=function(a){this.M.disconnect();this.M.connect(a);this.K.disconnect();this.K.connect(a)};k.prototype.remove=function(){this.ca.disconnect();this.Ff.disconnect();this.M.disconnect();this.K.disconnect()};k.prototype.Gc=function(){return this.ca};v.prototype.Tc=
function(a){this.K.disconnect();this.K.connect(a);this.M.disconnect();this.M.connect(a)};v.prototype.remove=function(){this.ca.disconnect();this.Vc.disconnect();this.sb.disconnect();this.xc.disconnect();this.K.disconnect();this.M.disconnect();this.Rj.disconnect()};v.prototype.Gc=function(){return this.ca};I.prototype.Tc=function(a){this.K.disconnect();this.K.connect(a);this.M.disconnect();this.M.connect(a)};I.prototype.remove=function(){this.ca.disconnect();this.Sa.disconnect();this.sb.disconnect();
this.xc.disconnect();this.K.disconnect();this.M.disconnect()};I.prototype.Gc=function(){return this.ca};r.prototype.Tc=function(a){this.la.disconnect();this.la.connect(a)};r.prototype.remove=function(){this.la.disconnect()};r.prototype.Gc=function(){return this.la};n.prototype.Tc=function(a){this.la.disconnect();this.la.connect(a)};n.prototype.remove=function(){this.sb.disconnect();this.xc.disconnect();this.la.disconnect()};n.prototype.Gc=function(){return this.la};h.prototype.Tc=function(a){this.M.disconnect();
this.M.connect(a);this.K.disconnect();this.K.connect(a)};h.prototype.remove=function(){this.sb.disconnect();this.Ii.disconnect();this.ca.disconnect();this.M.disconnect();this.K.disconnect()};h.prototype.Gc=function(){return this.ca};w.prototype.Tx=function(a,b){.01>a&&(a=.01);this.Sk.gain.value=a;this.Rk.gain.value=Math.pow(1/a,.6)*b};w.prototype.shape=function(a,b,c){var e=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+e*(1-Math.exp(-(1/e)*(a-b)));return b*c};w.prototype.Rv=function(a,b){for(var c=Math.pow(10,
a/20),e=Math.pow(10,b/20),d=0,h=0;32768>h;++h)d=h/32768,d=this.shape(d,c,e),this.Gj[32768+h]=d,this.Gj[32768-h-1]=-d};w.prototype.Tc=function(a){this.M.disconnect();this.M.connect(a);this.K.disconnect();this.K.connect(a)};w.prototype.remove=function(){this.ca.disconnect();this.Sk.disconnect();this.Fl.disconnect();this.Rk.disconnect();this.M.disconnect();this.K.disconnect()};w.prototype.Gc=function(){return this.ca};J.prototype.Tc=function(a){this.la.disconnect();this.la.connect(a)};J.prototype.remove=
function(){this.la.disconnect()};J.prototype.Gc=function(){return this.la};ga.prototype.Ya=function(){this.la.getFloatFrequencyData(this.Pv);this.la.getByteTimeDomainData(this.es);for(var a=this.la.fftSize,b=0,c=this.Ai=0,e=0;b<a;b++)e=(this.es[b]-128)/128,0>e&&(e=-e),this.Ai<e&&(this.Ai=e),c+=e*e;this.Ai=q(this.Ai);q(Math.sqrt(c/a))};ga.prototype.Tc=function(a){this.la.disconnect();this.la.connect(a)};ga.prototype.remove=function(){this.la.disconnect()};ga.prototype.Gc=function(){return this.la};
ha.prototype.Ji=function(a){this.qa=a};ha.prototype.gk=function(){return!!this.qa};ha.prototype.Ya=function(){};D.prototype.Fx=function(){var a,b,c,e;c=a=0;for(b=x.length;a<b;++a)e=x[a],x[c]=e,e.buffer===this?e.stop():++c;x.length=c;this.Wg&&(this.Wg.disconnect(),this.Wg=null);this.ah&&(this.ah.disconnect(),this.ah=null);this.Zd=this.ka=null};D.prototype.Kp=function(){if(!this.ka&&this.Zd){var a=this;if(E.decodeAudioData)E.decodeAudioData(this.Zd,function(b){a.ka=b;a.Zd=null;var c,e,d;if(ia(a.Pk)||
F)ia(a.Aj)||(c=a.Aj.Ff,c.normalize=a.ir,c.buffer=b);else if(a.bh.length){c=0;for(e=a.bh.length;c<e;c++){b=a.bh[c];d=new N(a,b.ws);d.Xr(!0);if("undefined"!==typeof b.kr&&(b.qa=C.Fg(b.kr),!b.qa))continue;if(b.qa){var h=Qa(b.qa.x,b.qa.y,-b.qa.k.eb(),W,R,!0),g=Qa(b.qa.x,b.qa.y,-b.qa.k.eb(),W,R,!1);d.ko(h,g,Ga(b.qa.n-b.qa.k.eb()),b.Im,b.zn,b.Cn);d.Ji(b.qa)}else d.ko(b.x,b.y,b.cu,b.Im,b.zn,b.Cn);d.play(a.tn,a.Io,a.$k);a.Ok&&d.pause();x.push(d)}U(a.bh)}else d=new N(a,a.Pk||""),d.play(a.tn,a.Io,a.$k),a.Ok&&
d.pause(),x.push(d)},function(){a.Pj=!0});else if(this.ka=E.createBuffer(this.Zd,!1),this.Zd=null,ia(this.Pk)||F)ia(this.Aj)||(b=this.Aj.Ff,b.normalize=this.ir,b.buffer=this.ka);else{var b=new N(this,this.Pk);b.play(this.tn,this.Io,this.$k);this.Ok&&b.pause();x.push(b)}}};D.prototype.qq=function(){switch(this.V){case 0:var a=4<=this.ka.readyState;a&&(this.Jo=!0);return a||this.Jo;case 1:return!!this.Zd||!!this.ka;case 2:return!0;case 3:return!0}return!1};D.prototype.Ow=function(){switch(this.V){case 0:return this.qq();
case 1:return!!this.ka;case 2:return!0;case 3:return!0}return!1};D.prototype.Ew=function(){switch(this.V){case 0:return!!this.ka.error;case 1:return this.Pj}return!1};N.prototype.Qf=function(){switch(this.V){case 0:return this.m.ended;case 1:return 1===this.buffer.V?!this.Ld&&!this.nc&&this.m.loop||this.uc?!1:this.Hg:this.m.ended;case 2:return this.Hg;case 3:!0}return!0};N.prototype.uu=function(){return this.Ld||this.nc?!0:this.Qf()};N.prototype.Xr=function(a){1===V&&(!this.Qd&&a?this.cb&&(this.Va||
(this.Va=E.createPanner(),this.Va.panningModel="number"===typeof this.Va.panningModel?S:["equalpower","HRTF","soundfield"][S],this.Va.distanceModel="number"===typeof this.Va.distanceModel?ra:["linear","inverse","exponential"][ra],this.Va.refDistance=Ma,this.Va.maxDistance=aa,this.Va.rolloffFactor=Sa),this.cb.disconnect(),this.cb.connect(this.Va),this.Va.connect(u(this.tag)),this.Qd=!0):this.Qd&&!a&&this.cb&&(this.Va.disconnect(),this.cb.disconnect(),this.cb.connect(u(this.tag)),this.Qd=!1))};N.prototype.ko=
function(a,b,c,e,d,h){this.Qd&&1===V&&(this.Va.setPosition(a,b,0),this.Va.setOrientation(Math.cos(X(c)),Math.sin(X(c)),0),this.Va.coneInnerAngle=e,this.Va.coneOuterAngle=d,this.Va.coneOuterGain=h,this.Ar=a,this.Br=b,this.tr=c,this.ur=e,this.xr=d,this.yr=h)};N.prototype.Ji=function(a){this.Qd&&1===V&&(this.Ab||(this.Ab=new ha),this.Ab.Ji(a))};N.prototype.Ya=function(a){if(this.Qd&&1===V&&this.Ab&&this.Ab.gk()&&this.Yh()){this.Ab.Ya(a);a=this.Ab.qa;var b=Qa(a.x,a.y,-a.k.eb(),W,R,!0),c=Qa(a.x,a.y,-a.k.eb(),
W,R,!1);this.Va.setPosition(b,c,0);b=0;"undefined"!==typeof this.Ab.qa.n&&(b=a.n-a.k.eb(),this.Va.setOrientation(Math.cos(b),Math.sin(b),0))}};N.prototype.play=function(a,b,c,d){var h=this.m;this.Od=a;this.volume=b;c=c||0;d=d||0;switch(this.V){case 0:1!==h.playbackRate&&(h.playbackRate=1);h.volume!==b*Q&&(h.volume=b*Q);h.loop!==a&&(h.loop=a);h.muted&&(h.muted=!1);if(h.currentTime!==c)try{h.currentTime=c}catch(f){}t(this);break;case 1:this.muted=!1;this.Xg=1;if(1===this.buffer.V)this.cb.gain.value=
b*Q,this.Ld||(this.m=E.createBufferSource(),this.m.buffer=this.buffer.ka,this.m.connect(this.cb)),this.m.onended=this.Kn,this.kj=this.m,this.m.loop=a,this.Hg=!1,0===c?g(this.m,d):e(this.m,c,this.Of(),d);else{1!==h.playbackRate&&(h.playbackRate=1);h.loop!==a&&(h.loop=a);h.volume=b*Q;if(h.currentTime!==c)try{h.currentTime=c}catch(l){}t(this)}break;case 2:(!this.Ld&&this.nc||0!==c)&&h.seekTo(c);h.play();this.Hg=!1;break;case 3:C.Xb?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,
a)}this.playbackRate=1;this.startTime=(this.Ig?C.zb.da:C.Ge.da)-c;this.uc=this.nc=this.Ld=!1};N.prototype.stop=function(){switch(this.V){case 0:this.m.paused||this.m.pause();break;case 1:1===this.buffer.V?c(this.m):this.m.paused||this.m.pause();break;case 2:this.m.stop();break;case 3:C.Xb&&AppMobi.context.stopSound(this.src)}this.nc=!0;this.uc=!1};N.prototype.pause=function(){if(!(this.Ld||this.nc||this.Qf()||this.uc)){switch(this.V){case 0:this.m.paused||this.m.pause();break;case 1:1===this.buffer.V?
(this.mc=this.ym(!0),this.Od&&(this.mc=this.mc%this.Of()),this.uc=!0,c(this.m)):this.m.paused||this.m.pause();break;case 2:this.m.pause();break;case 3:C.Xb&&AppMobi.context.stopSound(this.src)}this.uc=!0}};N.prototype.Kx=function(){if(!(this.Ld||this.nc||this.Qf())&&this.uc){switch(this.V){case 0:t(this);break;case 1:1===this.buffer.V?(this.m=E.createBufferSource(),this.m.buffer=this.buffer.ka,this.m.connect(this.cb),this.m.onended=this.Kn,this.kj=this.m,this.m.loop=this.Od,this.cb.gain.value=Q*this.volume*
this.Xg,this.Al(),this.startTime=(this.Ig?C.zb.da:C.Ge.da)-this.mc/(this.playbackRate||.001),e(this.m,this.mc,this.Of())):t(this);break;case 2:this.m.play();break;case 3:C.Xb&&AppMobi.context.resumeSound(this.src)}this.uc=!1}};N.prototype.seek=function(a){if(!(this.Ld||this.nc||this.Qf()))switch(this.V){case 0:try{this.m.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.V)this.uc?this.mc=a:(this.pause(),this.mc=a,this.Kx());else try{this.m.currentTime=a}catch(c){}break;case 3:C.Xb&&AppMobi.context.seekSound(this.src,
a)}};N.prototype.Ex=function(a){1===this.V&&(this.Qd?(this.Va.disconnect(),this.Va.connect(a)):(this.cb.disconnect(),this.cb.connect(a)))};N.prototype.Of=function(){var a=0;switch(this.V){case 0:"undefined"!==typeof this.m.duration&&(a=this.m.duration);break;case 1:a=this.buffer.ka.duration;break;case 2:a=this.m.getDuration();break;case 3:C.Xb&&(a=AppMobi.context.getDurationSound(this.src))}return a};N.prototype.ym=function(a){var b=this.Of(),c=0;switch(this.V){case 0:"undefined"!==typeof this.m.currentTime&&
(c=this.m.currentTime);break;case 1:if(1===this.buffer.V){if(this.uc)return this.mc;c=(this.Ig?C.zb.da:C.Ge.da)-this.startTime}else"undefined"!==typeof this.m.currentTime&&(c=this.m.currentTime);break;case 3:C.Xb&&(c=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(c*=this.playbackRate);!this.Od&&c>b&&(c=b);return c};N.prototype.Yh=function(){return!this.uc&&!this.Ld&&!this.nc&&!this.Qf()};N.prototype.$x=function(){return!this.Ld&&!this.nc&&!this.Qf()};N.prototype.hy=function(){var a=this.volume*
Q;isFinite(a)||(a=0);switch(this.V){case 0:"undefined"!==typeof this.m.volume&&this.m.volume!==a&&(this.m.volume=a);break;case 1:1===this.buffer.V?this.cb.gain.value=a*this.Xg:"undefined"!==typeof this.m.volume&&this.m.volume!==a&&(this.m.volume=a)}};N.prototype.Lj=function(a){switch(this.V){case 0:this.m.muted!==!!a&&(this.m.muted=!!a);break;case 1:1===this.buffer.V?(this.Xg=a?0:1,this.cb.gain.value=Q*this.volume*this.Xg):this.m.muted!==!!a&&(this.m.muted=!!a)}};N.prototype.Vx=function(){this.Kg=
!0;this.Lj(this.Kg||this.ai)};N.prototype.Yr=function(a){this.ai=!!a;this.Lj(this.Kg||this.ai)};N.prototype.Al=function(){var a=this.playbackRate;this.Ig&&(a*=C.mg);switch(this.V){case 0:this.m.playbackRate!==a&&(this.m.playbackRate=a);break;case 1:1===this.buffer.V?this.m.playbackRate.value!==a&&(this.m.playbackRate.value=a):this.m.playbackRate!==a&&(this.m.playbackRate=a)}};N.prototype.Xx=function(a){switch(this.V){case 0:a?this.Yh()?(this.Pc=!0,this.m.pause()):this.Pc=!1:this.Pc&&(this.m.play(),
this.Pc=!1);break;case 1:a?this.Yh()?(this.Pc=!0,1===this.buffer.V?(this.mc=this.ym(!0),this.Od&&(this.mc=this.mc%this.Of()),c(this.m)):this.m.pause()):this.Pc=!1:this.Pc&&(1===this.buffer.V?(this.m=E.createBufferSource(),this.m.buffer=this.buffer.ka,this.m.connect(this.cb),this.m.onended=this.Kn,this.kj=this.m,this.m.loop=this.Od,this.cb.gain.value=Q*this.volume*this.Xg,this.Al(),this.startTime=(this.Ig?C.zb.da:C.Ge.da)-this.mc/(this.playbackRate||.001),e(this.m,this.mc,this.Of())):this.m.play(),
this.Pc=!1);break;case 2:a?this.Yh()?(this.m.pause(),this.Pc=!0):this.Pc=!1:this.Pc&&(this.Pc=!1,this.m.play())}};O.aa=function(a){this.type=a;C=this.b=a.b;A=this;this.vc=null;this.hi=-600;this.b.lk&&(sb=!0);!(this.b.Ng||this.b.Th&&(this.b.Rm||this.b.hk))||this.b.jk||this.b.Ha||this.b.oq||sb||(Bc=!0);E=null;"undefined"!==typeof AudioContext?(V=1,E=new AudioContext):"undefined"!==typeof webkitAudioContext&&(V=1,E=new webkitAudioContext);this.b.Ng&&E&&(E.close&&E.close(),"undefined"!==typeof AudioContext?
E=new AudioContext:"undefined"!==typeof webkitAudioContext&&(E=new webkitAudioContext));1!==V&&(this.b.Jc&&"undefined"!==typeof window.Media?V=2:this.b.pq&&(V=3));2===V&&(y=location.href,a=y.lastIndexOf("/"),-1<a&&(y=y.substr(0,a+1)),y=y.replace("file://",""));if(this.b.Pw&&this.b.Rw&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.yf(this);else{if(this.b.Xb)P=this.b.Th;else try{P=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')&&
!this.b.Xm}catch(b){P=!1}this.b.ql(this)}};var sa=O.aa.prototype;sa.L=function(){this.b.vg=this;H=this.q[0];this.ye=this.q[1];this.tx=0!==this.q[2];S=this.q[3];ra=this.q[4];this.hi=-this.q[5];Ma=this.q[6];aa=this.q[7];Sa=this.q[8];this.vc=new ha;var a=this.b.G||this.b.width,b=this.b.F||this.b.height;1===V&&(E.listener.setPosition(a/2,b/2,this.hi),E.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){za&&za.disconnect();Eb=b.toLowerCase();za=E.createMediaStreamSource(a);za.connect(u(Eb))});
this.b.hu(function(a){A.lx(a)});var c=this;this.b.mp(function(a){c.Dn(a)})};sa.Dn=function(a){var b,c,e;b=0;for(c=x.length;b<c;b++)e=x[b],e.Ab&&e.Ab.qa===a&&(e.Ab.qa=null,e.Qd&&e.Yh()&&e.Od&&e.stop());this.vc.qa===a&&(this.vc.qa=null)};sa.tb=function(){var a={silent:F,masterVolume:Q,listenerZ:this.hi,listenerUid:this.vc.gk()?this.vc.qa.uid:-1,playing:[],effects:{}},b=a.playing,c,e,d,h,g,f;c=0;for(e=x.length;c<e;c++)d=x[c],!d.$x()||3===this.ye||d.Nd&&1===this.ye||!d.Nd&&2===this.ye||(h=d.ym(),d.Od&&
(h=h%d.Of()),h={tag:d.tag,buffersrc:d.buffer.src,is_music:d.Nd,playbackTime:h,volume:d.volume,looping:d.Od,muted:d.Kg,playbackRate:d.playbackRate,paused:d.uc,resume_position:d.mc},d.Qd&&(h.pan={},f=h.pan,d.Ab&&d.Ab.gk()?f.objUid=d.Ab.qa.uid:(f.x=d.Ar,f.y=d.Br,f.a=d.tr),f.ia=d.ur,f.oa=d.xr,f.og=d.yr),b.push(h));b=a.effects;for(g in Y)if(Y.hasOwnProperty(g)){d=[];c=0;for(e=Y[g].length;c<e;c++)d.push({type:Y[g][c].type,params:Y[g][c].ud});b[g]=d}return a};var bb=[];sa.Pb=function(a){var c=a.silent;Q=
a.masterVolume;this.hi=a.listenerZ;this.vc.Ji(null);var e=a.listenerUid;-1!==e&&(this.vc.wk=e,bb.push(this.vc));var e=a.playing,d,g,f,m,q,u,p,t,D,y,G;if(3!==this.ye)for(d=0,g=x.length;d<g;d++)D=x[d],D.Nd&&1===this.ye||(D.Nd||2!==this.ye)&&D.stop();for(q in Y)if(Y.hasOwnProperty(q))for(d=0,g=Y[q].length;d<g;d++)Y[q][d].remove();Wa(Y);for(q in a.effects)if(a.effects.hasOwnProperty(q))for(u=a.effects[q],d=0,g=u.length;d<g;d++)switch(f=u[d].type,y=u[d].params,f){case "filter":M(q,new b(y[0],y[1],y[2],
y[3],y[4],y[5]));break;case "delay":M(q,new l(y[0],y[1],y[2]));break;case "convolve":f=y[2];D=this.$j(f,!1);D.ka?f=new k(D.ka,y[0],y[1],f):(f=new k(null,y[0],y[1],f),D.ir=y[0],D.Aj=f);M(q,f);break;case "flanger":M(q,new v(y[0],y[1],y[2],y[3],y[4]));break;case "phaser":M(q,new I(y[0],y[1],y[2],y[3],y[4],y[5]));break;case "gain":M(q,new r(y[0]));break;case "tremolo":M(q,new n(y[0],y[1]));break;case "ringmod":M(q,new h(y[0],y[1]));break;case "distortion":M(q,new w(y[0],y[1],y[2],y[3],y[4]));break;case "compressor":M(q,
new J(y[0],y[1],y[2],y[3],y[4]));break;case "analyser":M(q,new ga(y[0],y[1]))}d=0;for(g=e.length;d<g;d++)3===this.ye||(a=e[d],f=a.buffersrc,m=a.is_music,q=a.tag,u=a.playbackTime,p=a.looping,t=a.volume,G=(y=a.pan)&&y.hasOwnProperty("objUid")?y.objUid:-1,m&&1===this.ye)||!m&&2===this.ye||((D=this.Tv(f,q,m,p,t))?(D.mc=a.resume_position,D.Xr(!!y),D.play(p,t,u),D.Al(),D.hy(),D.Lj(D.Kg||D.ai),a.paused&&D.pause(),a.muted&&D.Vx(),D.Lj(D.Kg||D.ai),y&&(-1!==G?(D.Ab=D.Ab||new ha,D.Ab.wk=G,bb.push(D.Ab)):D.ko(y.x,
y.y,y.a,y.ia,y.oa,y.og))):(D=this.$j(f,m),D.$k=u,D.Ok=a.paused,y&&(-1!==G?D.bh.push({kr:G,Im:y.ia,zn:y.oa,Cn:y.og,ws:q}):D.bh.push({x:y.x,y:y.y,cu:y.a,Im:y.ia,zn:y.oa,Cn:y.og,ws:q}))));if(c&&!F){d=0;for(g=x.length;d<g;d++)x[d].Yr(!0);F=!0}else if(!c&&F){d=0;for(g=x.length;d<g;d++)x[d].Yr(!1);F=!1}};sa.Fd=function(){var a,b,c,e;a=0;for(b=bb.length;a<b;a++)c=bb[a],e=this.b.Fg(c.wk),c.Ji(e),c.wk=-1,e&&(W=e.x,R=e.y);U(bb)};sa.lx=function(a){if(!this.tx){!a&&E&&E.resume&&(E.resume(),xa=!1);var b,c;b=0;
for(c=x.length;b<c;b++)x[b].Xx(a);a&&E&&E.suspend&&(E.suspend(),xa=!0)}};sa.Ya=function(){var a=this.b.Jf,b,c,e;b=0;for(c=x.length;b<c;b++)e=x[b],e.Ya(a),0!==H&&e.Al();var d,h;for(d in Y)if(Y.hasOwnProperty(d))for(e=Y[d],b=0,c=e.length;b<c;b++)h=e[b],h.Ya&&h.Ya();1===V&&this.vc.gk()&&(this.vc.Ya(a),W=this.vc.qa.x,R=this.vc.qa.y,E.listener.setPosition(this.vc.qa.x,this.vc.qa.y,this.hi))};var cb=[];sa.Wx=function(a){var b,c,e,d,h,g=0;b=0;for(c=a.length;b<c;++b)if(e=a[b],d=e[0],e=2*e[1],(h=4<d.length&&
".ogg"===d.substr(d.length-4))&&P||!h&&!P)cb.push({filename:d,size:e,qa:null}),g+=e;return g};sa.cy=function(){var a,b,c,e;a=0;for(b=cb.length;a<b;++a)c=cb[a],e=this.b.Vp+c.filename,c.qa=this.$j(e,!1)};sa.ew=function(){var a=0,b,c,e;b=0;for(c=cb.length;b<c;++b)e=cb[b],e.qa.Ow()||e.qa.Ew()||this.b.Ha||this.b.hk?a+=e.size:e.qa.qq()&&(a+=Math.floor(e.size/2));return a};sa.Gx=function(){var a,b,c,e;c=a=0;for(b=G.length;a<b;++a)e=G[a],G[c]=e,e.Nd?e.Fx():++c;G.length=c};sa.$j=function(a,b){var c,e,d,h=
null;c=0;for(e=G.length;c<e;c++)if(d=G[c],d.src===a){h=d;break}h||(sb&&b&&this.Gx(),h=new D(a,b),G.push(h));return h};sa.Tv=function(a,b,c,e,d){var h,g,f;h=0;for(g=x.length;h<g;h++)if(f=x[h],f.src===a&&(f.uu()||c))return f.tag=b,f;a=this.$j(a,c);if(!a.ka)return"<preload>"!==b&&(a.Pk=b,a.tn=e,a.Io=d),null;f=new N(a,b);x.push(f);return f};var Ua=[];K.prototype.gj=function(a){return lb(L,a)};O.j=new K;O.ya=new function(){};O.Fa=new function(){}})();function tc(f){this.b=f}
(function(){function f(){}var t=tc.prototype;t.pa=function(f){this.za=f;this.b=f.b};t.pa.prototype.L=function(){};t.aa=function(f){this.type=f;this.b=f.b;this.Qg=Array(256);this.Zi=Array(256);this.Fe=0};var m=t.aa.prototype;m.L=function(){var f=this;this.b.Ha||(jQuery(document).keydown(function(m){f.En(m)}),jQuery(document).keyup(function(m){f.Fn(m)}))};var p=[32,33,34,35,36,37,38,39,40,44];m.En=function(f){var m=!1;window!=window.top&&-1<p.indexOf(f.which)&&(f.preventDefault(),m=!0,f.stopPropagation());
if(this.Qg[f.which])this.Zi[f.which]&&!m&&f.preventDefault();else{this.Qg[f.which]=!0;this.Fe=f.which;this.b.Ta=!0;this.b.trigger(tc.prototype.j.pt,this);var d=this.b.trigger(tc.prototype.j.Vo,this),a=this.b.trigger(tc.prototype.j.Et,this);this.b.Ta=!1;if(d||a)this.Zi[f.which]=!0,m||f.preventDefault()}};m.Fn=function(f){this.Qg[f.which]=!1;this.Fe=f.which;this.b.Ta=!0;this.b.trigger(tc.prototype.j.So,this);var m=this.b.trigger(tc.prototype.j.Xo,this),d=this.b.trigger(tc.prototype.j.Wo,this);this.b.Ta=
!1;if(m||d||this.Zi[f.which])this.Zi[f.which]=!0,f.preventDefault()};m.kf=function(){var f;for(f=0;256>f;++f)if(this.Qg[f]){this.Qg[f]=!1;this.Fe=f;this.b.trigger(tc.prototype.j.So,this);var m=this.b.trigger(tc.prototype.j.Xo,this),d=this.b.trigger(tc.prototype.j.Wo,this);if(m||d)this.Zi[f]=!0}};m.tb=function(){return{triggerKey:this.Fe}};m.Pb=function(f){this.Fe=f.triggerKey};f.prototype.it=function(f){return this.Qg[f]};f.prototype.Vo=function(f){return f===this.Fe};f.prototype.pt=function(){return!0};
f.prototype.So=function(){return!0};f.prototype.Xo=function(f){return f===this.Fe};f.prototype.Et=function(f){return f===this.Fe};f.prototype.Wo=function(f){return f===this.Fe};t.j=new f;t.ya=new function(){};t.Fa=new function(){}})();function uc(f){this.b=f}
(function(){function f(){}function t(){}var m=uc.prototype;m.pa=function(f){this.za=f;this.b=f.b};m.pa.prototype.L=function(){};m.aa=function(f){this.type=f;this.b=f.b;this.Cf=Array(4);this.Es=this.ul=this.ng=this.jf=this.hf=0;this.Fm=!1};var p=m.aa.prototype;p.L=function(){var f=this;if(!this.b.Ha){jQuery(document).mousemove(function(a){f.Hn(a)});jQuery(document).mousedown(function(a){f.Gn(a)});jQuery(document).mouseup(function(a){f.In(a)});jQuery(document).dblclick(function(a){f.jx(a)});var d=function(a){f.mx(a)};
document.addEventListener("mousewheel",d,!1);document.addEventListener("DOMMouseScroll",d,!1)}};var q={left:0,top:0};p.Hn=function(f){var d=this.b.Ha?q:jQuery(this.b.canvas).offset();this.hf=f.pageX-d.left;this.jf=f.pageY-d.top};p.dr=function(){return 0<this.b.Ob?!0:0<=this.hf&&0<=this.jf&&this.hf<this.b.width&&this.jf<this.b.height};p.Gn=function(f){this.dr()&&(this.Cf[f.which]=!0,this.b.Ta=!0,this.b.trigger(uc.prototype.j.ot,this),this.ng=f.which-1,this.ul=0,this.b.trigger(uc.prototype.j.To,this),
this.b.trigger(uc.prototype.j.bp,this),this.b.Ta=!1)};p.In=function(f){this.Cf[f.which]&&(this.b.ek&&!this.b.pe&&f.preventDefault(),this.b.ek=!0,this.Cf[f.which]=!1,this.b.Ta=!0,this.ng=f.which-1,this.b.trigger(uc.prototype.j.cp,this),this.b.Ta=!1)};p.jx=function(f){this.dr()&&(f.preventDefault(),this.b.Ta=!0,this.ng=f.which-1,this.ul=1,this.b.trigger(uc.prototype.j.To,this),this.b.trigger(uc.prototype.j.bp,this),this.b.Ta=!1)};p.mx=function(f){this.Es=0>(f.wheelDelta?f.wheelDelta:f.detail?-f.detail:
0)?0:1;this.Fm=!1;this.b.Ta=!0;this.b.trigger(uc.prototype.j.Rt,this);this.b.Ta=!1;this.Fm&&mb(f)&&f.preventDefault()};p.kf=function(){var f,d;f=0;for(d=this.Cf.length;f<d;++f)this.Cf[f]&&(this.Cf[f]=!1,this.ng=f-1,this.b.trigger(uc.prototype.j.cp,this))};f.prototype.To=function(f,d){return f===this.ng&&d===this.ul};f.prototype.ot=function(){return!0};f.prototype.gt=function(f){return this.Cf[f+1]};f.prototype.cp=function(f){return f===this.ng};f.prototype.bp=function(f,d,a){return f!==this.ng||d!==
this.ul?!1:this.b.Ui(a,this.hf,this.jf)};f.prototype.Rt=function(f){this.Fm=!0;return f===this.Es};m.j=new f;m.ya=new function(){};t.prototype.ij=function(f,d){var a,g,e,c,b;ia(d)?(a=this.b.le(0),g=a.scale,e=a.Ub,c=a.hc,b=a.n,a.scale=1,a.Ub=1,a.hc=1,a.n=0,f.B(a.Za(this.hf,this.jf,!0)),a.scale=g,a.Ub=e,a.hc=c,a.n=b):(a=ja(d)?this.b.le(d):this.b.Jh(d))?f.B(a.Za(this.hf,this.jf,!0)):f.B(0)};t.prototype.jj=function(f,d){var a,g,e,c,b;ia(d)?(a=this.b.le(0),g=a.scale,e=a.Ub,c=a.ic,b=a.n,a.scale=1,a.Ub=
1,a.ic=1,a.n=0,f.B(a.Za(this.hf,this.jf,!1)),a.scale=g,a.Ub=e,a.ic=c,a.n=b):(a=ja(d)?this.b.le(d):this.b.Jh(d))?f.B(a.Za(this.hf,this.jf,!1)):f.B(0)};m.Fa=new t})();function vc(f){this.b=f}
(function(){function f(){}var t=!1,m=null,p=null,q=null,u="",d=vc.prototype;d.pa=function(a){this.za=a;this.b=a.b};d.pa.prototype.L=function(){};d.aa=function(a){this.type=a;this.b=a.b};var a=d.aa.prototype;a.L=function(){t=this.b.kk;var a=this;if(t){m=require("path");require("fs");p=require("os");require("child_process");q=window.process||nw.process;m.dirname(q.execPath);p.homedir();u=q.mainModule.filename;var e=Math.max(u.lastIndexOf("/"),u.lastIndexOf("\\"));-1!==e&&(u=u.substr(0,e+1));window.ondrop=
function(b){b.preventDefault();for(var c=0;c<b.dataTransfer.files.length;++c)a.b.trigger(vc.prototype.j.yt,a);return!1};var c=document.getElementById("c2nwOpenFileDialog");c.onchange=function(){a.b.trigger(vc.prototype.j.Kt,a);try{c.value=null}catch(b){}};c.oncancel=function(){a.b.trigger(vc.prototype.j.Lt,a)};var b=document.getElementById("c2nwChooseFolderDialog");b.onchange=function(){a.b.trigger(vc.prototype.j.zt,a);try{b.value=null}catch(c){}};b.oncancel=function(){a.b.trigger(vc.prototype.j.At,
a)};var d=document.getElementById("c2nwSaveDialog");d.onchange=function(){a.b.trigger(vc.prototype.j.Mt,a);try{d.value=null}catch(b){}};d.oncancel=function(){a.b.trigger(vc.prototype.j.Nt,a)}}};a.xe=function(){};a.tb=function(){return{}};a.Pb=function(){};f.prototype.yt=function(){return!0};f.prototype.Kt=function(){return!0};f.prototype.zt=function(){return!0};f.prototype.Mt=function(){return!0};f.prototype.Lt=function(){return!0};f.prototype.At=function(){return!0};f.prototype.Nt=function(){return!0};
d.j=new f;d.ya=new function(){};d.Fa=new function(){}})();function rc(f){this.b=f}
(function(){function f(){if(0===this.cm.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var c=a.getContext("2d");this.hh?c.drawImage(this.I,this.Yg,this.Zg,this.width,this.height,0,0,this.width,this.height):c.drawImage(this.I,0,0,this.width,this.height);this.cm=a.toDataURL("image/png")}return this.cm}function t(){}function m(){}var p=rc.prototype;p.pa=function(a){this.za=a;this.b=a.b};var q=p.pa.prototype;q.L=function(){if(!this.D){var a,c,b,d,g,m,q,r,n;this.jd=
[];this.Oh=!1;a=0;for(c=this.qc.length;a<c;a++){g=this.qc[a];q={};q.name=g[0];q.speed=g[1];q.loop=g[2];q.$n=g[3];q.ao=g[4];q.Er=g[5];q.X=g[6];q.frames=[];b=0;for(d=g[7].length;b<d;b++)m=g[7][b],r={},r.nl=m[0],r.ol=m[1],r.Yg=m[2],r.Zg=m[3],r.width=m[4],r.height=m[5],r.duration=m[6],r.ec=m[7],r.fc=m[8],r.Km=m[9],r.Qk=m[10],r.Fr=m[11],r.hh=0!==r.width,r.cm="",r.Bz=f,n={left:0,top:0,right:1,bottom:1},r.oo=n,r.S=null,(n=this.b.Nv(m[0]))?r.I=n:(r.I=new Image,r.I.xu=m[0],r.I.Bj=m[1],r.I.qu=null,this.b.El(r.I,
m[0])),q.frames.push(r),this.jd.push(r);this.qc[a]=q}}};q.Ms=function(){var a,c,b;a=0;for(c=this.i.length;a<c;a++)b=this.i[a],b.Dj=b.wb.S};q.$g=function(){if(!this.D){var a,c,b;a=0;for(c=this.jd.length;a<c;++a)b=this.jd[a],b.I.qu=null,b.S=null;this.Oh=!1;this.Ms()}};q.yi=function(){if(!this.D&&this.i.length){var a,c,b;a=0;for(c=this.jd.length;a<c;++a)b=this.jd[a],b.S=this.b.p.uk(b.I,!1,this.b.Ca,b.Fr);this.Ms()}};q.vk=function(){if(!this.D&&!this.Oh&&this.b.p){var a,c,b;a=0;for(c=this.jd.length;a<
c;++a)b=this.jd[a],b.S=this.b.p.uk(b.I,!1,this.b.Ca,b.Fr);this.Oh=!0}};q.yl=function(){if(!this.D&&!this.i.length&&this.Oh){var a,c,b;a=0;for(c=this.jd.length;a<c;++a)b=this.jd[a],this.b.p.deleteTexture(b.S),b.S=null;this.Oh=!1}};var u=[];q.Tk=function(a){var c,b,d;U(u);c=0;for(b=this.jd.length;c<b;++c)d=this.jd[c].I,-1===u.indexOf(d)&&(a.drawImage(d,0,0),u.push(d))};p.aa=function(a){this.type=a;this.b=a.b;a=this.type.qc[0].frames[0].Qk;this.zc?this.O.Mi(a):this.O=new fb(a)};var d=p.aa.prototype;
d.L=function(){this.visible=0===this.q[0];this.Lm=this.Wm=!1;this.ae=0!==this.q[3];this.Ea=this.Yp(this.q[1])||this.type.qc[0];this.C=this.q[2];0>this.C&&(this.C=0);this.C>=this.Ea.frames.length&&(this.C=this.Ea.frames.length-1);var a=this.Ea.frames[this.C];this.O.Mi(a.Qk);this.ec=a.ec;this.fc=a.fc;this.wg=this.Ea.speed;this.Re=this.Ea.ao;1===this.type.qc.length&&1===this.type.qc[0].frames.length||0===this.wg||(this.b.ql(this),this.Wm=!0);this.zc?this.Gd.reset():this.Gd=new db;this.je=this.Gd.da;
this.Af=!0;this.Yd=0;this.zf=!0;this.xj=this.qp="";this.Dp=0;this.Ul=-1;this.type.vk();var c,b,d,f,g,m,r,a=0;for(c=this.type.qc.length;a<c;a++)for(f=this.type.qc[a],b=0,d=f.frames.length;b<d;b++)g=f.frames[b],0===g.width&&(g.width=g.I.width,g.height=g.I.height),g.hh&&(r=g.I,m=g.oo,m.left=g.Yg/r.width,m.top=g.Zg/r.height,m.right=(g.Yg+g.width)/r.width,m.bottom=(g.Zg+g.height)/r.height,0===g.Yg&&0===g.Zg&&g.width===r.width&&g.height===r.height&&(g.hh=!1));this.wb=this.Ea.frames[this.C];this.Dj=this.wb.S};
d.tb=function(){var a={a:this.Ea.X,f:this.C,cas:this.wg,fs:this.je,ar:this.Yd,at:this.Gd.da,rt:this.Re};this.Af||(a.ap=this.Af);this.zf||(a.af=this.zf);return a};d.Pb=function(a){var c=this.Sv(a.a);c&&(this.Ea=c);this.C=a.f;0>this.C&&(this.C=0);this.C>=this.Ea.frames.length&&(this.C=this.Ea.frames.length-1);this.wg=a.cas;this.je=a.fs;this.Yd=a.ar;this.Gd.reset();this.Gd.da=a.at;this.Af=a.hasOwnProperty("ap")?a.ap:!0;this.zf=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.Re=a.rt:this.Re=
this.Ea.ao;this.wb=this.Ea.frames[this.C];this.Dj=this.wb.S;this.O.Mi(this.wb.Qk);this.ec=this.wb.ec;this.fc=this.wb.fc};d.Kl=function(a){this.C=a?0:this.Ea.frames.length-1;this.Af=!1;this.qp=this.Ea.name;this.Lm=!0;this.b.trigger(rc.prototype.j.nt,this);this.b.trigger(rc.prototype.j.mt,this);this.Lm=!1;this.Yd=0};d.wh=function(){return this.Gd.da};d.Ya=function(){this.Gd.add(this.b.tm(this));this.xj.length&&this.Mp();0<=this.Ul&&this.Gu();var a=this.Gd.da,c=this.Ea,b=c.frames[this.C],d=b.duration/
this.wg;this.Af&&a>=this.je+d&&(this.zf?this.C++:this.C--,this.je+=d,this.C>=c.frames.length&&(c.Er?(this.zf=!1,this.C=c.frames.length-2):c.loop?this.C=this.Re:(this.Yd++,this.Yd>=c.$n?this.Kl(!1):this.C=this.Re)),0>this.C&&(c.Er?(this.C=1,this.zf=!0,c.loop||(this.Yd++,this.Yd>=c.$n&&this.Kl(!0))):c.loop?this.C=this.Re:(this.Yd++,this.Yd>=c.$n?this.Kl(!0):this.C=this.Re)),0>this.C?this.C=0:this.C>=c.frames.length&&(this.C=c.frames.length-1),a>this.je+c.frames[this.C].duration/this.wg&&(this.je=a),
a=c.frames[this.C],this.sg(b,a),this.b.ra=!0)};d.Yp=function(a){var c,b,d;c=0;for(b=this.type.qc.length;c<b;c++)if(d=this.type.qc[c],lb(d.name,a))return d;return null};d.Sv=function(a){var c,b,d;c=0;for(b=this.type.qc.length;c<b;c++)if(d=this.type.qc[c],d.X===a)return d;return null};d.Mp=function(){var a=this.Ea.frames[this.C],c=this.Yp(this.xj);this.xj="";!c||lb(c.name,this.Ea.name)&&this.Af||(this.Ea=c,this.wg=c.speed,this.Re=c.ao,0>this.C&&(this.C=0),this.C>=this.Ea.frames.length&&(this.C=this.Ea.frames.length-
1),1===this.Dp&&(this.C=0),this.Af=!0,this.je=this.Gd.da,this.zf=!0,this.sg(a,this.Ea.frames[this.C]),this.b.ra=!0)};d.Gu=function(){var a=this.Ea.frames[this.C],c=this.C;this.C=z(this.Ul);0>this.C&&(this.C=0);this.C>=this.Ea.frames.length&&(this.C=this.Ea.frames.length-1);c!==this.C&&(this.sg(a,this.Ea.frames[this.C]),this.je=this.Gd.da,this.b.ra=!0);this.Ul=-1};d.sg=function(a,c){var b=a.width,d=a.height,f=c.width,g=c.height;b!=f&&(this.width*=f/b);d!=g&&(this.height*=g/d);this.ec=c.ec;this.fc=
c.fc;this.O.Mi(c.Qk);this.A();this.wb=c;this.Dj=c.S;b=0;for(d=this.J.length;b<d;b++)f=this.J[b],f.kx&&f.kx(a,c);this.b.trigger(rc.prototype.j.sg,this)};d.Wc=function(a){a.globalAlpha=this.opacity;var c=this.wb,b=c.hh,d=c.I,f=this.x,g=this.y,m=this.width,r=this.height;if(0===this.n&&0<=m&&0<=r)f-=this.ec*m,g-=this.fc*r,this.b.Nc&&(f=Math.round(f),g=Math.round(g)),b?a.drawImage(d,c.Yg,c.Zg,c.width,c.height,f,g,m,r):a.drawImage(d,f,g,m,r);else{this.b.Nc&&(f=Math.round(f),g=Math.round(g));a.save();var n=
0<m?1:-1,h=0<r?1:-1;a.translate(f,g);1===n&&1===h||a.scale(n,h);a.rotate(this.n*n*h);f=0-this.ec*na(m);g=0-this.fc*na(r);b?a.drawImage(d,c.Yg,c.Zg,c.width,c.height,f,g,na(m),na(r)):a.drawImage(d,f,g,na(m),na(r));a.restore()}};d.Se=function(a){this.Nb(a)};d.Nb=function(a){a.Wa(this.Dj);a.ze(this.opacity);var c=this.wb,b=this.ub;if(this.b.Nc){var d=Math.round(this.x)-this.x,f=Math.round(this.y)-this.y;c.hh?a.yd(b.mb+d,b.nb+f,b.Sb+d,b.Tb+f,b.Ib+d,b.Jb+f,b.Gb+d,b.Hb+f,c.oo):a.gg(b.mb+d,b.nb+f,b.Sb+d,
b.Tb+f,b.Ib+d,b.Jb+f,b.Gb+d,b.Hb+f)}else c.hh?a.yd(b.mb,b.nb,b.Sb,b.Tb,b.Ib,b.Jb,b.Gb,b.Hb,c.oo):a.gg(b.mb,b.nb,b.Sb,b.Tb,b.Ib,b.Jb,b.Gb,b.Hb)};d.Zv=function(a){var c=this.wb,b,d;b=0;for(d=c.Km.length;b<d;b++)if(lb(a,c.Km[b][0]))return b;return-1};d.wm=function(a,c){var b=this.wb,d=b.Km,f;ka(a)?f=this.Zv(a):f=a-1;f=z(f);if(0>f||f>=d.length)return c?this.x:this.y;var g=(d[f][1]-b.ec)*this.width,d=d[f][2],d=(d-b.fc)*this.height,b=Math.cos(this.n);f=Math.sin(this.n);var m=g*b-d*f,d=d*b+g*f,g=m+this.x,
d=d+this.y;return c?g:d};var a=new ca,g=!1;new T(0,0,0,0);q.finish=function(d){if(g){if(d){var c=this.b.cc().Uc.td;d=null.Ba();var b=a.Xd(),f,k;if(d.Oa){d.Oa=!1;U(d.i);f=0;for(k=b.length;f<k;++f)d.i[f]=b[f];if(c)for(U(d.ba),f=0,k=null.i.length;f<k;++f)b=null.i[f],a.contains(b)||d.ba.push(b)}else if(c)for(c=d.i.length,f=0,k=b.length;f<k;++f)d.i[c+f]=b[f],Ea(d.ba,b[f]);else Ba(d.i,b);null.Le()}a.clear();g=!1}};t.prototype.mt=function(a){return lb(this.qp,a)};t.prototype.nt=function(){return!0};t.prototype.sg=
function(){return!0};p.j=new t;m.prototype.St=function(a,c){this.xj=a;this.Dp=c;this.Wm||(this.b.ql(this),this.Wm=!0);this.Lm||this.Mp()};p.ya=new m;p.Fa=new function(){}})();function wc(f){this.b=f}
(function(){function f(){return d.length?d.pop():{}}function t(a){var f,e;f=0;for(e=a.length;f<e;f++)d.push(a[f]);U(a)}function m(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}var p=wc.prototype;p.L=function(){p.ya.Yt=function(a){this.width!==a&&(this.width=a,this.jh=!0,this.A())}};p.pa=function(a){this.za=a;this.b=a.b};var q=p.pa.prototype;q.L=function(){};q.$g=function(){if(!this.D){var a,d,e;a=0;for(d=this.i.length;a<d;a++)e=this.i[a],e.Pd=null,e.eg=null,e.wc=null}};
p.aa=function(a){this.type=a;this.b=a.b;this.zc?U(this.df):this.df=[];this.jh=!0};q=p.aa.prototype;q.L=function(){this.text=this.q[0];this.visible=0===this.q[1];this.font=this.q[2];this.color=this.q[3];this.fk=this.q[4];this.Cl=this.q[5];this.Ko=0===this.q[7];this.dn=this.ue=this.width;this.te=this.height;this.ln=this.q[8];this.Xj=this.Ag="";this.us=this.vs=this.Ei=0;this.qx();this.wc=this.eg=this.Pd=null;this.gr=!1;this.fi=this.b.De;this.zc?this.nf.set(0,0,1,1):this.nf=new T(0,0,1,1);this.b.p&&this.b.ql(this)};
q.qx=function(){var a=this.font.split(" "),d;for(d=0;d<a.length;d++)if("pt"===a[d].substr(a[d].length-2,2)){this.Ei=parseInt(a[d].substr(0,a[d].length-2));this.Tn=Math.ceil(this.Ei/72*96)+4;0<d&&(this.Xj=a[d-1]);this.Ag=a[d+1];for(d+=2;d<a.length;d++)this.Ag+=" "+a[d];break}};q.tb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.fk,va:this.Cl,wr:this.Ko,lho:this.ln,fn:this.Ag,fs:this.Xj,ps:this.Ei,pxh:this.Tn,tw:this.vs,th:this.us,lrt:this.fi}};q.Pb=function(a){this.text=a.t;this.font=
a.f;this.color=a.c;this.fk=a.ha;this.Cl=a.va;this.Ko=a.wr;this.ln=a.lho;this.Ag=a.fn;this.Xj=a.fs;this.Ei=a.ps;this.Tn=a.pxh;this.vs=a.tw;this.us=a.th;this.fi=a.lrt;this.jh=!0;this.dn=this.ue=this.width;this.te=this.height};q.Ya=function(){if(this.b.p&&this.wc&&300<=this.b.De-this.fi){var a=this.k;this.W();var d=this.ja;if(d.right<a.Y||d.bottom<a.Z||d.left>a.fa||d.top>a.ea)this.b.p.deleteTexture(this.wc),this.Pd=this.eg=this.wc=null}};q.xe=function(){this.Pd=this.eg=null;this.b.p&&this.wc&&this.b.p.deleteTexture(this.wc);
this.wc=null};q.wh=function(){this.font=this.Xj+" "+this.Ei.toString()+"pt "+this.Ag;this.jh=!0;this.b.ra=!0};q.Wc=function(a,d){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=d?1:this.opacity;var e=1;d&&(e=Math.abs(this.k.tc()),a.save(),a.scale(e,e));if(this.jh||this.width!==this.dn)this.type.za.au(this.text,this.df,a,this.width,this.Ko),this.jh=!1,this.dn=this.width;this.W();var e=d?0:this.ub.mb,c=d?0:this.ub.nb;this.b.Nc&&(e=e+.5|0,c=c+.5|0);0===this.n||d||(a.save(),
a.translate(e,c),a.rotate(this.n),c=e=0);var b=c+this.height,f=this.Tn,f=f+this.ln,k,m;1===this.Cl?c+=Math.max(this.height/2-this.df.length*f/2,0):2===this.Cl&&(c+=Math.max(this.height-this.df.length*f-2,0));for(m=0;m<this.df.length&&!(k=e,1===this.fk?k=e+(this.width-this.df[m].width)/2:2===this.fk&&(k=e+(this.width-this.df[m].width)),a.fillText(this.df[m].text,k,c),c+=f,c>=b-f);m++);(0!==this.n||d)&&a.restore();this.fi=this.b.De};q.Nb=function(a){if(!(1>this.width||1>this.height)){var d=this.jh||
this.gr;this.gr=!1;var e=this.k.tc(),c=this.k.eb(),b=this.nf,f=e*this.width,k=e*this.height,m=Math.ceil(f),q=Math.ceil(k),r=Math.abs(m),n=Math.abs(q),h=this.b.G/2,w=this.b.F/2;this.eg||(this.Pd=document.createElement("canvas"),this.Pd.width=r,this.Pd.height=n,this.ue=r,this.te=n,d=!0,this.eg=this.Pd.getContext("2d"));if(r!==this.ue||n!==this.te)this.Pd.width=r,this.Pd.height=n,this.wc&&(a.deleteTexture(this.wc),this.wc=null),d=!0;d&&(this.eg.clearRect(0,0,r,n),this.Wc(this.eg,!0),this.wc||(this.wc=
a.Wb(r,n,this.b.Ca,this.b.pe)),a.Dl(this.Pd,this.wc,this.b.pe));this.ue=r;this.te=n;a.Wa(this.wc);a.ze(this.opacity);a.ad();a.translate(-h,-w);a.Qc();var p=this.ub,d=this.k.Ia(p.mb,p.nb,!0,!0),r=this.k.Ia(p.mb,p.nb,!1,!0),n=this.k.Ia(p.Sb,p.Tb,!0,!0),h=this.k.Ia(p.Sb,p.Tb,!1,!0),w=this.k.Ia(p.Ib,p.Jb,!0,!0),u=this.k.Ia(p.Ib,p.Jb,!1,!0),t=this.k.Ia(p.Gb,p.Hb,!0,!0),p=this.k.Ia(p.Gb,p.Hb,!1,!0);if(this.b.Nc||0===this.n&&0===c)var D=(d+.5|0)-d,N=(r+.5|0)-r,d=d+D,r=r+N,n=n+D,h=h+N,w=w+D,u=u+N,t=t+D,p=
p+N;0===this.n&&0===c?(n=d+m,h=r,w=n,u=r+q,t=d,p=u,b.right=1,b.bottom=1):(b.right=f/m,b.bottom=k/q);a.yd(d,r,n,h,w,u,t,p,b);a.ad();a.scale(e,e);a.Zk(-this.k.eb());a.translate((this.k.Y+this.k.fa)/-2,(this.k.Z+this.k.ea)/-2);a.Qc();this.fi=this.b.De}};var u=[];p.$t=function(a){U(u);for(var d="",e,c=0;c<a.length;)if(e=a.charAt(c),"\n"===e)d.length&&(u.push(d),d=""),u.push("\n"),++c;else if(" "===e||"\t"===e||"-"===e){do d+=a.charAt(c),c++;while(c<a.length&&(" "===a.charAt(c)||"\t"===a.charAt(c)));u.push(d);
d=""}else c<a.length&&(d+=e,c++);d.length&&u.push(d)};var d=[];p.au=function(a,d,e,c,b){if(a&&a.length)if(2>=c)t(d);else{if(100>=a.length&&-1===a.indexOf("\n")){var l=e.measureText(a).width;if(l<=c){t(d);d.push(f());d[0].text=a;d[0].width=l;return}}this.bu(a,d,e,c,b)}else t(d)};p.bu=function(a,g,e,c,b){b&&(this.$t(a),a=u);var l="",k,q,p,r=0;for(p=0;p<a.length;p++)"\n"===a[p]?(r>=g.length&&g.push(f()),l=m(l),q=g[r],q.text=l,q.width=e.measureText(l).width,r++,l=""):(k=l,l+=a[p],q=e.measureText(l).width,
q>=c&&(r>=g.length&&g.push(f()),k=m(k),q=g[r],q.text=k,q.width=e.measureText(k).width,r++,l=a[p],b||" "!==l||(l="")));l.length&&(r>=g.length&&g.push(f()),l=m(l),q=g[r],q.text=l,q.width=e.measureText(l).width,r++);for(p=r;p<g.length;p++)d.push(g[p]);g.length=r};p.j=new function(){};p.ya=new function(){};p.Fa=new function(){}})();function xc(f){this.b=f}
(function(){var f=xc.prototype;f.pa=function(f){this.za=f;this.b=f.b};var t=f.pa.prototype;t.L=function(){this.D||(this.I=new Image,this.I.Bj=this.ol,this.b.El(this.I,this.nl),this.S=this.pattern=null)};t.$g=function(){this.D||(this.S=null)};t.yi=function(){if(!this.D&&this.i.length){this.S||(this.S=this.b.p.uk(this.I,!0,this.b.Ca,this.so));var f,p;f=0;for(p=this.i.length;f<p;f++)this.i[f].S=this.S}};t.vk=function(){this.D||this.S||!this.b.p||(this.S=this.b.p.uk(this.I,!0,this.b.Ca,this.so))};t.yl=
function(){this.D||this.i.length||!this.S||(this.b.p.deleteTexture(this.S),this.S=null)};t.Tk=function(f){f.drawImage(this.I,0,0)};f.aa=function(f){this.type=f;this.b=f.b};t=f.aa.prototype;t.L=function(){this.visible=0===this.q[0];this.nf=new T(0,0,0,0);this.hq=!1;this.I=this.type.I;this.b.p?(this.type.vk(),this.S=this.type.S):(this.type.pattern||(this.type.pattern=this.b.Aa.createPattern(this.type.I,"repeat")),this.pattern=this.type.pattern)};t.Fd=function(){this.hq=!1;this.I=this.type.I};t.xe=function(){this.b.p&&
this.hq&&this.S&&(this.b.p.deleteTexture(this.S),this.S=null)};t.Wc=function(f){f.globalAlpha=this.opacity;f.save();f.fillStyle=this.pattern;var p=this.x,q=this.y;this.b.Nc&&(p=Math.round(p),q=Math.round(q));var u=-(this.ec*this.width),d=-(this.fc*this.height),a=u%this.I.width,g=d%this.I.height;0>a&&(a+=this.I.width);0>g&&(g+=this.I.height);f.translate(p,q);f.rotate(this.n);f.translate(a,g);f.fillRect(u-a,d-g,this.width,this.height);f.restore()};t.Se=function(f){this.Nb(f)};t.Nb=function(f){f.Wa(this.S);
f.ze(this.opacity);var p=this.nf;p.right=this.width/this.I.width;p.bottom=this.height/this.I.height;var q=this.ub;if(this.b.Nc){var u=Math.round(this.x)-this.x,d=Math.round(this.y)-this.y;f.yd(q.mb+u,q.nb+d,q.Sb+u,q.Tb+d,q.Ib+u,q.Jb+d,q.Gb+u,q.Hb+d,p)}else f.yd(q.mb,q.nb,q.Sb,q.Tb,q.Ib,q.Jb,q.Gb,q.Hb,p)};f.j=new function(){};f.ya=new function(){};f.Fa=new function(){}})();function yc(f){this.b=f}
(function(){function f(){this.sl=this.id=-1;this.sp=this.zg=this.bj=this.Ph=!1;this.ma=new T(0,0,0,0)}function t(a){1E4>v.length&&v.push(a)}function m(){this.id=-1;this.ma=new T(0,0,0,0);this.Oc=null}function p(a){1E4>I.length&&I.push(a)}function q(a,b,c){var d;return r.length?(d=r.pop(),d.e=a,d.x=b,d.y=c,d.left=d.x*d.e.$a*d.e.lb,d.top=d.y*d.e.ob*d.e.kb,d.clear(),d.Gi=!1,d):new u(a,b,c)}function u(a,b,c){this.e=a;this.x=b;this.y=c;this.left=this.x*this.e.$a*this.e.lb;this.top=this.y*this.e.ob*this.e.kb;
this.Vd=[];this.Cb=[];this.Vb=[];this.Gi=!1;var d,e;a=0;for(b=this.e.ob;a<b;++a){e=[];c=0;for(d=this.e.$a;c<d;++c)e.push(-1);this.Vd.push(e)}}function d(a){switch(a){case 0:return 0;case 1:return c;case 2:return b;case 3:return c|l;case 4:return c|b;case 5:return b|l;case 6:return c|b|l;case 7:return l;default:return 0}}function a(){}var g=yc.prototype;g.pa=function(a){this.za=a;this.b=a.b};var e=g.pa.prototype;e.L=function(){var a,b,c;if(!this.D&&(this.I=new Image,this.I.Bj=this.ol,this.b.El(this.I,
this.nl),this.Hf=[],this.$l=!1,this.Bd=[],this.zs=!1,this.rl&&this.rl.length))for(a=0,b=this.rl.length;a<b;++a)(c=this.rl[a])?this.Bd.push({Oc:c,Vj:[[[null,null],[null,null]],[[null,null],[null,null]]]}):this.Bd.push(null)};e.Ne=function(a,b,c,d,e,f){if(!(0>a||a>=this.Bd.length)&&this.Bd[a]){var g=this.Bd[a].Vj;a=new fb(this.Bd[a].Oc);a.$d(b,c,0);f&&a.Eu();d&&a.bx(b/2);e&&a.Ov(c/2);g[d?1:0][e?1:0][f?1:0]=a}};e.dq=function(a){if(-1===a)return null;var d=a&k;return 0>d||d>=this.Bd.length||!this.Bd[d]?
null:this.Bd[d].Vj[a&c?1:0][a&b?1:0][a&l?1:0]};e.nm=function(){var a,b,c=this.b.p;if(c)for(a=0,b=this.Hf.length;a<b;++a)c.deleteTexture(this.Hf[a]);U(this.Hf);this.$l=!1};e.vn=function(a,b,c,d,e,f,g){if(!(this.$l||0>=a||0>=b)){this.nm();var l=this.I.width,k=this.I.height,m;for(m=d;m+b<=k;m+=b+f)for(d=c;d+a<=l;d+=a+e)this.Hf.push(this.bt(d,m,a,b,g));this.$l=!0}};e.bt=function(a,b,c,d,e){if(this.b.p)return this.Hl(a,b,c,d,!1,!1,!1,e);var f=[[[null,null],[null,null]],[[null,null],[null,null]]];f[0][0][0]=
this.Hl(a,b,c,d,!1,!1,!1,e);return{Vj:f,x:a,y:b,ny:c,Bw:d}};e.Ro=function(a,b,c,d,e){if(0>a||a>=this.Hf.length)return null;a=this.Hf[a];var f=a.Vj;b=b?1:0;c=c?1:0;d=d?1:0;var g=f[b][c][d];if(g)return g;g=this.Hl(a.x,a.y,a.ny,a.Bw,0!==b,0!==c,0!==d,e);return f[b][c][d]=g};e.Hl=function(a,b,c,d,e,f,g,l){var k=c,m=d;this.b.p&&!l&&(la(k)||(k=ma(k)),la(m)||(m=ma(m)));var r=document.createElement("canvas");r.width=k;r.height=m;var n=r.getContext("2d");if(this.b.Aa)return e?f?(g?(n.rotate(Math.PI/2),n.scale(-1,
1)):n.scale(-1,-1),n.translate(-k,-m)):g?(n.rotate(Math.PI/2),n.translate(0,-m)):(n.scale(-1,1),n.translate(-k,0)):f?g?(n.rotate(-Math.PI/2),n.translate(-k,0)):(n.scale(1,-1),n.translate(0,-m)):g&&(n.scale(-1,1),n.rotate(Math.PI/2)),n.drawImage(this.I,a,b,c,d,0,0,k,m),l?r:this.b.Aa.createPattern(r,"repeat");n.drawImage(this.I,a,b,c,d,0,0,k,m);a=this.b.p.Wb(k,m,this.b.Ca,!1,!l);this.b.p.Dl(r,a);return a};e.$g=function(){this.D||this.nm()};e.yi=function(){};e.vk=function(){};e.yl=function(){this.D||
this.i.length||this.nm()};e.Tk=function(){};g.aa=function(a){this.type=a;this.b=a.b};var e=g.aa.prototype,c=-2147483648,b=1073741824,l=536870912,k=536870911,v=[],I=[],r=[];u.prototype.clear=function(){var a,b,c,d,e;this.Vd.length=this.e.ob;a=0;for(b=this.Vd.length;a<b;++a)for(e=this.Vd[a],e||(e=[],this.Vd[a]=e),e.length=this.e.$a,c=0,d=e.length;c<d;++c)e[c]=-1};u.prototype.si=function(){if(!this.Gi){var a=this.e.lb,d=this.e.kb;if(!(0>=a||0>=d)){var e,g,r,n,q,u;e=0;for(g=this.Cb.length;e<g;++e)t(this.Cb[e]);
e=0;for(g=this.Vb.length;e<g;++e)p(this.Vb[e]);U(this.Cb);U(this.Vb);var K=Math.min(this.e.Lc,Math.floor(this.e.width/a)),O=Math.min(this.e.Zc,Math.floor(this.e.height/d)),K=K-this.left/a,O=O-this.top/d;K>this.e.$a&&(K=this.e.$a);O>this.e.ob&&(O=this.e.ob);var C=this.e.qf,A=null;e=0;for(g=O;e<g;++e){q=this.Vd[e];r=0;for(n=K;r<n;++r)u=q[r],-1===u?A&&(this.Cb.push(A),A=null):C||!A||u!==A.id?(A&&this.Cb.push(A),A=v.length?v.pop():new f,A.id=u,A.sl=u&k,A.Ph=0!==(u&c),A.bj=0!==(u&b),A.zg=0!==(u&l),A.sp=
A.Ph||A.bj||A.zg,A.ma.left=r*a+this.left,A.ma.top=e*d+this.top,A.ma.right=A.ma.left+a,A.ma.bottom=A.ma.top+d):A.ma.right+=a;A&&(this.Cb.push(A),A=null)}var A=null,L=!1;e=0;for(g=O;e<g;++e){q=this.Vd[e];r=0;for(n=K;r<n;++r)u=q[r],-1===u?A&&(this.Vb.push(A),A=null,L=!1):(O=this.e.type.dq(u),!A||O||L?(A&&this.Vb.push(A),A=I.length?I.pop():new m,A.id=u,A.Oc=O?O:null,u=A.ma,u.left=r*a+this.left,u.top=e*d+this.top,u.right=u.left+a,u.bottom=u.top+d,L=!!O):A.ma.right+=a);A&&(this.Vb.push(A),A=null,L=!1)}if(!C)for(g=
this.Cb.length,e=0;e<g;++e)for(n=this.Cb[e],a=e+1;a<g;++a)if(r=this.Cb[a],!(r.ma.top<n.ma.bottom)){if(r.ma.top>n.ma.bottom)break;if(r.ma.right>n.ma.right||r.ma.left>n.ma.left)break;r.id===n.id&&r.ma.left===n.ma.left&&r.ma.right===n.ma.right&&(t(this.Cb[a]),this.Cb.splice(a,1),--g,n.ma.bottom+=d,--a)}g=this.Vb.length;for(e=0;e<g;++e)if(n=this.Vb[e],!n.Oc)for(q=n.ma,a=e+1;a<g;++a)if(r=this.Vb[a],n=r.ma,!(n.top<q.bottom)){if(n.top>q.bottom)break;if(n.right>q.right||n.left>q.left)break;r.Oc||n.left!==
q.left||n.right!==q.right||(p(this.Vb[a]),this.Vb.splice(a,1),--g,q.bottom+=d,--a)}this.Gi=!0}}};u.prototype.Ki=function(a,b,c){this.Vd[b][a]!==c&&(this.Vd[b][a]=c,this.Gi=!1,this.e.oj=!0,this.e.Bi=!0,this.e.b.ra=!0)};e.L=function(){var a,b,c;this.visible=0===this.q[0];this.lb=this.q[1];this.kb=this.q[2];this.to=this.q[3];this.vo=this.q[4];this.uo=this.q[5];this.wo=this.q[6];this.qf=0!==this.q[7];this.Lc=this.Cs;this.Zc=this.Bs;this.ue=this.width;this.te=this.height;var d=this.lb,e=this.kb;0===d&&
(d=1);0===e&&(e=1);this.$a=Math.ceil(this.b.Ka/d);this.ob=Math.ceil(this.b.Ja/e);if(!this.type.zs)for(this.type.zs=!0,a=0,b=this.type.Bd.length;a<b;++a)if(c=this.type.Bd[a])this.type.Ne(a,d,e,!1,!1,!1),this.type.Ne(a,d,e,!1,!1,!0),this.type.Ne(a,d,e,!1,!0,!1),this.type.Ne(a,d,e,!1,!0,!0),this.type.Ne(a,d,e,!0,!1,!1),this.type.Ne(a,d,e,!0,!1,!0),this.type.Ne(a,d,e,!0,!0,!1),this.type.Ne(a,d,e,!0,!0,!0);this.zc||(this.Zb=[]);this.Ek(!0);this.Zr(this.As);this.type.vn(this.lb,this.kb,this.to,this.vo,
this.uo,this.wo,this.qf);this.Bi=!1;this.oj=!0;this.un()};e.un=function(){if(this.oj){var a,b,c,d,e;a=0;for(b=this.Zb.length;a<b;++a)for(e=this.Zb[a],c=0,d=e.length;c<d;++c)e[c].si();this.oj=!1}};e.al=function(){var a,b,c,d,e;a=0;for(b=this.Zb.length;a<b;++a)for(e=this.Zb[a],c=0,d=e.length;c<d;++c)e[c].Gi=!1;this.oj=!0};e.Ek=function(a){var b=z(this.width/this.lb),c=z(this.height/this.kb);if(!(b<=this.Lc&&c<=this.Zc)||a){var d;a?(a=Math.ceil(this.Zc/this.ob),d=Math.ceil(this.Lc/this.$a)):(a=this.Zb.length,
d=Math.ceil(this.Lc/this.$a),c>this.Zc&&(this.Zc=c,a=Math.ceil(this.Zc/this.ob)),b>this.Lc&&(this.Lc=b,d=Math.ceil(this.Lc/this.$a)),this.al(),this.Bi=!0,this.b.ra=!0);for(var e,b=0;b<a;++b)if(e=this.Zb[b])for(c=e.length;c<d;++c)e.push(q(this,c,b));else{e=[];for(c=0;c<d;++c)e.push(q(this,c,b));this.Zb[b]=e}}};e.Rl=function(a,b){if(0>a||0>b)return null;var c=z(b/this.ob);if(c>=this.Zb.length)return null;var c=this.Zb[c],d=z(a/this.$a);return d>=c.length?null:c[d]};e.Sl=function(a,b){if(0>a||0>b||b>=
this.Zb.length)return null;var c=this.Zb[b];return a>=c.length?null:c[a]};e.Zr=function(a){var d=[];a=a.split(",");var e,f,g,k,m;e=0;for(f=a.length;e<f;++e)if(g=a[e],k=g.indexOf("x"),-1<k)for(m=parseInt(g.substring(0,k),10),g=g.substring(k+1),k=parseInt(g,10),-1<g.indexOf("h")&&(k|=c),-1<g.indexOf("v")&&(k|=b),-1<g.indexOf("d")&&(k|=l);0<m;--m)d.push(k);else k=parseInt(g,10),-1<g.indexOf("h")&&(k|=c),-1<g.indexOf("v")&&(k|=b),-1<g.indexOf("d")&&(k|=l),d.push(k);for(e=a=0;e<this.Zc;++e)for(f=0;f<this.Lc;++f)m=
d[a++],(g=this.Rl(f,e))&&g.Ki(f%this.$a,e%this.ob,m)};e.jw=function(){var a="";if(0>=this.Lc||0>=this.Zc)return a;var d=1,e=this.Bm(0,0),f,g,m,r,n,q,p,u;r=z(this.width/this.lb);g=z(this.height/this.kb);for(f=0;f<g;++f)for(m=0===f?1:0;m<r;++m)n=this.Bm(m,f),n===e?++d:(-1===e?(q=-1,e=u=p=!1):(q=e&k,p=0!==(e&c),u=0!==(e&b),e=0!==(e&l)),a=1===d?a+(""+q):a+(""+d+"x"+q),p&&(a+="h"),u&&(a+="v"),e&&(a+="d"),a+=",",d=1,e=n);-1===e?(q=-1,e=u=p=!1):(q=e&k,p=0!==(e&c),u=0!==(e&b),e=0!==(e&l));a=1===d?a+(""+q):
a+(""+d+"x"+q);p&&(a+="h");u&&(a+="v");e&&(a+="d");return a};e.Bm=function(a,b){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.Lc||b>=this.Zc)return-1;var c=this.Rl(a,b);return c?c.Vd[b%this.ob][a%this.$a]:-1};e.Ki=function(a,b,c){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.Lc||b>=this.Zc)return-1;var d=this.Rl(a,b);if(!d)return-1;d.Ki(a%this.$a,b%this.ob,c)};e.Ts=function(a){return Math.floor((a-this.x)/(this.$a*this.lb))};e.Us=function(a){return Math.floor((a-this.y)/(this.ob*this.kb))};
e.qy=function(a){return Math.floor((a-this.x)/this.lb)};e.ry=function(a){return Math.floor((a-this.y)/this.kb)};e.rm=function(a,b){var c=this.Us(a.top),d=this.Ts(a.right),e=this.Us(a.bottom),f,g,k;for(f=this.Ts(a.left);f<=d;++f)for(g=c;g<=e;++g)if(k=this.Sl(f,g))k.si(),Ca(b,k.Vb)};e.gy=function(a,b){var c=this.Bm(this.qy(a),this.ry(b));if(-1===c)return!1;c=this.type.dq(c);if(!c)return!0;var d=Math.floor((b-this.y)/this.kb)*this.kb+this.y;a-=Math.floor((a-this.x)/this.lb)*this.lb+this.x;return c.Lb(a,
b-d)};e.wh=function(a){var b,c,d,e,f,g;b=0;for(c=this.Zb.length;b<c;++b)for(f=this.Zb[b],d=0,e=f.length;d<e;++d)g=f[d],g.si(),Ca(a,g.Vb)};e.xe=function(){var a,b,c,d,e;a=0;for(b=this.Zb.length;a<b;++a){e=this.Zb[a];c=0;for(d=e.length;c<d;++c){for(var f=e[c],g=void 0,k=void 0,g=0,k=f.Cb.length;g<k;++g)t(f.Cb[g]);U(f.Cb);g=0;for(k=f.Vb.length;g<k;++g)p(f.Vb[g]);U(f.Vb);1E3>r.length&&r.push(f)}U(e)}U(this.Zb)};e.tb=function(){this.Ek();return{w:z(this.width/this.lb),h:z(this.height/this.kb),d:this.jw()}};
e.Pb=function(a){this.Lc=a.w;this.Zc=a.h;this.Ek(!0);this.Zr(a.d);this.Bi=!0;this.al()};e.Wc=function(a){if(!(0>=this.lb||0>=this.kb)){this.type.vn(this.lb,this.kb,this.to,this.vo,this.uo,this.wo,this.qf);if(this.width!==this.ue||this.height!==this.te)this.Bi=!0,this.al(),this.un(),this.ue=this.width,this.te=this.height;a.globalAlpha=this.opacity;var b=this.k,c=b.Y,d=b.Z,e=b.fa,b=b.ea,f=this.x,g=this.y,k=this.qf,l;this.b.Nc&&(f=Math.round(f),g=Math.round(g));var m=this.$a*this.lb,r=this.ob*this.kb,
n=Math.floor((c-f)/m),m=Math.floor((e-f)/m),q=Math.floor((d-g)/r),r=Math.floor((b-g)/r),p=f%this.lb,u=g%this.kb;this.qf&&(u=p=0);if(0!==p||0!==u)a.save(),a.translate(p,u),f-=p,g-=u,c-=p,d-=u,e-=p,b-=u;for(var t,v,x,B,P,H,F,Q,W;n<=m;++n)for(t=q;t<=r;++t)if(v=this.Sl(n,t))for(v.si(),x=0,B=v.Cb.length;x<B;++x)P=v.Cb[x],-1!==P.id&&(l=P.ma,H=l.left+f,F=l.top+g,Q=l.right+f,l=l.bottom+g,H>e||Q<c||F>b||l<d||(W=this.type.Ro(P.sl,P.Ph,P.bj,P.zg,this.qf),k?a.drawImage(W,H,F):(a.fillStyle=this.type.Ro(P.sl,P.Ph,
P.bj,P.zg,this.qf),a.fillRect(H,F,Q-H,l-F))));0===p&&0===u||a.restore()}};var n=new T(0,0,1,1);e.Se=function(a){this.Nb(a)};e.Nb=function(a){if(!(0>=this.lb||0>=this.kb)){this.type.vn(this.lb,this.kb,this.to,this.vo,this.uo,this.wo,this.qf);if(this.width!==this.ue||this.height!==this.te)this.Bi=!0,this.al(),this.un(),this.ue=this.width,this.te=this.height;a.ze(this.opacity);var b=this.type.Hf,c=this.k,d=c.Y,e=c.Z,f=c.fa,c=c.ea,g=this.x,k=this.y,l;this.b.Nc&&(g=Math.round(g),k=Math.round(k));var m=
this.$a*this.lb,r=this.ob*this.kb,q=Math.floor((f-g)/m),p=Math.floor((e-k)/r),r=Math.floor((c-k)/r),u,t,v,G,x,B,P,H,F,Q,W,R,I,S,ra,Ma,aa;for(ra=Math.floor((d-g)/m);ra<=q;++ra)for(Ma=p;Ma<=r;++Ma)if(aa=this.Sl(ra,Ma))for(aa.si(),m=0,u=aa.Cb.length;m<u;++m)t=aa.Cb[m],-1!==t.id&&(l=t.ma,v=l.left+g,G=l.top+k,x=l.right+g,l=l.bottom+k,v>f||x<d||G>c||l<e||(a.Wa(b[t.sl]),n.right=(x-v)/this.lb,n.bottom=(l-G)/this.kb,t.sp?(t.zg&&(S=n.right,n.right=n.bottom,n.bottom=S),P=B=0,H=n.right,F=0,Q=n.right,W=n.bottom,
R=0,I=n.bottom,t.zg&&(S=R,R=H,H=S,S=I,I=F,F=S),t.Ph&&(S=B,B=H,H=S,S=P,P=F,F=S,S=R,R=Q,Q=S,S=I,I=W,W=S),t.bj&&(S=B,B=R,R=S,S=P,P=I,I=S,S=H,H=Q,Q=S,S=F,F=W,W=S),a.Un(v,G,x,G,x,l,v,l,B,P,H,F,Q,W,R,I)):a.yd(v,G,x,G,x,l,v,l,n)))}};g.j=new function(){};a.prototype.Vt=function(a,b,c,e){this.Ek();this.Ki(a,b,c&k|d(e))};a.prototype.ct=function(a,b,c,d){var e=Math.floor(oa(a,0));a=Math.floor(pa(a+c,this.Lc));d=Math.floor(pa(b+d,this.Zc));for(c=Math.floor(oa(b,0));c<d;++c)for(b=e;b<a;++b)this.Ki(b,c,-1)};g.ya=
new a;g.Fa=new function(){}})();function zc(f){this.b=f}
(function(){function f(a){e=a.x;c=a.y;b=a.z}function t(a,b,c,d){var e;e=l.length?l.pop():new m;e.init(a,b,c,d);return e}function m(){this.Ri=this.id=this.y=this.x=this.ll=this.kl=this.cn=this.time=this.qo=0;this.Yi=this.wl=!1}function p(a){return a.sourceCapabilities&&a.sourceCapabilities.firesTouchEvents||a.originalEvent&&a.originalEvent.sourceCapabilities&&a.originalEvent.sourceCapabilities.firesTouchEvents}function q(){}function u(){}var d=zc.prototype;d.pa=function(a){this.za=a;this.b=a.b};d.pa.prototype.L=
function(){};d.aa=function(a){this.type=a;this.b=a.b;this.touches=[];this.xn=!1};var a=d.aa.prototype,g={left:0,top:0};a.Ih=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var e=0,c=0,b=0,l=[];m.prototype.init=function(a,b,c,d){var e=Xa();this.qo=this.cn=this.time=e;this.kl=a;this.ll=b;this.x=a;this.y=b;this.pressure=this.height=this.width=0;this.id=c;this.Ri=d;this.Yi=this.wl=!1};m.prototype.update=function(a,b,c,d,e,f){this.cn=this.time;this.time=
a;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.Yi&&15<=Ra(this.kl,this.ll,this.x,this.y)&&(this.Yi=!0)};m.prototype.$w=function(a,b){!this.wl&&500<=Xa()-this.qo&&!this.Yi&&15>Ra(this.kl,this.ll,this.x,this.y)&&(this.wl=!0,a.Wd=this.Ri,a.kh=this.id,a.Gg=b,a.b.trigger(zc.prototype.j.Bt,a),a.de=this.x,a.ee=this.y,a.b.trigger(zc.prototype.j.Ct,a),a.Gg=0)};var k=-1E3,v=-1E3,I=-1E4;m.prototype.Zq=function(a,b){if(!this.wl){var c=Xa();333>=c-this.qo&&!this.Yi&&15>Ra(this.kl,this.ll,
this.x,this.y)&&(a.Wd=this.Ri,a.kh=this.id,a.Gg=b,666>=c-I&&25>Ra(k,v,this.x,this.y)?(a.b.trigger(zc.prototype.j.ut,a),a.de=this.x,a.ee=this.y,a.b.trigger(zc.prototype.j.wt,a),v=k=-1E3,I=-1E4):(a.b.trigger(zc.prototype.j.Pt,a),a.de=this.x,a.ee=this.y,a.b.trigger(zc.prototype.j.Qt,a),k=this.x,v=this.y,I=c),a.Gg=0)}};a.L=function(){this.Sw=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Gg=this.kh=this.Wd=this.ee=this.de=this.kp=this.jp=this.ip=this.fu=this.eu=this.du=this.Nk=
this.Mk=this.Lk=0;this.ly=0!==this.q[0];var a=0<this.b.Ob?document:this.b.canvas,b=document;this.b.Xb?b=a=window.Canvas:this.b.Xc&&(b=a=window);var c=this;"undefined"!==typeof PointerEvent?(a.addEventListener("pointerdown",function(a){c.pr(a)},!1),a.addEventListener("pointermove",function(a){c.or(a)},!1),b.addEventListener("pointerup",function(a){c.Kk(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.Kk(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},
!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.pr(a)},!1),a.addEventListener("MSPointerMove",function(a){c.or(a)},!1),b.addEventListener("MSPointerUp",function(a){c.Kk(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.Kk(a,
!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.rr(a)},!1),a.addEventListener("touchmove",function(a){c.qr(a)},!1),b.addEventListener("touchend",function(a){c.Jn(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.Jn(a,!0)},!1));if(this.Sw){var d=function(a){a=a.reading;c.ip=a.accelerationX;c.jp=a.accelerationY;
c.kp=a.accelerationZ},e=function(a){a=a.reading;c.Lk=a.yawDegrees;c.Mk=a.pitchDegrees;c.Nk=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",d));var k=Windows.Devices.Sensors.Inclinometer.getDefault();k&&(k.reportInterval=Math.max(k.minimumReportInterval,16),k.addEventListener("readingchanged",e));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?
(g&&g.removeEventListener("readingchanged",d),k&&k.removeEventListener("readingchanged",e)):(g&&g.addEventListener("readingchanged",d),k&&k.addEventListener("readingchanged",e))},!1)}else window.addEventListener("deviceorientation",function(a){c.Lk=a.alpha||0;c.Mk=a.beta||0;c.Nk=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.du=a.accelerationIncludingGravity.x||0,c.eu=a.accelerationIncludingGravity.y||0,c.fu=a.accelerationIncludingGravity.z||
0);a.acceleration&&(c.ip=a.acceleration.x||0,c.jp=a.acceleration.y||0,c.kp=a.acceleration.z||0)},!1);this.ly&&!this.b.Ha&&(jQuery(document).mousemove(function(a){c.Hn(a)}),jQuery(document).mousedown(function(a){c.Gn(a)}),jQuery(document).mouseup(function(a){c.In(a)}));!this.b.Ng&&this.b.Jc&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(f,null,{frequency:40});this.b.xs(this)};a.or=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&
"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.Ih(a.pointerId),c=Xa();if(0<=b){var d=this.b.Ha?g:jQuery(this.b.canvas).offset(),b=this.touches[b];2>c-b.time||b.update(c,a.pageX-d.left,a.pageY-d.top,a.width||0,a.height||0,a.pressure||0)}}};a.pr=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&mb(a)&&a.preventDefault();var b=this.b.Ha?g:jQuery(this.b.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top;Xa();this.Wd=this.touches.length;
this.kh=a.pointerId;this.touches.push(t(c,b,a.pointerId,this.Wd));this.b.Ta=!0;this.b.trigger(zc.prototype.j.$o,this);this.b.trigger(zc.prototype.j.gp,this);this.de=c;this.ee=b;this.b.trigger(zc.prototype.j.fp,this);this.b.Ta=!1}};a.Kk=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&mb(a)&&a.preventDefault();var c=this.Ih(a.pointerId);this.Wd=0<=c?this.touches[c].Ri:-1;this.kh=0<=c?this.touches[c].id:-1;this.b.Ta=!0;this.b.trigger(zc.prototype.j.Zo,
this);this.b.trigger(zc.prototype.j.ep,this);0<=c&&(b||this.touches[c].Zq(this,c),100>l.length&&l.push(this.touches[c]),this.touches.splice(c,1));this.b.Ta=!1}};a.qr=function(a){a.preventDefault&&a.preventDefault();var b=Xa(),c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.Ih(e.identifier),0<=f){var k=this.b.Ha?g:jQuery(this.b.canvas).offset();f=this.touches[f];2>b-f.time||f.update(b,e.pageX-k.left,e.pageY-k.top,2*(e.Nz||e.Sz||e.Gz||e.Jz||0),2*(e.Oz||e.Tz||e.Hz||
e.Kz||0),e.Az||e.Rz||e.Fz||e.Iz||0)}};a.rr=function(a){a.preventDefault&&mb(a)&&a.preventDefault();var b=this.b.Ha?g:jQuery(this.b.canvas).offset();Xa();this.b.Ta=!0;var c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.Ih(e.identifier),-1===f){f=e.pageX-b.left;var k=e.pageY-b.top;this.Wd=this.touches.length;this.kh=e.identifier;this.touches.push(t(f,k,e.identifier,this.Wd));this.b.trigger(zc.prototype.j.$o,this);this.b.trigger(zc.prototype.j.gp,this);this.de=f;this.ee=
k;this.b.trigger(zc.prototype.j.fp,this)}this.b.Ta=!1};a.Jn=function(a,b){a.preventDefault&&mb(a)&&a.preventDefault();this.b.Ta=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.Ih(e.identifier),0<=e&&(this.Wd=this.touches[e].Ri,this.kh=this.touches[e].id,this.b.trigger(zc.prototype.j.Zo,this),this.b.trigger(zc.prototype.j.ep,this),b||this.touches[e].Zq(this,e),100>l.length&&l.push(this.touches[e]),this.touches.splice(e,1));this.b.Ta=!1};a.wh=function(){return this.b.Jc&&
0===this.Lk&&0!==b?90*b:this.Lk};a.zz=function(){return this.b.Jc&&0===this.Mk&&0!==c?90*c:this.Mk};a.Dz=function(){return this.b.Jc&&0===this.Nk&&0!==e?90*e:this.Nk};a.Gn=function(a){p(a)||(this.rr({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),this.xn=!0)};a.Hn=function(a){this.xn&&!p(a)&&this.qr({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};a.In=function(a){a.preventDefault&&this.b.ek&&!this.b.pe&&a.preventDefault();this.b.ek=!0;p(a)||(this.Jn({changedTouches:[{pageX:a.pageX,
pageY:a.pageY,identifier:0}]}),this.xn=!1)};a.Xi=function(){var a,b,c,d=Xa();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.cn=d),c.$w(this,a)};q.prototype.gp=function(){return!0};q.prototype.ep=function(){return!0};q.prototype.fp=function(a){return a?this.b.Ui(a,this.de,this.ee):!1};q.prototype.$o=function(a){a=Math.floor(a);return a===this.Wd};q.prototype.Zo=function(a){a=Math.floor(a);return a===this.Wd};q.prototype.Bt=function(){return!0};q.prototype.Pt=function(){return!0};
q.prototype.ut=function(){return!0};q.prototype.Ct=function(a){return a?this.b.Ui(a,this.de,this.ee):!1};q.prototype.Qt=function(a){return a?this.b.Ui(a,this.de,this.ee):!1};q.prototype.wt=function(a){return a?this.b.Ui(a,this.de,this.ee):!1};d.j=new q;u.prototype.ij=function(a,b){var c=this.Gg;if(0>c||c>=this.touches.length)a.B(0);else{var d,e,f,g,k;ia(b)?(d=this.b.le(0),e=d.scale,f=d.Ub,g=d.hc,k=d.n,d.scale=1,d.Ub=1,d.hc=1,d.n=0,a.B(d.Za(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.Ub=f,
d.hc=g,d.n=k):(d=ja(b)?this.b.le(b):this.b.Jh(b))?a.B(d.Za(this.touches[c].x,this.touches[c].y,!0)):a.B(0)}};u.prototype.jj=function(a,b){var c=this.Gg;if(0>c||c>=this.touches.length)a.B(0);else{var d,e,f,g,k;ia(b)?(d=this.b.le(0),e=d.scale,f=d.Ub,g=d.ic,k=d.n,d.scale=1,d.Ub=1,d.ic=1,d.n=0,a.B(d.Za(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.Ub=f,d.ic=g,d.n=k):(d=ja(b)?this.b.le(b):this.b.Jh(b))?a.B(d.Za(this.touches[c].x,this.touches[c].y,!1)):a.B(0)}};d.Fa=new u})();
function Ac(f){this.b=f}
(function(){function f(a){a%=b.length;0>a&&(a+=b.length);return a}function t(){var a,c,d,e;a=0;for(c=b.length;a<c;++a)d=b[a],(e=b[f(a-1)])&&!d&&(k=a),!e&&d&&(I=a)}var m=Ac.prototype;m.pa=function(a){this.za=a;this.b=a.b};var p=m.pa.prototype,q=!1,u=null,d=null;p.L=function(){this.D||q||(q=!0,u=new Image,u.Bj=15E3,this.b.El(u,"penumbra.png"))};p.$g=function(){if(!this.D){this.yc=this.S=null;var a,b,c;a=0;for(b=this.i.length;a<b;++a)c=this.i[a],c.S=null,c.yc=null}};p.yi=function(){if(!this.D){var a,b;
a=0;for(b=this.i.length;a<b;++a)this.i[a].Hp()}};m.aa=function(a){this.type=a;this.b=a.b};p=m.aa.prototype;p.L=function(){if(!d){var a=u.width,b=u.height,c=document.createElement("canvas");c.width=a;c.height=b;c=c.getContext("2d");c.clearRect(0,0,a,b);c.drawImage(u,0,0,a,b);d=c.getImageData(0,0,a,b).data}this.bf=this.x;this.cf=this.y;this.Fq=this.q[0];this.gc=1E3;this.Sg=this.q[1];this.Bp=this.q[2];this.tag=this.q[3];this.hn=this.jn=this.kn=0;this.yq=this.x;this.zq=this.y;this.yc=this.S=null;this.b.p?
this.Hp():this.Sg=0;this.b.xs(this)};p.Cp=function(a){return 1===this.Bp?lb(this.tag,a):2===this.Bp?!lb(this.tag,a):!0};p.Xi=function(){if(this.yq!==this.x||this.zq!==this.y)this.bf=this.x,this.cf=this.y;var a=this.k,b=(a.Y+a.fa)/2,c=(a.Z+a.ea)/2,d=a.fa-a.Y+this.gc,e=a.ea-a.Z+this.gc;if(b!==this.x||c!==this.y||d!==this.width||e!==this.height)this.x=b,this.y=c,this.width=d,this.height=e,this.A();this.yq=this.x;this.zq=this.y;this.gc=1.5*Ra(a.Y,a.Z,a.fa,a.ea)};p.xe=function(){this.b.p&&(this.S&&(this.b.p.deleteTexture(this.S),
this.S=null),this.yc&&(this.b.p.deleteTexture(this.yc),this.yc=null))};p.tb=function(){return{}};p.Pb=function(){};var a=[],g=[];p.cq=function(){this.b.lo&&(this.b.Cm(this.k,this.b.lo.yn,this.ja,a),Ya(a))};var e=[],c=0,b=[],l=[],k=-1,v=-1,I=-1,r=-1,n=0,h=0,w=[],J=0,ga=0,ha=0,D=0,N=0,M=0,K=0,O=0,C=new fb([]);p.Wc=function(c){this.cq();c.save();c.fillStyle="rgba("+this.kn+","+this.jn+","+this.hn+","+this.opacity+")";var d,e,f,h,k,l,m,n,q,p;d=0;for(e=a.length;d<e;++d)if(f=a[d],f.H.shadowcasterEnabled&&
this.Cp(f.H.shadowcasterTag))if(f.W(),m=f.H.shadowcasterHeight,f.wf){f.rm(this.ja,g);n=f.x;q=f.y;f=0;for(h=g.length;f<h;++f){k=g[f];p=k.ma;k.Oc?(k=k.Oc,l=p.left,p=p.top):(C.jg(p,0,0),k=C,p=l=0);this.wj(k,n+l,q+p,m,!1);c.beginPath();c.moveTo(w[0],w[1]);k=2;for(l=w.length;k<l;k+=2)c.lineTo(w[k],w[k+1]);c.closePath();c.fill();U(b);U(w)}U(g)}else{f.O&&!f.O.Ye()?(f.O.$d(f.width,f.height,f.n),k=f.O):(C.sf(f.ub,f.x,f.y,f.width,f.height),k=C);this.wj(k,f.x,f.y,m,Ta(0>f.width,0>f.height));c.beginPath();c.moveTo(w[0],
w[1]);f=2;for(h=w.length;f<h;f+=2)c.lineTo(w[f],w[f+1]);c.closePath();c.fill();U(b);U(w)}c.restore();U(a)};p.dw=function(a,b,d,f){c=a.jc;U(e);var g,k=a.ua;h=n=0;var l;for(l=0;l<c;++l)g=2*l,a=k[g]+b,g=k[g+1]+d,f?(e.unshift(g),e.unshift(a)):(e.push(a),e.push(g)),n+=a,h+=g;n/=c;h/=c};p.wj=function(a,d,f,g,h){this.dw(a,d,f,h);var m;U(b);U(l);U(w);r=v=I=k=-1;f=this.bf;h=this.cf;if(0<this.Sg)this.Pl(-this.Sg),t(),Ba(l,b),v=k,r=I,U(b),I=k=-1,this.Pl(this.Sg),t(),-1!==k&&-1!==I&&-1!==v&&-1!==r&&this.su();
else for(this.Pl(0),t(),a=0;a<c;++a)m=2*a,d=e[m],m=e[m+1],this.ru(a,f,h,d,m,g)};p.ru=function(a,c,d,e,g,h){var l;l=b[f(a-1)];var m=a===k,n=a===I;b[a]||l?(a=La(c,d,e,g),l=Ra(c,d,e,g),h=this.tu(c,d,e,g,h),c+=Math.cos(a)*(l+h),d+=Math.sin(a)*(l+h)):(c=e,d=g);n&&(w.push(e),w.push(g));w.push(c);w.push(d);m&&(w.push(e),w.push(g))};p.Pl=function(a){var d=this.bf,f=this.cf,g=d,k=f,l,m,q,p,r;for(l=0;l<c;++l)m=2*l,q=l+1,q=q===c?0:2*q,p=e[m],m=e[m+1],r=e[q],q=e[q+1],0!==a&&(k=La(d,f,n,h)-Math.PI/2,g=d+Math.cos(k)*
a,k=f+Math.sin(k)*a),b.push(Na(La(p,m,g,k),La(p,m,r,q)-Math.PI/2)>=Math.PI/2)};var A=0,L=0;p.su=function(){for(var a=v,b,d,f;a=a%c,b=2*a,d=e[b],f=e[b+1],w.push(d),w.push(f),a!==I;++a);var g=this.Sg,k=La(this.bf,this.cf,n,h),a=this.bf+Math.cos(k-Math.PI/2)*g,l=this.cf+Math.sin(k-Math.PI/2)*g,k=La(a,l,d,f),m=Ra(a,l,d,f),a=a+Math.cos(k)*(m+this.gc),l=l+Math.sin(k)*(m+this.gc);b=2*v;var q=e[b];b=e[b+1];var k=La(this.bf,this.cf,n,h),p=this.bf+Math.cos(k+Math.PI/2)*g,r=this.cf+Math.sin(k+Math.PI/2)*g,k=
La(p,r,q,b),m=Ra(p,r,q,b),g=p+Math.cos(k)*(m+this.gc),k=r+Math.sin(k)*(m+this.gc);N=d;M=f;J=q;ga=b;var u,t,C,m=a-d,p=l-f;u=g-q;t=k-b;C=-u*p+m*t;0===C?d=!1:(r=(-p*(d-q)+m*(f-b))/C,C=-u*p+m*t,0===C?d=!1:(q=(u*(f-b)-t*(d-q))/C,0<=r&&1>=r&&0<=q&&1>=q?(A=d+q*m,L=f+q*p,d=!0):d=!1));d?(w.push(A),w.push(L),K=A,O=L,ha=A,D=L):(w.push(a),w.push(l),w.push(g),w.push(k),K=a,O=l,ha=g,D=k)};p.tu=function(a,b,c,d,e){if(e>=this.Fq)return this.gc;if(0>=e)return 0;a=Ra(a,b,c,d);a=Math.atan(a/(this.Fq-e));e=e*Math.tan(a);
e>=this.gc&&(e=this.gc);0>e&&(e=0);return e};p.Nb=function(c){c.ze(this.opacity);this.cq();var d,e,f,h,l,m,q,n,p,u;d=0;for(e=a.length;d<e;++d)if(f=a[d],f.H.shadowcasterEnabled&&this.Cp(f.H.shadowcasterTag))if(f.W(),l=f.H.shadowcasterHeight,f.wf){f.rm(this.ja,g);q=f.x;n=f.y;f=0;for(h=g.length;f<h;++f)m=g[f],p=m.ma,m.Oc?(m=m.Oc,u=p.left,p=p.top):(C.jg(p,0,0),m=C,p=u=0),this.wj(m,q+u,n+p,l,!1),6>w.length||(c.Wa(this.S),c.Gp(w),-1<k&&-1<v&&(c.Wa(this.yc),this.Mj(c,!0)),-1<I&&-1<r&&(c.Wa(this.yc),this.Mj(c,
!1)),U(b),U(w));U(g)}else f.O&&!f.O.Ye()?(f.O.$d(f.width,f.height,f.n),m=f.O):(C.sf(f.ub,f.x,f.y,f.width,f.height),m=C),this.wj(m,f.x,f.y,l,Ta(0>f.width,0>f.height)),6>w.length||(c.Wa(this.S),c.Gp(w),-1<k&&-1<v&&(c.Wa(this.yc),this.Mj(c,!0)),-1<I&&-1<r&&(c.Wa(this.yc),this.Mj(c,!1)),U(b),U(w));U(a)};p.Mj=function(a,b){var c=this.bf,d=this.cf,f,g,l,m,q,p;b?(l=J,m=ga,q=ha,p=D):(l=N,m=M,q=K,p=O);var u=this.Sg,t=La(c,d,n,h),w=Math.PI/2;b&&(w=-w);c+=Math.cos(t+w)*u;d+=Math.sin(t+w)*u;u=!1;if(b){if(u=k!==
v)f=e[2*k],g=e[2*k+1]}else if(u=I!==r)f=e[2*r],g=e[2*r+1];var t=u?La(f,g,l,m):La(c,d,l,m),w=l+Math.cos(t)*this.gc,A=m+Math.sin(t)*this.gc,C,L,aa,Sa=aa=0,za=1;u&&(aa=La(c,d,f,g),C=f+Math.cos(aa)*this.gc,L=g+Math.sin(aa)*this.gc,c=La(l,m,q,p),aa=Na(t,aa)/Na(c,aa),t=Ra(f,g,l,m),t=t/(t+this.gc),c=La(0,1,aa,0),d=Ra(0,1,aa,0),Sa+=Math.cos(c)*t*d,za+=Math.sin(c)*t*d);a.Un(l,m,q,p,w,A,w,A,Sa,za,1,0,aa,0,aa,0);u&&a.Un(f,g,w,A,C,L,C,L,0,1,aa,0,0,0,0,0)};p.Hp=function(){this.b.p&&(this.S&&(this.b.p.deleteTexture(this.S),
this.S=null),this.yc&&(this.b.p.deleteTexture(this.yc),this.yc=null),this.yu(),this.Bu())};p.yu=function(){var a=document.createElement("canvas");a.width=16;a.height=16;var b=a.getContext("2d");b.fillStyle="rgb("+this.kn+","+this.jn+","+this.hn+")";b.fillRect(0,0,16,16);this.S=this.b.p.Wb(16,16,!1,!1,!0);this.b.p.Dl(a,this.S)};p.Bu=function(){var a=u.width,b=u.height,c=this.kn,e=this.jn,f=this.hn,g=d,h=document.createElement("canvas");h.width=a;h.height=b;var k=h.getContext("2d"),l=k.createImageData(a,
b),m=l.data,q,n;q=0;for(n=m.length;q<n;q+=4)m[q]=c,m[q+1]=e,m[q+2]=f,m[q+3]=g[q+3];k.putImageData(l,0,0);this.yc=this.b.p.Wb(a,b,this.b.Ca,!1,!1);this.b.p.Dl(h,this.yc)};m.j=new function(){};m.ya=new function(){};m.Fa=new function(){}})();function Dc(f){this.b=f}
(function(){var f=Dc.prototype;f.pa=function(f){this.behavior=f;this.b=f.b};f.pa.prototype.L=function(){};f.aa=function(f,p){this.type=f;this.behavior=f.behavior;this.e=p;this.b=f.b};var t=f.aa.prototype;t.L=function(){this.op=this.q[0];this.pp=this.q[1];this.lu=this.q[2];this.ku=this.q[3];this.e.W();this.Lo=this.e.ja.left;this.Oo=this.e.ja.top;this.Mo=this.b.Ka-this.e.ja.left;this.No=this.b.Ja-this.e.ja.top;this.Xn=this.b.Ka-this.e.ja.right;this.Nl=this.b.Ja-this.e.ja.bottom;this.enabled=0!==this.q[4]};
t.tb=function(){return{xleft:this.Lo,ytop:this.Oo,xright:this.Mo,ybottom:this.No,rdiff:this.Xn,bdiff:this.Nl,enabled:this.enabled}};t.Pb=function(f){this.Lo=f.xleft;this.Oo=f.ytop;this.Mo=f.xright;this.No=f.ybottom;this.Xn=f.rdiff;this.Nl=f.bdiff;this.enabled=f.enabled};t.Ya=function(){if(this.enabled){var f,p=this.e.k,q=this.e,u=this.e.ja;0===this.op?(q.W(),f=p.Y+this.Lo-u.left,0!==f&&(q.x+=f,q.A())):1===this.op&&(q.W(),f=p.fa-this.Mo-u.left,0!==f&&(q.x+=f,q.A()));0===this.pp?(q.W(),f=p.Z+this.Oo-
u.top,0!==f&&(q.y+=f,q.A())):1===this.pp&&(q.W(),f=p.ea-this.No-u.top,0!==f&&(q.y+=f,q.A()));1===this.lu&&(q.W(),f=p.fa-this.Xn-u.right,0!==f&&(q.width+=f,0>q.width&&(q.width=0),q.A()));1===this.ku&&(q.W(),f=p.ea-this.Nl-u.bottom,0!==f&&(q.height+=f,0>q.height&&(q.height=0),q.A()))}};f.j=new function(){};f.ya=new function(){};f.Fa=new function(){}})();function Ec(f){this.b=f}
(function(){function f(){}function t(){}var m=Ec.prototype;m.pa=function(f){this.behavior=f;this.b=f.b};m.pa.prototype.L=function(){};m.aa=function(f,m){this.type=f;this.behavior=f.behavior;this.e=m;this.b=f.b;this.Pi=this.hl=this.gl=this.Jm=this.xh=this.Dh=this.Og=this.Pg=this.Hi=this.gi=!1;this.Yb=null;this.mn=-1;this.Vf=this.Uf=0;this.Wj=!1;this.Bg=this.kd=0;this.Uj=!0;this.ta=this.P=0};var p=m.aa.prototype;p.Ns=function(){this.ab=Math.cos(this.Eg);this.bb=Math.sin(this.Eg);this.of=Math.cos(this.Eg-
Math.PI/2);this.pf=Math.sin(this.Eg-Math.PI/2);this.ab=kb(this.ab);this.bb=kb(this.bb);this.of=kb(this.of);this.pf=kb(this.pf);this.pm=this.ke;0>this.ke&&(this.ab*=-1,this.bb*=-1,this.ke=Math.abs(this.ke))};p.L=function(){this.Vg=this.q[0];this.tg=this.q[1];this.yg=this.q[2];this.di=this.q[3];this.pm=this.ke=this.q[4];this.Dk=this.q[5];this.fm=0!==this.q[6];this.$m=this.q[7]/1E3;this.Cu=1===this.q[8];this.enabled=0!==this.q[9];this.ph=!1;this.qh=this.b.uf(this.e);this.nn=-1;this.lg=0;this.Eg=X(90);
this.Ns();var f=this;this.Cu&&!this.b.Ha&&(jQuery(document).keydown(function(m){f.En(m)}),jQuery(document).keyup(function(m){f.Fn(m)}));this.zc||(this.fr=function(m){f.Dn(m)});this.b.mp(this.fr);this.e.H.isPlatformBehavior=!0};p.tb=function(){return{ii:this.Jm,lfx:this.Uf,lfy:this.Vf,lfo:this.Yb?this.Yb.uid:-1,am:this.kd,en:this.enabled,fall:this.Bg,ft:this.Uj,dx:this.P,dy:this.ta,ms:this.Vg,acc:this.tg,dec:this.yg,js:this.di,g:this.ke,g1:this.pm,mf:this.Dk,wof:this.ph,woj:this.qh?this.qh.uid:-1,
ga:this.Eg,edj:this.fm,cdj:this.xh,dj:this.Dh,sus:this.$m}};p.Pb=function(f){this.Jm=f.ii;this.Uf=f.lfx;this.Vf=f.lfy;this.mn=f.lfo;this.kd=f.am;this.enabled=f.en;this.Bg=f.fall;this.Uj=f.ft;this.P=f.dx;this.ta=f.dy;this.Vg=f.ms;this.tg=f.acc;this.yg=f.dec;this.di=f.js;this.ke=f.g;this.pm=f.g1;this.Dk=f.mf;this.ph=f.wof;this.nn=f.woj;this.Eg=f.ga;this.fm=f.edj;this.xh=f.cdj;this.Dh=f.dj;this.$m=f.sus;this.Pi=this.hl=this.gl=this.Og=this.Pg=this.Hi=this.gi=!1;this.lg=0;this.Ns()};p.Fd=function(){-1===
this.mn?this.Yb=null:this.Yb=this.b.Fg(this.mn);-1===this.nn?this.qh=null:this.qh=this.b.Fg(this.nn)};p.Dn=function(f){this.Yb==f&&(this.Yb=null)};p.xe=function(){this.Yb=null;this.b.Hx(this.fr)};p.En=function(f){switch(f.which){case 38:f.preventDefault();this.Pg=!0;break;case 37:f.preventDefault();this.gi=!0;break;case 39:f.preventDefault(),this.Hi=!0}};p.Fn=function(f){switch(f.which){case 38:f.preventDefault();this.Og=this.Pg=!1;break;case 37:f.preventDefault();this.gi=!1;break;case 39:f.preventDefault(),
this.Hi=!1}};p.kf=function(){this.Pg=this.Hi=this.gi=!1};p.wh=function(){return 0>this.ke?-1:1};p.rq=function(){var f=null,m=null,d,a;d=this.e.x;a=this.e.y;this.e.x+=this.ab;this.e.y+=this.bb;this.e.A();if(this.Yb&&this.b.dd(this.e,this.Yb)&&(!this.b.Bo(this.Yb.type,pc)||this.Yb.H.solidEnabled))return this.e.x=d,this.e.y=a,this.e.A(),this.Yb;(f=this.b.pc(this.e))||0!==this.Bg||(m=this.b.uf(this.e,!0));this.e.x=d;this.e.y=a;this.e.A();if(f){if(this.b.dd(this.e,f))return null;this.Wj=!1;return f}if(m&&
m.length){a=f=0;for(d=m.length;f<d;f++)m[a]=m[f],this.b.dd(this.e,m[f])||a++;if(1<=a)return this.Wj=!0,m[0]}return null};p.Ya=function(){};p.Jr=function(){var f=this.b.tm(this.e),m,d,a,g,e,c,b,l,k;this.Pg||this.Pi||(this.Og=!1);var p=this.gi||this.gl;a=this.Hi||this.hl;var t=(g=this.Pg||this.Pi)&&!this.Og;this.Pi=this.hl=this.gl=!1;if(this.enabled){this.Jm&&(t=g=a=p=!1);g||(this.lg=0);l=this.Yb;k=!1;this.Uj&&((this.b.pc(this.e)||this.b.uf(this.e))&&this.b.xd(this.e,-this.ab,-this.bb,4,!0),this.Uj=
!1);!l||0!==this.ta||l.y===this.Vf&&l.x===this.Uf||(m=l.x-this.Uf,d=l.y-this.Vf,this.e.x+=m,this.e.y+=d,this.e.A(),this.Uf=l.x,this.Vf=l.y,k=!0,this.b.pc(this.e)&&this.b.xd(this.e,-m,-d,2.5*Math.sqrt(m*m+d*d)));var r=this.rq();if(d=this.b.pc(this.e))if(this.e.H.inputPredicted)this.b.xd(this.e,-this.ab,-this.bb,10,!1);else if(this.b.Nr(this.e,this.of,this.pf,this.e.width/2))this.b.hg(this.e,d);else if(this.b.Nr(this.e,this.ab,this.bb,this.e.height/2))this.b.hg(this.e,d);else if(this.b.Cx(this.e,Math.max(this.e.width,
this.e.height)/2))this.b.hg(this.e,d);else return;r?(this.xh=this.Dh=!1,0<this.ta&&(this.ph||(this.b.Vk(this.e,-this.ab,-this.bb,r),this.ph=!0),this.ta=0),l!=r)?(this.Yb=r,this.Uf=r.x,this.Vf=r.y,this.b.hg(this.e,r)):k&&(d=this.b.pc(this.e))&&(this.b.hg(this.e,d),0!==m&&(0<m?this.b.xd(this.e,-this.of,-this.pf):this.b.xd(this.e,this.of,this.pf)),this.b.xd(this.e,-this.ab,-this.bb)):g||(this.xh=!0);if(r&&t||!r&&this.fm&&g&&this.xh&&!this.Dh)l=this.e.x,k=this.e.y,this.e.x-=this.ab,this.e.y-=this.bb,
this.e.A(),this.b.pc(this.e)?t=!1:(this.lg=this.$m,this.b.trigger(Ec.prototype.j.Dt,this.e),this.kd=2,this.ta=-this.di,t=!0,r?this.Og=!0:this.Dh=!0),this.e.x=l,this.e.y=k,this.e.A();r||(g&&0<this.lg?(this.ta=-this.di,this.lg-=f):(this.Yb=null,this.ta+=this.ke*f,this.ta>this.Dk&&(this.ta=this.Dk)),t&&(this.Og=!0));this.ph=!!r;p==a&&(0>this.P?(this.P+=this.yg*f,0<this.P&&(this.P=0)):0<this.P&&(this.P-=this.yg*f,0>this.P&&(this.P=0)));p&&!a&&(this.P=0<this.P?this.P-(this.tg+this.yg)*f:this.P-this.tg*
f);a&&!p&&(this.P=0>this.P?this.P+(this.tg+this.yg)*f:this.P+this.tg*f);this.P>this.Vg?this.P=this.Vg:this.P<-this.Vg&&(this.P=-this.Vg);p=!1;0!==this.P&&(l=this.e.x,k=this.e.y,m=this.P*f*this.of,d=this.P*f*this.pf,this.e.x+=this.of*(1<this.P?1:-1)-this.ab,this.e.y+=this.pf*(1<this.P?1:-1)-this.bb,this.e.A(),g=!1,e=this.b.pc(this.e),this.e.x=l+m,this.e.y=k+d,this.e.A(),a=this.b.pc(this.e),!a&&r&&(a=this.b.uf(this.e))&&(this.e.x=l,this.e.y=k,this.e.A(),this.b.dd(this.e,a)?(a=null,g=!1):g=!0,this.e.x=
l+m,this.e.y=k+d,this.e.A()),a?(m=Math.abs(this.P*f)+2,e||!this.b.xd(this.e,-this.ab,-this.bb,m,g,a))?(this.b.hg(this.e,a),m=Math.max(Math.abs(this.P*f*2.5),30),this.b.xd(this.e,this.of*(0>this.P?1:-1),this.pf*(0>this.P?1:-1),m,!1)?!r||g||this.Wj||(l=this.e.x,k=this.e.y,this.e.x+=this.ab,this.e.y+=this.bb,this.b.pc(this.e)?this.b.xd(this.e,-this.ab,-this.bb,3,!1)||(this.e.x=l,this.e.y=k,this.e.A()):(this.e.x=l,this.e.y=k,this.e.A())):(this.e.x=l,this.e.y=k,this.e.A()),g||(this.P=0)):!e&&!t&&Math.abs(this.ta)<
Math.abs(this.di/4)&&(this.ta=0,r||(p=!0)):(l=this.rq(),r&&!l?(d=Math.ceil(Math.abs(this.P*f))+2,l=this.e.x,k=this.e.y,this.e.x+=this.ab*d,this.e.y+=this.bb*d,this.e.A(),this.b.pc(this.e)||this.b.uf(this.e)?this.b.xd(this.e,-this.ab,-this.bb,d+2,!0):(this.e.x=l,this.e.y=k,this.e.A())):l&&0===this.ta&&this.b.Vk(this.e,-this.ab,-this.bb,l)));if(0!==this.ta){l=this.e.x;k=this.e.y;this.e.x+=this.ta*f*this.ab;this.e.y+=this.ta*f*this.bb;m=this.e.x;a=this.e.y;this.e.A();d=this.b.pc(this.e);g=!1;if(!d&&
0<this.ta&&!r){if((g=0<this.Bg?null:this.b.uf(this.e,!0))&&g.length){if(this.qh){this.e.x=l;this.e.y=k;this.e.A();b=e=0;for(c=g.length;e<c;e++)g[b]=g[e],this.b.dd(this.e,g[e])||b++;g.length=b;this.e.x=m;this.e.y=a;this.e.A()}1<=g.length&&(d=g[0])}g=!!d}d&&(this.b.hg(this.e,d),this.lg=0,m=g?Math.abs(this.ta*f*2.5+10):Math.max(Math.abs(this.ta*f*2.5+10),30),this.b.xd(this.e,this.ab*(0>this.ta?1:-1),this.bb*(0>this.ta?1:-1),m,g,d)?(this.Yb=d,this.Uf=d.x,this.Vf=d.y,(this.Wj=g)&&(p=!0),this.ta=0):(this.e.x=
l,this.e.y=k,this.e.A(),this.ph=!0,g||(this.ta=0)))}3!==this.kd&&0<this.ta&&!r&&(this.b.trigger(Ec.prototype.j.xt,this.e),this.kd=3);(r||p)&&0<=this.ta&&(3===this.kd||p||t&&0===this.ta?(this.b.trigger(Ec.prototype.j.Ft,this.e),this.kd=0===this.P&&0===this.ta?0:1):(0!==this.kd&&0===this.P&&0===this.ta&&(this.b.trigger(Ec.prototype.j.Ot,this.e),this.kd=0),1===this.kd||0===this.P&&0===this.ta||t||(this.b.trigger(Ec.prototype.j.Jt,this.e),this.kd=1)));0<this.Bg&&this.Bg--;this.qh=this.b.uf(this.e)}};
f.prototype.Dt=function(){return!0};f.prototype.xt=function(){return!0};f.prototype.Ot=function(){return!0};f.prototype.Jt=function(){return!0};f.prototype.Ft=function(){return!0};m.j=new f;t.prototype.Zt=function(f){switch(f){case 0:this.gl=!0;break;case 1:this.hl=!0;break;case 2:this.Pi=!0}};t.prototype.Xt=function(f){this.P=f};m.ya=new t;m.Fa=new function(){}})();function Fc(f){this.b=f;this.no=this.fl=this.Oi=this.mo=0}
(function(){var f=Fc.prototype;f.pa=function(f){this.behavior=f;this.b=f.b};f.pa.prototype.L=function(){};f.aa=function(f,p){this.type=f;this.behavior=f.behavior;this.e=p;this.b=f.b};var t=f.aa.prototype;t.L=function(){this.enabled=0!==this.q[0]};t.tb=function(){return{smg:this.behavior.mo,ss:this.behavior.Oi,se:this.behavior.fl,smd:this.behavior.no}};t.Pb=function(f){this.behavior.mo=f.smg;this.behavior.Oi=f.ss;this.behavior.fl=f.se;this.behavior.no=f.smd};t.Ya=function(){};t.Xi=function(){if(this.enabled){var f=
this.behavior.Gk.Xd(),p=0,q=0,t,d,a,g=0;t=0;for(d=f.length;t<d;t++){a:{a=f[t];for(var e=void 0,c=void 0,b=void 0,e=0,c=a.J.length;e<c;++e)if(b=a.J[e],b.behavior instanceof Fc){a=b;break a}a=null}a&&a.enabled&&(p+=f[t].x,q+=f[t].y,++g)}f=this.e.k.hb;d=this.b.zb.da;a=t=0;d>=this.behavior.Oi&&d<this.behavior.fl&&(t=this.behavior.mo*Math.min(this.b.mg,1),0===this.behavior.no&&(t*=1-(d-this.behavior.Oi)/(this.behavior.fl-this.behavior.Oi)),d=Math.random()*Math.PI*2,a=Math.random()*t,t=Math.cos(d)*a,a*=
Math.sin(d));f.io(p/g+t);f.jo(q/g+a)}};f.ya=new function(){}})();function qc(f){this.b=f;this.yn=[]}
(function(){function f(){}function t(){}function m(){}var p=qc.prototype;p.pa=function(f,d){this.behavior=f;this.b=f.b;-1===this.behavior.yn.indexOf(d)&&this.behavior.yn.push(d)};p.pa.prototype.L=function(){};p.aa=function(f,d){this.type=f;this.behavior=f.behavior;this.e=d;this.b=f.b};var q=p.aa.prototype;q.L=function(){this.e.H.shadowcasterEnabled=0!==this.q[0];this.e.H.shadowcasterHeight=this.q[1];this.e.H.shadowcasterTag=this.q[2]};q.Ya=function(){};f.prototype.$s=function(f,d){return ec(this.e.H.shadowcasterHeight,
f,d)};p.j=new f;t.prototype.Ut=function(f){this.e.H.shadowcasterHeight!==f&&(this.e.H.shadowcasterHeight=f,this.b.ra=!0)};p.ya=new t;m.prototype.dt=function(f){f.B(this.e.H.shadowcasterHeight)};p.Fa=new m})();function pc(f){this.b=f}
(function(){var f=pc.prototype;f.pa=function(f){this.behavior=f;this.b=f.b};f.pa.prototype.L=function(){};f.aa=function(f,p){this.type=f;this.behavior=f.behavior;this.e=p;this.b=f.b};var t=f.aa.prototype;t.L=function(){this.e.H.solidEnabled=0!==this.q[0]};t.Ya=function(){};f.j=new function(){};f.ya=new function(){}})();
function oc(){return[sc,tc,uc,vc,Ac,rc,wc,xc,yc,zc,pc,qc,Fc,Ec,Dc,rc.prototype.j.jt,rc.prototype.ya.hp,Z.prototype.j.Qo,Z.prototype.j.Zs,rc.prototype.Fa.ij,rc.prototype.Fa.jj,Ac.prototype.ya.hp,tc.prototype.j.Vo,rc.prototype.ya.St,uc.prototype.j.gt,yc.prototype.ya.ct,Z.prototype.Fa.floor,uc.prototype.Fa.ij,uc.prototype.Fa.jj,Z.prototype.ya.Tt,yc.prototype.ya.Vt,Ec.prototype.ya.Zt,tc.prototype.j.it,Ec.prototype.ya.Xt,Z.prototype.ya.Wt]};
